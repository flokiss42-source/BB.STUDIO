<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BB.STUDIO — Шаблоны & Верстка</title>
<!-- © 2026 BB.STUDIO · Beyond Birthday · Копирование без согласия запрещено -->
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=JetBrains+Mono:wght@300;400;500&family=Unbounded:wght@300;400;700;900&display=swap" rel="stylesheet">
<!-- BB.STUDIO v29 — Robokassa, бургер-меню, поиск, аналитика -->
<!-- Яндекс.Метрика -->
<script type="text/javascript">
(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
m[i].l=1*new Date();
for(var j=0;j<document.scripts.length;j++){if(document.scripts[j].src===r){return;}}
k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
// ЗАМЕНИ 12345678 НА СВОЙ ID СЧЁТЧИКА ЯНДЕКС.МЕТРИКИ
ym(12345678, "init", { clickmap:true, trackLinks:true, accurateTrackBounce:true, webvisor:true });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/12345678" style="position:absolute; left:-9999px;" alt=""/></div></noscript>
<style>
:root{
  --bg:#02020a;--surface:#08080f;--s2:#0d0d1a;
  --b1:rgba(255,255,255,.06);--b2:rgba(255,255,255,.12);
  --acc:#7c4dff;--cyan:#00e5ff;--pink:#ff3cac;--gold:#ffd166;--green:#00e5a0;--red:#ff3c6e;
  --t1:#f0eeff;--t2:rgba(240,238,255,.5);--t3:rgba(240,238,255,.2);
}
*{margin:0;padding:0;box-sizing:border-box}
/* force custom cursor on interactive elements */
html,body,a,button,.tc-btn,.dz,.mclose,.vback,.vtab,.nbuy,.btn-p,.btn-s,.vl-btn,.bpay,.bsend,.bgo,.bsm,.bret,.fchip,.tb-buy-single,.tb-buy-all{cursor:none!important}
body{font-family:'Syne',sans-serif;background:var(--bg);color:var(--t1);overflow-x:hidden;cursor:none}
#cur{position:fixed;width:8px;height:8px;background:var(--cyan);border-radius:50%;pointer-events:none;z-index:999999;transform:translate(-50%,-50%);mix-blend-mode:screen;transition:width .15s,height .15s;left:-200px;top:-200px}
#curR{position:fixed;width:32px;height:32px;border:1px solid rgba(0,229,255,.3);border-radius:50%;pointer-events:none;z-index:999998;transform:translate(-50%,-50%);transition:all .12s;left:-200px;top:-200px}
#bgC{position:fixed;inset:0;z-index:0;pointer-events:none;will-change:transform}
.tc-prev iframe{width:100%;height:320px;border:none;pointer-events:none;display:block;contain:strict}
.tc{contain:layout style}

/* ─── NAV ─── */
nav{position:fixed;top:0;left:0;right:0;z-index:200;height:64px;display:flex;align-items:center;justify-content:space-between;padding:0 48px;background:rgba(2,2,10,.93);backdrop-filter:blur(32px);border-bottom:1px solid var(--b1)}
.logo{font-family:'Unbounded',sans-serif;font-size:14px;font-weight:900;letter-spacing:.08em;background:linear-gradient(110deg,var(--acc),var(--cyan));-webkit-background-clip:text;-webkit-text-fill-color:transparent;cursor:none}
.nav-links{display:flex;gap:4px;list-style:none}
.nav-links a{font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.2em;text-transform:uppercase;color:var(--t3);text-decoration:none;padding:8px 16px;transition:color .2s,background .2s;cursor:none}
.nav-links a:hover,.nav-links a.active{color:var(--t1);background:rgba(255,255,255,.05)}
.nav-links a.active{color:var(--cyan)}
.nav-r{display:flex;align-items:center;gap:10px}
.nav-badge{font-family:'JetBrains Mono',monospace;font-size:10px;padding:6px 12px;border:1px solid rgba(0,229,160,.3);color:var(--green);background:rgba(0,229,160,.06);display:flex;align-items:center;gap:7px;letter-spacing:.1em}
.bdot{width:6px;height:6px;background:var(--green);border-radius:50%;animation:blink 2s infinite}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.2}}
.nbuy{font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.12em;text-transform:uppercase;padding:9px 18px;background:linear-gradient(135deg,var(--acc),var(--pink));color:#fff;border:none;cursor:none;transition:transform .2s,box-shadow .2s}
.nbuy:hover{transform:translateY(-1px);box-shadow:0 8px 28px rgba(124,77,255,.5)}

section{display:none;position:relative;z-index:1}
section.active{display:block}

/* ─── COPYRIGHT BAR ─── */
.cr-bar{background:rgba(124,77,255,.07);border-bottom:1px solid rgba(124,77,255,.2);padding:9px 48px;display:flex;align-items:center;gap:8px;margin-top:64px}
.cr-bar p{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.12em;color:var(--t3);text-transform:uppercase}
.cr-bar strong{color:rgba(124,77,255,.8)}

/* ─── HERO ─── */
#hero{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:80px 40px}
.h-eye{font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.5em;color:var(--cyan);text-transform:uppercase;margin-bottom:28px;opacity:0;animation:fup .8s .2s forwards}
.h-title{font-family:'Unbounded',sans-serif;font-size:clamp(48px,9vw,130px);font-weight:900;line-height:.88;letter-spacing:-.04em;margin-bottom:28px;opacity:0;animation:fup .8s .4s forwards}
.ht1{display:block;color:var(--t1)}
.ht2{display:block;background:linear-gradient(110deg,var(--pink),var(--acc),var(--cyan));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.h-sub{font-family:'JetBrains Mono',monospace;font-size:14px;color:var(--t2);line-height:2;max-width:540px;margin:0 auto 48px;opacity:0;animation:fup .8s .6s forwards}
.h-stats{display:flex;gap:48px;justify-content:center;margin-bottom:56px;opacity:0;animation:fup .8s .7s forwards}
.stat-n{font-family:'Unbounded',sans-serif;font-size:36px;font-weight:900;background:linear-gradient(110deg,var(--acc),var(--cyan));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.stat-l{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.25em;color:var(--t3);text-transform:uppercase;margin-top:4px}
.h-btns{display:flex;gap:16px;justify-content:center;flex-wrap:wrap;opacity:0;animation:fup .8s .9s forwards}
.btn-p{font-family:'JetBrains Mono',monospace;font-size:12px;letter-spacing:.18em;text-transform:uppercase;padding:16px 36px;background:linear-gradient(135deg,var(--acc),var(--pink));color:#fff;border:none;cursor:none;transition:transform .2s,box-shadow .2s;clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%)}
.btn-p:hover{transform:translateY(-3px);box-shadow:0 20px 60px rgba(124,77,255,.5)}
.btn-s{font-family:'JetBrains Mono',monospace;font-size:12px;letter-spacing:.18em;text-transform:uppercase;padding:15px 36px;border:1px solid rgba(124,77,255,.4);color:var(--acc);background:rgba(124,77,255,.06);cursor:none;transition:all .2s;clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%)}
.btn-s:hover{background:rgba(124,77,255,.18);border-color:var(--acc)}
@keyframes fup{from{opacity:0;transform:translateY(28px)}to{opacity:1;transform:translateY(0)}}

/* ─── SECTION WRAPPER ─── */
.sw{max-width:1400px;margin:0 auto;padding:100px 48px 80px}
.sh{display:flex;align-items:baseline;gap:20px;margin-bottom:16px}
.sn{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--acc);letter-spacing:.2em}
.st{font-family:'Unbounded',sans-serif;font-size:42px;font-weight:900;letter-spacing:-.03em}
.sl{flex:1;height:1px;background:var(--b1);margin-left:16px}
.sd{font-family:'JetBrains Mono',monospace;font-size:13px;color:var(--t2);line-height:1.9;margin-bottom:48px;max-width:760px}

/* ─── SECTION LABEL ─── */
.lbl{font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.35em;text-transform:uppercase;color:var(--t3);margin-bottom:20px;display:flex;align-items:center;gap:14px}
.lbl::after{content:'';flex:1;height:1px;background:var(--b1)}

/* ─── TEMPLATE GRID ─── */
.tgrid{display:grid;grid-template-columns:repeat(auto-fill,minmax(420px,1fr));gap:2px;margin-bottom:64px}

/* ─── TEMPLATE CARD ─── */
.tc{background:var(--surface);overflow:hidden;transition:transform .3s,box-shadow .3s;position:relative}
.tc:hover{transform:translateY(-6px);box-shadow:0 20px 60px rgba(0,0,0,.5);z-index:2}

/* preview area — ALWAYS visible */
.tc-prev{width:100%;border:1px solid var(--b1);overflow:hidden;position:relative;background:var(--s2)}
.tc-prev iframe{width:100%;height:320px;border:none;pointer-events:none;display:block}

/* locked badge — overlay but preview still visible */
.tc-lock-badge{
  position:absolute;bottom:12px;right:12px;
  font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.15em;
  padding:5px 12px;background:rgba(2,2,10,.85);border:1px solid rgba(255,209,102,.4);
  color:var(--gold);text-transform:uppercase;backdrop-filter:blur(8px)
}

/* info */
.tc-info{padding:22px 26px 20px;border:1px solid var(--b1);border-top:none}
.tc-row1{display:flex;align-items:flex-start;justify-content:space-between;gap:8px;margin-bottom:8px}
.tc-name{font-family:'Unbounded',sans-serif;font-size:15px;font-weight:700}
.tc-badge{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.1em;padding:4px 10px;text-transform:uppercase;flex-shrink:0}
.bg-free{color:var(--green);border:1px solid rgba(0,229,160,.4);background:rgba(0,229,160,.07)}
.bg-paid{color:var(--gold);border:1px solid rgba(255,209,102,.35);background:rgba(255,209,102,.06)}
.tc-tech{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--t3);margin-bottom:10px}
.tc-desc{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin-bottom:16px}
.tc-price{font-family:'Unbounded',sans-serif;font-size:17px;font-weight:700;margin-bottom:14px}
.pf{color:var(--green)}.pp{color:var(--gold)}
.tc-btn{width:100%;padding:11px;font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.12em;text-transform:uppercase;border:none;cursor:none;transition:all .2s}
.tb-open{background:linear-gradient(135deg,var(--acc),var(--cyan));color:#fff}
.tb-open:hover{transform:translateY(-1px);box-shadow:0 6px 20px rgba(124,77,255,.4)}
.tb-buy{background:rgba(255,209,102,.1);color:var(--gold);border:1px solid rgba(255,209,102,.3)}
.tb-buy:hover{background:rgba(255,209,102,.2);border-color:var(--gold)}
.tc-btns-row{display:grid;grid-template-columns:1fr 1fr;gap:6px}
.tc-btns-row .tc-btn{font-size:10px;letter-spacing:.08em;padding:10px 6px}
.tb-buy-single{background:rgba(255,209,102,.1);color:var(--gold);border:1px solid rgba(255,209,102,.3);transition:all .2s}
.tb-buy-single:hover{background:rgba(255,209,102,.22);border-color:var(--gold);transform:translateY(-1px)}
.tb-buy-all{background:rgba(124,77,255,.1);color:var(--acc);border:1px solid rgba(124,77,255,.3);transition:all .2s}
.tb-buy-all:hover{background:rgba(124,77,255,.22);border-color:var(--acc);transform:translateY(-1px)}

/* ─── VIEWER ─── */
.vov{position:fixed;inset:0;z-index:500;background:#02020a;opacity:0;pointer-events:none;transition:opacity .3s;display:flex;flex-direction:column}
.vov.open{opacity:1;pointer-events:all}
.vbar{height:58px;display:flex;align-items:center;padding:0 24px;border-bottom:1px solid var(--b1);gap:12px;flex-shrink:0;background:rgba(8,8,15,.95)}
.vback{font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.15em;text-transform:uppercase;color:var(--t3);background:transparent;border:1px solid var(--b2);padding:8px 16px;cursor:none;transition:all .2s}
.vback:hover{color:var(--t1);border-color:var(--t2)}
.vtitle{font-family:'Unbounded',sans-serif;font-size:13px;font-weight:700}
.vdiv{width:1px;height:22px;background:var(--b2)}
.vtabs{display:flex;gap:4px;margin-left:auto}
.vtab{font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.1em;text-transform:uppercase;padding:7px 16px;background:transparent;border:1px solid var(--b1);color:var(--t3);cursor:none;transition:all .2s}
.vtab.on,.vtab:hover{color:var(--cyan);border-color:rgba(0,229,255,.4);background:rgba(0,229,255,.06)}
.vbody{flex:1;overflow:hidden;position:relative}
.vpane{display:none;width:100%;height:100%}
.vpane.on{display:block}
#vframe{width:100%;height:100%;border:none}

/* code pane */
.vcode{height:100%;overflow-y:auto;padding:44px 56px;scrollbar-width:thin;scrollbar-color:var(--b2) transparent}
.vcode::-webkit-scrollbar{width:4px}
.vcode::-webkit-scrollbar-thumb{background:var(--b2)}
.cs-sec{margin-bottom:60px}
.cs-tag{font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.3em;color:var(--acc);text-transform:uppercase;margin-bottom:8px}
.cs-title{font-family:'Unbounded',sans-serif;font-size:24px;font-weight:700;margin-bottom:10px;line-height:1.1}
.cs-desc{font-family:'JetBrains Mono',monospace;font-size:13px;color:var(--t2);line-height:2;margin-bottom:20px}
.cb{background:var(--s2);border:1px solid var(--b2);border-left:3px solid var(--acc);padding:24px 28px;font-family:'JetBrains Mono',monospace;font-size:12px;color:#a8d8ff;line-height:1.9;overflow-x:auto;position:relative;white-space:pre}
.clbl{position:absolute;top:10px;right:12px;font-size:10px;letter-spacing:.15em;color:var(--t3);text-transform:uppercase}
.tip{border:1px solid rgba(0,229,160,.25);background:rgba(0,229,160,.04);padding:16px 20px;margin-top:16px;display:flex;gap:12px}
.tip p{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.9}
.tip p strong{color:var(--green)}
/* screenshot pane */
.vss{height:100%;overflow-y:auto;padding:44px 56px}
.vss-img{width:100%;border:1px solid var(--b2);border-radius:2px;display:block;margin-bottom:28px;background:var(--s2);min-height:300px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:16px}
.vss-caption{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.9;margin-bottom:32px}

/* locked pane */
.vlocked{height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:20px;padding:40px;text-align:center}
.vl-icon{font-size:72px}
.vl-title{font-family:'Unbounded',sans-serif;font-size:28px;font-weight:900}
.vl-price{font-family:'Unbounded',sans-serif;font-size:24px;font-weight:900;color:var(--gold)}
.vl-sub{font-family:'JetBrains Mono',monospace;font-size:13px;color:var(--t2);line-height:2;max-width:480px}
.vl-btn{font-family:'JetBrains Mono',monospace;font-size:13px;letter-spacing:.2em;text-transform:uppercase;padding:18px 52px;background:linear-gradient(135deg,var(--acc),var(--pink));color:#fff;border:none;cursor:none;transition:transform .2s,box-shadow .2s;margin-top:4px}
.vl-btn:hover{transform:translateY(-2px);box-shadow:0 16px 48px rgba(124,77,255,.5)}

/* ─── PAYMENT MODAL ─── */
.mov{position:fixed;inset:0;z-index:1000;background:rgba(2,2,10,.97);backdrop-filter:blur(24px);display:flex;align-items:center;justify-content:center;padding:20px;opacity:0;pointer-events:none;transition:opacity .3s}
.mov.open{opacity:1;pointer-events:all}
.mbox{background:var(--surface);border:1px solid var(--b2);width:100%;max-width:520px;position:relative;overflow:hidden;max-height:90vh;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--b2) transparent}
.mbox::-webkit-scrollbar{width:3px}
.mbox::-webkit-scrollbar-thumb{background:var(--b2)}
.mtop{position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--acc),var(--pink),var(--cyan))}
.mclose{position:absolute;top:18px;right:18px;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border:1px solid var(--b2);background:transparent;color:var(--t3);font-size:18px;cursor:none;transition:all .2s;z-index:2}
.mclose:hover{color:var(--t1);border-color:var(--t2)}
.min{padding:42px 40px 34px}
.ms{display:none}
.ms.on{display:block}
.mi{font-size:40px;margin-bottom:20px;display:block}
.mh{font-family:'Unbounded',sans-serif;font-size:22px;font-weight:900;letter-spacing:-.02em;margin-bottom:10px}
.mb{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.9;margin-bottom:24px}
.pr{display:flex;align-items:baseline;gap:12px;margin-bottom:24px}
.pm{font-family:'Unbounded',sans-serif;font-size:38px;font-weight:900;background:linear-gradient(110deg,var(--acc),var(--cyan));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.po{font-family:'JetBrains Mono',monospace;font-size:16px;color:var(--t3);text-decoration:line-through}
.psa{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--green);background:rgba(0,229,160,.1);border:1px solid rgba(0,229,160,.25);padding:4px 10px}
ul.pk{list-style:none;margin-bottom:28px}
ul.pk li{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);padding:9px 0;border-bottom:1px solid var(--b1);display:flex;align-items:center;gap:12px}
ul.pk li:last-child{border-bottom:none}
ul.pk li::before{content:'✦';color:var(--cyan);font-size:10px;flex-shrink:0}
.bpay{width:100%;padding:18px;font-family:'JetBrains Mono',monospace;font-size:13px;letter-spacing:.2em;text-transform:uppercase;background:linear-gradient(135deg,var(--acc),var(--pink));color:#fff;border:none;cursor:none;transition:transform .2s,box-shadow .2s;display:flex;align-items:center;justify-content:center;gap:12px;text-decoration:none;margin-bottom:16px}
.bpay:hover{transform:translateY(-2px);box-shadow:0 16px 48px rgba(124,77,255,.5)}
.ws{display:flex;align-items:center;gap:10px;font-family:'JetBrains Mono',monospace;font-size:11px;padding:11px 16px;border:1px solid var(--b1);margin-bottom:16px}
.wsd{width:8px;height:8px;border-radius:50%;flex-shrink:0}
.wsd.on{background:var(--green);animation:blink 2s infinite}.wsd.off{background:var(--gold)}
.wst{color:var(--t2)}
.thint{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--t3);text-align:center}
.thint a{color:var(--cyan);text-decoration:none}
.dz{border:1px dashed rgba(124,77,255,.4);background:rgba(124,77,255,.04);padding:36px 24px;text-align:center;margin-bottom:20px;transition:all .25s;cursor:none}
.dz.ov{border-color:var(--cyan);background:rgba(0,229,255,.06)}
.dz.done{border-color:var(--green);background:rgba(0,229,160,.06)}
.dz-ic{font-size:32px;display:block;margin-bottom:10px}
.dz-lb{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2)}
.dz-lb strong{color:var(--t1)}
.dz-ht{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--t3);margin-top:6px}
#fInp{display:none}
.bsend{width:100%;padding:16px;font-family:'JetBrains Mono',monospace;font-size:13px;letter-spacing:.2em;text-transform:uppercase;background:linear-gradient(135deg,var(--acc),var(--cyan));color:#fff;border:none;cursor:none;transition:all .2s;margin-bottom:16px;opacity:.35;pointer-events:none}
.bsend.rdy{opacity:1;pointer-events:all}
.bsend.rdy:hover{transform:translateY(-2px);box-shadow:0 12px 40px rgba(0,229,255,.3)}
.fn{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--green);margin-bottom:14px;display:none;word-break:break-all}
.pdots{display:flex;justify-content:center;gap:8px;margin:24px 0}
.pd{width:10px;height:10px;border-radius:50%;background:var(--acc)}
.pd:nth-child(1){animation:dp 1.4s 0s ease-in-out infinite}
.pd:nth-child(2){animation:dp 1.4s .2s ease-in-out infinite}
.pd:nth-child(3){animation:dp 1.4s .4s ease-in-out infinite}
@keyframes dp{0%,80%,100%{transform:scale(.6);opacity:.4}40%{transform:scale(1);opacity:1}}
.si{font-size:64px;display:block;text-align:center;margin:8px 0 20px;animation:pop .5s cubic-bezier(.34,1.56,.64,1) forwards}
@keyframes pop{0%{transform:scale(0)}100%{transform:scale(1)}}
.bgo{width:100%;padding:16px;font-family:'JetBrains Mono',monospace;font-size:13px;letter-spacing:.2em;text-transform:uppercase;background:linear-gradient(135deg,var(--green),var(--cyan));color:var(--bg);border:none;cursor:none;font-weight:700;margin-bottom:12px;transition:transform .2s}
.bgo:hover{transform:translateY(-2px)}
.bsm{width:100%;padding:13px;font-family:'JetBrains Mono',monospace;font-size:12px;letter-spacing:.15em;text-transform:uppercase;border:1px solid rgba(124,77,255,.4);background:rgba(124,77,255,.06);color:var(--acc);cursor:none;transition:all .2s;margin-bottom:10px;text-decoration:none;display:block;text-align:center}
.bsm:hover{background:rgba(124,77,255,.16)}
.rr{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--red);background:rgba(255,60,110,.06);border:1px solid rgba(255,60,110,.25);padding:14px 18px;margin-bottom:20px;line-height:1.8}
.bret{width:100%;padding:13px;font-family:'JetBrains Mono',monospace;font-size:12px;letter-spacing:.15em;text-transform:uppercase;border:1px solid rgba(255,60,110,.4);background:rgba(255,60,110,.06);color:var(--red);cursor:none;transition:all .2s;margin-bottom:10px}
.bret:hover{background:rgba(255,60,110,.16)}
.msep{height:1px;background:var(--b1);margin:20px 0}

/* ─── BANK BUTTONS ─── */
.bank-btns{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin:14px 0}
.bank-btn{display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 8px;font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.12em;font-weight:700;text-decoration:none;transition:all .2s;border:1px solid transparent;cursor:none}
.bank-btn.sber{background:rgba(33,160,56,.12);color:#21A038;border-color:rgba(33,160,56,.3)}
.bank-btn.sber:hover{background:rgba(33,160,56,.25);border-color:#21A038}
.bank-btn.tinkoff{background:rgba(255,221,45,.1);color:#c8a800;border-color:rgba(255,221,45,.3)}
.bank-btn.tinkoff:hover{background:rgba(255,221,45,.22);border-color:#FFDD2D}
.bank-btn.ozon{background:rgba(0,91,255,.12);color:#4d8fff;border-color:rgba(0,91,255,.3)}
.bank-btn.ozon:hover{background:rgba(0,91,255,.22);border-color:#005BFF}

/* ─── FLAGSHIP BADGE ─── */
.tc-flagship{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.12em;padding:4px 12px;background:linear-gradient(135deg,rgba(255,209,102,.15),rgba(255,60,172,.1));color:var(--gold);border:1px solid rgba(255,209,102,.4);text-transform:uppercase;margin-bottom:10px;display:inline-flex;align-items:center;gap:6px}


/* ─── ABOUT ─── */
#about{min-height:100vh}
.aw{max-width:1200px;margin:0 auto;padding:100px 48px 80px}
.ag{display:grid;grid-template-columns:1fr 1fr;gap:80px;align-items:start}
.atag{font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.4em;color:var(--pink);text-transform:uppercase;margin-bottom:24px}
.aname{font-family:'Unbounded',sans-serif;font-size:52px;font-weight:900;line-height:.9;letter-spacing:-.03em;margin-bottom:24px}
.aname span{display:block;background:linear-gradient(110deg,var(--acc),var(--cyan));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.abio{font-family:'JetBrains Mono',monospace;font-size:13px;color:var(--t2);line-height:2.1;margin-bottom:32px}
.ask{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:32px}
.sk{font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.12em;padding:6px 14px;border:1px solid var(--b2);color:var(--t3)}
.tgbtn{display:inline-flex;align-items:center;gap:14px;font-family:'JetBrains Mono',monospace;font-size:13px;letter-spacing:.2em;text-transform:uppercase;text-decoration:none;color:var(--cyan);border:1px solid rgba(0,229,255,.3);background:rgba(0,229,255,.04);padding:16px 28px;cursor:none;transition:all .2s}
.tgbtn:hover{background:rgba(0,229,255,.12);border-color:var(--cyan)}
.plbl{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.3em;text-transform:uppercase;color:var(--t3);margin-bottom:16px}
.pc{background:var(--surface);border:1px solid var(--b1);padding:32px;position:relative;overflow:hidden;transition:border-color .3s,transform .25s;text-decoration:none;display:block;cursor:none;margin-bottom:16px}
.pc::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at 80% 20%,rgba(124,77,255,.1),transparent 60%);pointer-events:none;opacity:0;transition:opacity .3s}
.pc:hover{border-color:var(--b2);transform:translateY(-2px)}.pc:hover::before{opacity:1}
.pct{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.25em;text-transform:uppercase;color:var(--acc);margin-bottom:10px}
.pcn{font-family:'Unbounded',sans-serif;font-size:24px;font-weight:700;color:var(--t1);margin-bottom:8px;transition:color .2s}
.pc:hover .pcn{color:var(--cyan)}
.pcd{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin-bottom:20px}
.pca{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--acc);letter-spacing:.2em;transition:letter-spacing .3s}
.pc:hover .pca{letter-spacing:.4em}
.ctb{background:var(--surface);border:1px solid var(--b2);padding:32px;margin-top:24px}
.ctl{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.3em;text-transform:uppercase;color:var(--t3);margin-bottom:12px}
.ctg{font-family:'Unbounded',sans-serif;font-size:22px;font-weight:700;color:var(--cyan)}

/* ─── ABOUT EXTRAS ─── */
.about-label{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.35em;text-transform:uppercase;color:var(--t3);margin-bottom:14px;display:flex;align-items:center;gap:12px}
.about-label::after{content:'';flex:1;height:1px;background:var(--b1)}
.about-list{display:flex;flex-direction:column;gap:14px;margin-bottom:36px}
.about-item{display:flex;align-items:flex-start;gap:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.7;padding:14px 16px;border:1px solid var(--b1);background:rgba(255,255,255,.015);transition:border-color .2s}
.about-item:hover{border-color:rgba(0,229,255,.15)}
.about-arrow{color:var(--cyan);flex-shrink:0;font-size:14px;margin-top:1px}

/* ─── BB CANVAS CARD ─── */
.bb-card{padding:0;overflow:hidden;cursor:default;pointer-events:auto;border-color:rgba(0,229,255,.18)}
.bb-card:hover{border-color:rgba(0,229,255,.4);transform:translateY(-2px)}
.bb-canvas{width:100%;height:160px;display:block;background:#020210}
.bb-overlay-text{position:absolute;top:0;left:0;right:0;height:160px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;pointer-events:none}
.bb-name-1{font-family:'Unbounded',sans-serif;font-size:24px;font-weight:900;letter-spacing:-.02em;background:linear-gradient(110deg,#7c4dff,#00e5ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;line-height:1}
.bb-name-2{font-family:'Unbounded',sans-serif;font-size:24px;font-weight:900;letter-spacing:-.02em;background:linear-gradient(110deg,#00e5ff,#ff3cac);-webkit-background-clip:text;-webkit-text-fill-color:transparent;line-height:1;margin-bottom:6px}
.bb-url-text{font-family:'JetBrains Mono',monospace;font-size:9px;letter-spacing:.3em;color:rgba(0,229,255,.45);text-transform:uppercase}
.bb-btn-row{padding:0 26px 22px}
.bb-open-btn{display:block;width:100%;padding:11px;font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.15em;text-transform:uppercase;text-align:center;background:linear-gradient(135deg,var(--acc),var(--cyan));color:#fff;text-decoration:none;transition:opacity .2s;border:none}
.bb-open-btn:hover{opacity:.85}

/* ─── FOOTER ─── */
footer{position:relative;z-index:1;padding:40px 48px;border-top:1px solid var(--b1);display:flex;align-items:center;justify-content:space-between}
.fc{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--t3);letter-spacing:.1em}
.fc span{color:var(--acc)}
.fl{display:flex;gap:24px}
.fl a{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--t3);text-decoration:none;letter-spacing:.15em;transition:color .2s;cursor:none}
.fl a:hover{color:var(--t1)}

.tc-btns-row{display:grid;grid-template-columns:1fr 1fr;gap:6px}
.tb-buy-single{background:linear-gradient(135deg,var(--acc),var(--pink));color:#fff;border:none}
.tb-buy-single:hover{transform:translateY(-1px);box-shadow:0 6px 20px rgba(124,77,255,.4)}
.tb-buy-all{background:rgba(255,255,255,.04);color:var(--t2);border:1px solid var(--b2)}
.tb-buy-all:hover{background:rgba(255,255,255,.08);color:var(--t1)}

/* ─── FLAGSHIP CARD ─── */
.tc-big{border:1px solid rgba(255,209,102,.15)}
.tc-big:hover{box-shadow:0 20px 60px rgba(255,209,102,.1)}
.tc-premium-tag{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.25em;text-transform:uppercase;color:var(--gold);background:rgba(255,209,102,.06);border:1px solid rgba(255,209,102,.2);padding:5px 12px;display:inline-block;margin-bottom:10px}

/* filter chips */
.fchips{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:32px}
.fchip{font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.15em;text-transform:uppercase;padding:7px 18px;border:1px solid var(--b1);color:var(--t3);background:transparent;cursor:none;transition:all .2s}
.fchip.on,.fchip:hover{border-color:rgba(124,77,255,.5);color:var(--acc);background:rgba(124,77,255,.08)}

/* single-buy section */
.single-section{border-top:1px solid var(--b1);padding-top:64px;margin-top:16px}
.single-section .lbl{margin-bottom:8px}
.single-section .sd{margin-bottom:28px}

/* ─── SPB PAYMENT ─── */
.spb-box{background:rgba(0,229,255,.04);border:1px solid rgba(0,229,255,.18);padding:22px 24px;margin-bottom:18px}
.spb-head{font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.25em;text-transform:uppercase;color:var(--cyan);margin-bottom:16px}
.spb-steps{display:flex;flex-direction:column;gap:10px;margin-bottom:18px}
.spb-step{display:flex;align-items:flex-start;gap:12px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.6}
.spb-n{width:22px;height:22px;border-radius:50%;background:rgba(0,229,255,.15);border:1px solid rgba(0,229,255,.3);color:var(--cyan);display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;flex-shrink:0}
.spb-copy{width:100%;padding:13px;font-family:'JetBrains Mono',monospace;font-size:12px;letter-spacing:.18em;text-transform:uppercase;background:rgba(0,229,255,.08);color:var(--cyan);border:1px solid rgba(0,229,255,.35);cursor:none;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:10px;margin-bottom:10px}
.spb-copy:hover{background:rgba(0,229,255,.18);border-color:var(--cyan)}
.spb-copy.copied{background:rgba(0,229,160,.1);color:var(--green);border-color:rgba(0,229,160,.4)}
.spb-hint{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--t3);letter-spacing:.1em;text-align:center}

@media(max-width:768px){
  nav{padding:0 20px}.nav-links{display:none}.nav-r{gap:8px}.nbuy{font-size:10px;padding:8px 12px}
  .sw,.aw{padding:80px 24px 60px}.ag{grid-template-columns:1fr}.tgrid{grid-template-columns:1fr}
  footer{flex-direction:column;gap:16px;text-align:center}.vcode,.vss{padding:24px}.cr-bar{padding:9px 24px}
  .nav-r .nav-badge{display:none}
  .mob-menu.open .nav-links{display:flex;flex-direction:column;position:fixed;top:64px;left:0;right:0;background:rgba(2,2,10,.98);backdrop-filter:blur(32px);padding:16px 20px 24px;border-bottom:1px solid var(--b1);gap:2px;z-index:199}
  .mob-menu.open .nav-links a{font-size:13px;padding:12px 16px;color:var(--t2)}
}

/* ─── BURGER MENU ─── */
.burger{display:none;flex-direction:column;gap:5px;background:transparent;border:none;cursor:none;padding:8px;z-index:201}
.burger span{display:block;width:22px;height:2px;background:var(--t2);transition:all .25s;transform-origin:center}
.burger.open span:nth-child(1){transform:translateY(7px) rotate(45deg)}
.burger.open span:nth-child(2){opacity:0;transform:scaleX(0)}
.burger.open span:nth-child(3){transform:translateY(-7px) rotate(-45deg)}
@media(max-width:768px){.burger{display:flex}}

/* ─── SEARCH ─── */
.search-wrap{position:relative;margin-bottom:32px;max-width:520px}
.search-inp{width:100%;padding:12px 44px 12px 18px;font-family:'JetBrains Mono',monospace;font-size:12px;letter-spacing:.08em;background:var(--surface);border:1px solid var(--b1);color:var(--t1);outline:none;transition:border-color .2s}
.search-inp:focus{border-color:rgba(124,77,255,.5)}
.search-inp::placeholder{color:var(--t3)}
.search-clear{position:absolute;right:14px;top:50%;transform:translateY(-50%);color:var(--t3);background:transparent;border:none;cursor:none;font-size:16px;display:none;transition:color .2s}
.search-clear:hover{color:var(--t1)}
.search-results-count{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--t3);letter-spacing:.15em;margin-bottom:16px;display:none}
.no-results{font-family:'JetBrains Mono',monospace;font-size:13px;color:var(--t3);text-align:center;padding:48px 0;display:none}

/* ─── LAZY PREVIEW ─── */
.tc-prev-lazy{width:100%;border:1px solid var(--b1);overflow:hidden;position:relative;background:var(--s2);height:320px;cursor:none}
.tc-prev-lazy .prev-placeholder{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;background:linear-gradient(135deg,var(--s2),rgba(124,77,255,.06));transition:background .3s}
.tc-prev-lazy:hover .prev-placeholder{background:linear-gradient(135deg,var(--s2),rgba(124,77,255,.1))}
.prev-icon{font-size:36px;opacity:.4}
.prev-label{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--t3);letter-spacing:.15em;text-transform:uppercase}
.prev-play{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.2em;text-transform:uppercase;color:var(--acc);border:1px solid rgba(124,77,255,.4);padding:6px 18px;margin-top:4px}
.tc-prev-lazy iframe{position:absolute;inset:0;width:100%;height:100%;border:none;display:none}
.tc-prev-lazy.loaded .prev-placeholder{display:none}
.tc-prev-lazy.loaded iframe{display:block}

/* ─── ROBOKASSA — способы оплаты ─── */
.yk-methods{margin:18px 0 14px}
.yk-method-label{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.2em;text-transform:uppercase;color:var(--t3);margin-bottom:10px}
.yk-badges{display:flex;flex-wrap:wrap;gap:6px}
.yk-badge{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.1em;padding:4px 10px;border:1px solid rgba(124,77,255,.25);color:var(--t2);background:rgba(124,77,255,.06)}
.yk-pay-link{display:flex;align-items:center;justify-content:center;gap:10px;width:100%;padding:13px;font-family:'JetBrains Mono',monospace;font-size:12px;letter-spacing:.15em;text-transform:uppercase;border:1px solid rgba(0,229,255,.3);color:var(--cyan);background:rgba(0,229,255,.06);text-decoration:none;transition:all .2s;margin-bottom:8px}
.yk-pay-link:hover{background:rgba(0,229,255,.14);border-color:var(--cyan)}

/* ─── DEMO BUTTON ─── */
.tb-demo{background:rgba(0,229,255,.06);color:var(--cyan);border:1px solid rgba(0,229,255,.25);transition:all .2s}
.tb-demo:hover{background:rgba(0,229,255,.16);border-color:var(--cyan);transform:translateY(-1px)}

/* ─── REVIEWS SECTION ─── */
#reviews{background:var(--bg)}
.rev-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:2px;margin-bottom:64px}
.rev-card{background:var(--surface);border:1px solid var(--b1);padding:32px;position:relative;overflow:hidden;transition:border-color .3s,transform .25s}
.rev-card:hover{border-color:rgba(124,77,255,.3);transform:translateY(-3px)}
.rev-card::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,var(--acc),var(--cyan))}
.rev-stars{display:flex;gap:4px;margin-bottom:14px}
.rev-star{color:var(--gold);font-size:13px}
.rev-text{font-family:'JetBrains Mono',monospace;font-size:13px;color:var(--t2);line-height:2;margin-bottom:20px;position:relative}
.rev-text::before{content:'"';font-family:'Unbounded',sans-serif;font-size:48px;color:rgba(124,77,255,.15);position:absolute;top:-12px;left:-8px;line-height:1}
.rev-author{display:flex;align-items:center;gap:14px;border-top:1px solid var(--b1);padding-top:18px;margin-top:auto}
.rev-avatar{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;border:1px solid var(--b1)}
.rev-info{}
.rev-name{font-family:'Unbounded',sans-serif;font-size:12px;font-weight:700;color:var(--t1);margin-bottom:2px}
.rev-meta{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--t3);letter-spacing:.1em}
.rev-template{display:inline-block;font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.12em;padding:3px 10px;border:1px solid rgba(124,77,255,.3);color:var(--acc);background:rgba(124,77,255,.06);margin-bottom:14px;text-transform:uppercase}
.portfolio-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:2px;margin-top:40px}
.portfolio-item{background:var(--surface);border:1px solid var(--b1);overflow:hidden;position:relative;transition:border-color .3s,transform .25s}
.portfolio-item:hover{border-color:rgba(0,229,255,.3);transform:translateY(-4px)}
.portfolio-thumb{width:100%;height:180px;display:flex;align-items:center;justify-content:center;font-size:48px;background:linear-gradient(135deg,var(--s2),rgba(124,77,255,.08))}
.portfolio-info{padding:18px 20px}
.portfolio-site{font-family:'Unbounded',sans-serif;font-size:13px;font-weight:700;color:var(--t1);margin-bottom:4px}
.portfolio-niche{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.2em;color:var(--t3);text-transform:uppercase;margin-bottom:8px}
.portfolio-tag{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.12em;padding:3px 10px;border:1px solid rgba(0,229,160,.25);color:var(--green);background:rgba(0,229,160,.05)}
.rev-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:2px;margin-bottom:56px}
.rev-stat{background:var(--surface);border:1px solid var(--b1);padding:28px 24px;text-align:center}
.rev-stat-n{font-family:'Unbounded',sans-serif;font-size:36px;font-weight:900;background:linear-gradient(110deg,var(--acc),var(--cyan));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.rev-stat-l{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.25em;color:var(--t3);text-transform:uppercase;margin-top:6px}

/* ─── CALCULATOR / CONFIGURATOR ─── */
#calc{background:var(--surface)}
.cfg-shell{display:grid;grid-template-columns:1fr 360px;gap:48px;align-items:start}
@media(max-width:1024px){.cfg-shell{grid-template-columns:1fr}}
.cfg-left{display:flex;flex-direction:column;gap:48px}
.cfg-step{}
.cfg-step-head{display:flex;align-items:center;gap:16px;margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid var(--b1)}
.cfg-step-num{font-family:'Unbounded',sans-serif;font-size:11px;font-weight:900;color:var(--acc);background:rgba(124,77,255,.1);border:1px solid rgba(124,77,255,.3);width:36px;height:36px;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.cfg-step-title{font-family:'Unbounded',sans-serif;font-size:18px;font-weight:700}

/* type cards */
.cfg-cards{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
@media(max-width:768px){.cfg-cards{grid-template-columns:repeat(2,1fr)}}
.cfg-card{background:var(--bg);border:2px solid var(--b1);padding:20px 16px;cursor:none;transition:all .2s;text-align:center;position:relative}
.cfg-card:hover{border-color:rgba(124,77,255,.4);background:rgba(124,77,255,.04);transform:translateY(-2px)}
.cfg-card.on{border-color:var(--acc);background:rgba(124,77,255,.08)}
.cfg-card.on::after{content:'✓';position:absolute;top:8px;right:10px;font-size:11px;color:var(--acc);font-weight:700}
.cfg-card-icon{font-size:28px;margin-bottom:8px}
.cfg-card-name{font-family:'Unbounded',sans-serif;font-size:12px;font-weight:700;margin-bottom:4px;color:var(--t1)}
.cfg-card-desc{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--t3);line-height:1.6;margin-bottom:8px}
.cfg-card-price{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--gold);letter-spacing:.05em}

/* tech toggles */
.cfg-tech-grid{display:flex;flex-direction:column;gap:6px}
.cfg-tech{display:flex;align-items:center;gap:14px;padding:14px 18px;border:1px solid var(--b1);background:var(--bg);cursor:none;transition:all .2s;position:relative}
.cfg-tech:hover{border-color:rgba(124,77,255,.4);background:rgba(124,77,255,.04)}
.cfg-tech.on{border-color:var(--acc);background:rgba(124,77,255,.07)}
.cfg-tech-icon{font-size:22px;flex-shrink:0;width:36px;text-align:center}
.cfg-tech-body{flex:1}
.cfg-tech-name{font-family:'Unbounded',sans-serif;font-size:12px;font-weight:700;color:var(--t1);margin-bottom:2px}
.cfg-tech-desc{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--t3);line-height:1.5}
.cfg-tech-price{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--gold);flex-shrink:0;margin-right:8px}
.cfg-tech-check{width:22px;height:22px;border:2px solid var(--b2);display:flex;align-items:center;justify-content:center;font-size:12px;color:var(--acc);flex-shrink:0;transition:all .2s;background:transparent;font-weight:700}
.cfg-tech.on .cfg-tech-check{border-color:var(--acc);background:rgba(124,77,255,.2)}
.cfg-tech:not(.on) .cfg-tech-check{color:transparent}

/* pages */
.cfg-pages{display:flex;flex-direction:column;gap:4px}
.cfg-page-row{display:flex;align-items:center;justify-content:space-between;padding:14px 18px;border:1px solid var(--b1);background:var(--bg);cursor:none;transition:all .2s;gap:12px}
.cfg-page-row[data-key]:hover{border-color:rgba(124,77,255,.4);background:rgba(124,77,255,.04)}
.cfg-page-row.on{border-color:var(--acc);background:rgba(124,77,255,.07)}
.cfg-page-info{flex:1}
.cfg-page-name{font-family:'JetBrains Mono',monospace;font-size:12px;font-weight:500;color:var(--t1);margin-bottom:2px}
.cfg-page-desc{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--t3)}
.cfg-page-badge{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.15em;color:var(--green);border:1px solid rgba(0,229,160,.3);padding:3px 10px;flex-shrink:0}
.cfg-page-add{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--t3);flex-shrink:0;transition:color .2s;letter-spacing:.05em}
.cfg-page-row.on .cfg-page-add{color:var(--acc)}
.cfg-page-row.on .cfg-page-add::before{content:'✓ '}

/* services */
.cfg-services{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
@media(max-width:768px){.cfg-services{grid-template-columns:1fr}}
.cfg-svc{display:flex;align-items:flex-start;gap:12px;padding:16px;border:1px solid var(--b1);background:var(--bg);cursor:none;transition:all .2s;position:relative}
.cfg-svc:hover{border-color:rgba(124,77,255,.4);background:rgba(124,77,255,.04)}
.cfg-svc.on{border-color:var(--acc);background:rgba(124,77,255,.07)}
.cfg-svc input{position:absolute;opacity:0;width:0;height:0}
.cfg-svc-body{flex:1}
.cfg-svc-name{font-family:'JetBrains Mono',monospace;font-size:12px;font-weight:600;color:var(--t1);margin-bottom:4px}
.cfg-svc-desc{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--t3);line-height:1.6}
.cfg-svc-price{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--gold);flex-shrink:0;margin-top:2px}

/* result panel */
.cfg-right{}
.cfg-result{background:var(--bg);border:1px solid rgba(124,77,255,.25);padding:32px;position:sticky;top:80px}
.cfg-result-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px}
.cfg-result-label{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.3em;text-transform:uppercase;color:var(--t3)}
.cfg-reset{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.15em;text-transform:uppercase;color:var(--t3);background:transparent;border:1px solid var(--b1);padding:5px 12px;cursor:none;transition:all .2s}
.cfg-reset:hover{color:var(--red);border-color:rgba(255,60,110,.4)}
.cfg-result-price-wrap{margin-bottom:20px;padding-bottom:20px;border-bottom:1px solid var(--b1)}
.cfg-result-from{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.2em;color:var(--t3);text-transform:uppercase;margin-bottom:4px}
.cfg-result-price{font-family:'Unbounded',sans-serif;font-size:44px;font-weight:900;background:linear-gradient(110deg,var(--acc),var(--cyan));-webkit-background-clip:text;-webkit-text-fill-color:transparent;line-height:1;transition:all .3s}
.cfg-result-note-small{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--t3);margin-top:6px;letter-spacing:.05em}
.cfg-result-items{display:flex;flex-direction:column;gap:4px;margin-bottom:16px;max-height:200px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--b2) transparent}
.cfg-item-row{display:flex;align-items:center;justify-content:space-between;font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--t2);padding:6px 0;border-bottom:1px solid rgba(255,255,255,.03)}
.cfg-item-row:last-child{border:none}
.cfg-item-row span:last-child{color:var(--gold);flex-shrink:0;margin-left:8px}
.cfg-result-divider{height:1px;background:var(--b1);margin:16px 0}
.cfg-included-title{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.2em;text-transform:uppercase;color:var(--t3);margin-bottom:10px}
.cfg-inc-row{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--t2);line-height:1.9}
.cfg-inc-row::first-letter{color:var(--green)}
.cfg-order-btn{width:100%;padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;letter-spacing:.2em;text-transform:uppercase;background:linear-gradient(135deg,var(--acc),var(--pink));color:#fff;border:none;cursor:none;transition:transform .2s,box-shadow .2s;margin-bottom:8px;display:block}
.cfg-order-btn:hover{transform:translateY(-2px);box-shadow:0 12px 40px rgba(124,77,255,.4)}
.cfg-tg-btn{display:flex;align-items:center;justify-content:center;gap:10px;width:100%;padding:12px;font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.15em;text-transform:uppercase;border:1px solid rgba(0,229,255,.3);color:var(--cyan);background:rgba(0,229,255,.06);text-decoration:none;transition:all .2s;margin-bottom:12px}
.cfg-tg-btn:hover{background:rgba(0,229,255,.14);border-color:var(--cyan)}
.cfg-result-disclaimer{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--t3);text-align:center;line-height:1.8;letter-spacing:.05em}

/* old calc kept for backwards compat */
.calc-savings{display:none}

.rev-featured{border-color:rgba(124,77,255,.4)!important;background:rgba(124,77,255,.04)!important;grid-column:span 2}
@media(max-width:700px){.rev-featured{grid-column:span 1}}
@keyframes pulse-dot{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(1.4)}}

/* ─── OFERTA MODAL ─── */
.oferta-ov{position:fixed;inset:0;z-index:2000;background:rgba(2,2,10,.92);backdrop-filter:blur(24px);display:flex;align-items:center;justify-content:center;padding:20px;opacity:0;pointer-events:none;transition:opacity .3s}
.oferta-ov.open{opacity:1;pointer-events:all}
.oferta-box{background:var(--surface);border:1px solid var(--b2);width:100%;max-width:640px;max-height:88vh;display:flex;flex-direction:column;position:relative;overflow:hidden}
.oferta-bar{display:flex;align-items:center;justify-content:space-between;padding:20px 28px;border-bottom:1px solid var(--b1);background:rgba(8,8,15,.98);flex-shrink:0;position:sticky;top:0}
.oferta-bar-title{font-family:'Unbounded',sans-serif;font-size:13px;font-weight:700;letter-spacing:.05em}
.oferta-close{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border:1px solid var(--b2);background:transparent;color:var(--t3);font-size:16px;cursor:none;transition:all .2s}
.oferta-close:hover{color:var(--t1);border-color:var(--t2)}
.oferta-body{overflow-y:auto;padding:32px 28px;scrollbar-width:thin;scrollbar-color:var(--b2) transparent;flex:1}
.oferta-body::-webkit-scrollbar{width:4px}
.oferta-body::-webkit-scrollbar-thumb{background:var(--b2)}
.oferta-section{border-bottom:1px solid var(--b1);padding-bottom:22px;margin-bottom:22px}
.oferta-label{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.3em;text-transform:uppercase;color:var(--acc);margin-bottom:12px}
.oferta-body p{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:2;margin-bottom:10px}
.oferta-body p:last-child{margin-bottom:0}
.oferta-body strong{color:var(--t1)}

/* ─── BLOG ─── */
#blog{background:var(--bg)}
.blog-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(360px,1fr));gap:2px;margin-bottom:48px}
.blog-card{background:var(--surface);border:1px solid var(--b1);overflow:hidden;transition:border-color .3s,transform .25s;display:flex;flex-direction:column}
.blog-card:hover{border-color:rgba(124,77,255,.3);transform:translateY(-4px)}
.blog-card-top{padding:28px 28px 0}
.blog-tag{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.25em;text-transform:uppercase;padding:4px 12px;border:1px solid;margin-bottom:14px;display:inline-block}
.blog-tag.tag-guide{color:var(--cyan);border-color:rgba(0,229,255,.3);background:rgba(0,229,255,.05)}
.blog-tag.tag-compare{color:var(--pink);border-color:rgba(255,60,172,.3);background:rgba(255,60,172,.05)}
.blog-tag.tag-tips{color:var(--green);border-color:rgba(0,229,160,.3);background:rgba(0,229,160,.05)}
.blog-tag.tag-tech{color:var(--gold);border-color:rgba(255,209,102,.3);background:rgba(255,209,102,.05)}
.blog-title{font-family:'Unbounded',sans-serif;font-size:18px;font-weight:700;line-height:1.2;margin-bottom:12px;color:var(--t1)}
.blog-excerpt{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.9;margin-bottom:20px}
.blog-card-bottom{padding:0 28px 24px;border-top:1px solid var(--b1);margin-top:auto}
.blog-meta{display:flex;align-items:center;justify-content:space-between;padding-top:16px}
.blog-date{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--t3);letter-spacing:.1em}
.blog-read{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--acc);letter-spacing:.15em;display:flex;align-items:center;gap:6px;cursor:none;border:none;background:transparent;transition:letter-spacing .3s}
.blog-read:hover{letter-spacing:.3em}
.blog-featured{grid-column:1/-1;display:grid;grid-template-columns:1fr 1fr;gap:0}
@media(max-width:768px){.blog-featured{grid-template-columns:1fr}}
.blog-featured-thumb{background:linear-gradient(135deg,rgba(124,77,255,.2),rgba(0,229,255,.1));display:flex;align-items:center;justify-content:center;font-size:80px;min-height:220px}
.blog-featured .blog-title{font-size:24px}

/* blog article overlay */
.blog-article-ov{position:fixed;inset:0;z-index:600;background:#02020a;opacity:0;pointer-events:none;transition:opacity .3s;overflow-y:auto}
.blog-article-ov.open{opacity:1;pointer-events:all}
.blog-article-bar{position:sticky;top:0;z-index:10;height:56px;display:flex;align-items:center;padding:0 48px;background:rgba(2,2,10,.95);backdrop-filter:blur(24px);border-bottom:1px solid var(--b1);gap:16px}
.blog-article-back{font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.15em;text-transform:uppercase;color:var(--t3);background:transparent;border:1px solid var(--b2);padding:7px 16px;cursor:none;transition:all .2s}
.blog-article-back:hover{color:var(--t1);border-color:var(--t2)}
.blog-article-body{max-width:760px;margin:0 auto;padding:60px 48px 100px}
@media(max-width:768px){.blog-article-body{padding:40px 24px 80px}.blog-article-bar{padding:0 20px}}
.art-tag{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.3em;color:var(--acc);text-transform:uppercase;margin-bottom:12px}
.art-title{font-family:'Unbounded',sans-serif;font-size:clamp(28px,5vw,44px);font-weight:900;line-height:1.1;margin-bottom:16px}
.art-meta{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--t3);margin-bottom:48px;padding-bottom:24px;border-bottom:1px solid var(--b1)}
.art-body{font-family:'JetBrains Mono',monospace;font-size:13px;color:var(--t2);line-height:2.1}
.art-body h2{font-family:'Unbounded',sans-serif;font-size:20px;font-weight:700;color:var(--t1);margin:40px 0 16px}
.art-body h3{font-family:'Unbounded',sans-serif;font-size:16px;font-weight:700;color:var(--t1);margin:28px 0 12px}
.art-body p{margin-bottom:18px}
.art-body ul{margin:0 0 18px 20px;display:flex;flex-direction:column;gap:8px}
.art-body li{color:var(--t2)}
.art-body li::marker{color:var(--acc)}
.art-callout{border-left:3px solid var(--acc);background:rgba(124,77,255,.06);padding:18px 24px;margin:24px 0}
.art-callout p{margin:0;color:var(--t2)}
.art-code{background:var(--s2);border:1px solid var(--b2);border-left:3px solid var(--cyan);padding:20px 24px;font-family:'JetBrains Mono',monospace;font-size:12px;color:#a8d8ff;line-height:1.9;overflow-x:auto;margin:20px 0;white-space:pre}
.art-highlight{color:var(--cyan)}
</style>
</head>
<body>
<div id="cur"></div><div id="curR"></div><canvas id="bgC"></canvas>

<!-- LIVE ACTIVITY TOAST -->
<div id="live-toast" style="
  position:fixed;bottom:28px;left:28px;z-index:1500;
  background:#0d0d1a;border:1px solid rgba(0,229,160,.25);
  padding:14px 18px;display:flex;align-items:center;gap:14px;
  max-width:300px;box-shadow:0 8px 40px rgba(0,0,0,.5);
  transform:translateX(-120%);transition:transform .5s cubic-bezier(.16,1,.3,1);
  pointer-events:none;
">
  <div style="width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;background:rgba(0,229,160,.1)" id="toast-avatar">🚀</div>
  <div>
    <div style="font-family:'JetBrains Mono',monospace;font-size:11px;color:rgba(240,238,255,.9);line-height:1.5" id="toast-text">Артём купил SaaS Dashboard</div>
    <div style="font-family:'JetBrains Mono',monospace;font-size:10px;color:rgba(0,229,160,.7);margin-top:2px" id="toast-time">2 мин назад · Москва</div>
  </div>
  <div style="width:6px;height:6px;border-radius:50%;background:#00e5a0;flex-shrink:0;animation:pulse-dot 2s infinite"></div>
</div>

<!-- NAV -->
<nav id="main-nav">
  <div class="logo" onclick="nav('hero-wrap')">BB.STUDIO</div>
  <ul class="nav-links" id="nav-links">
    <li><a href="#" onclick="return nav('hero-wrap')" id="nh" class="active">ГЛАВНАЯ</a></li>
    <li><a href="#" onclick="return nav('tmpl')" id="nt">ШАБЛОНЫ</a></li>
    <li><a href="#" onclick="return nav('reviews')" id="nrev">ОТЗЫВЫ</a></li>
    <li><a href="#" onclick="return nav('calc')" id="ncalc">КАЛЬКУЛЯТОР</a></li>
    <li><a href="#" onclick="return nav('blog')" id="nblog">БЛОГ</a></li>
    <li><a href="#" onclick="return nav('manual')" id="nm">МАНУАЛ</a></li>
    <li><a href="#" onclick="return nav('about')" id="na">О СТУДИИ</a></li>
  </ul>
  <div class="nav-r">
    <div class="nav-badge"><span class="bdot"></span>25 ШАБЛОНОВ</div>
    <button class="nbuy" onclick="openMod('all')">КУПИТЬ ВСЁ — 18 300₽</button>
    <button class="burger" id="burger" onclick="toggleBurger()" aria-label="Меню">
      <span></span><span></span><span></span>
    </button>
  </div>
</nav>

<!-- HERO -->
<section id="hero-wrap" class="active">
  <div class="cr-bar">
    <p>© <strong>BB.STUDIO · Beyond Birthday</strong> — Все материалы защищены авторским правом · Копирование кода и шаблонов без письменного согласия автора <strong>ЗАПРЕЩЕНО</strong></p>
  </div>
  <div id="hero">
    <div class="h-eye">Beyond Birthday Studio</div>
    <h1 class="h-title"><span class="ht1">ДЕЛАЕМ</span><span class="ht2">САЙТЫ</span></h1>
    <p class="h-sub">HTML/CSS/JS шаблоны с живым превью и полным разбором кода.<br>5 бесплатных + 20 премиум с детальной документацией.</p>
    <div class="h-stats">
      <div class="stat"><div class="stat-n" id="stat-clients">47</div><div class="stat-l">Клиентов</div></div>
      <div class="stat"><div class="stat-n">20</div><div class="stat-l">Премиум</div></div>
      <div class="stat"><div class="stat-n">4.9★</div><div class="stat-l">Рейтинг</div></div>
      <div class="stat"><div class="stat-n" id="stat-online">3</div><div class="stat-l">Сейчас смотрят</div></div>
    </div>
    <div class="h-btns">
      <button class="btn-p" onclick="openMod('all')">КУПИТЬ ПОЛНЫЙ ДОСТУП — 18 300₽</button>
      <button class="btn-s" onclick="nav('tmpl')">СМОТРЕТЬ ШАБЛОНЫ</button>
    </div>
  </div>
</section>

<!-- TEMPLATES -->
<section id="tmpl">
  <div class="sw">
    <div class="sh"><span class="sn">01</span><h2 class="st">ШАБЛОНЫ</h2><div class="sl"></div></div>
    <p class="sd">Живые превью прямо на странице. Бесплатные — полный код и разбор. Платные — открываются после подтверждения оплаты.</p>

    <!-- SEARCH -->
    <div class="search-wrap" id="search-wrap">
      <input class="search-inp" id="search-inp" type="text" placeholder="🔍  Поиск по шаблонам...">
      <button class="search-clear" id="search-clear" onclick="clearSearch()">✕</button>
    </div>
    <div class="search-results-count" id="search-count"></div>
    <div class="no-results" id="no-results">Ничего не найдено по запросу</div>

    <div class="lbl">✦ БЕСПЛАТНЫЕ (5) — ПОЛНЫЙ КОД + РАЗБОР</div>
    <div class="tgrid" id="fgrid"></div>
    <div class="lbl">🔒 ПРЕМИУМ (20) — ОТКРЫВАЮТСЯ ПОСЛЕ ПОКУПКИ</div>
    <div class="tgrid" id="pgrid"></div>
    <div style="text-align:center;padding:32px 0 16px">
      <div style="font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--t3);letter-spacing:.15em;margin-bottom:12px;text-transform:uppercase">Все 20 шаблонов по отдельности — <span style="color:var(--t2);text-decoration:line-through">18 050₽</span> · Пакетом — экономия 1 750₽</div>
      <button class="btn-p" onclick="openMod('all')" style="font-size:14px;padding:20px 56px">ОТКРЫТЬ ВСЕ 20 ШАБЛОНОВ — 18 300₽</button>
      <p style="font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--t3);margin-top:14px;letter-spacing:.1em">Разовая оплата · Доступ навсегда · Все новые шаблоны включены · Скачивание архива прямо на сайте</p>
    </div>

    <!-- SINGLE PURCHASE SECTION -->
    <div class="single-section">
      <div class="lbl">🎯 ПОШТУЧНО — БЕРИ ЧТО НУЖНО</div>
      <p class="sd">Не хочешь всё сразу? Купи один шаблон. Цены от 600₽ до 1 400₽ — платишь только за то, что нужно.</p>
      <div class="fchips">
        <button class="fchip on" onclick="filterPrem('all',this)">ВСЕ (20)</button>
        <button class="fchip" onclick="filterPrem('3d',this)">3D · CANVAS</button>
        <button class="fchip" onclick="filterPrem('dashboard',this)">ДАШБОРДЫ</button>
        <button class="fchip" onclick="filterPrem('landing',this)">ЛЕНДИНГИ</button>
        <button class="fchip" onclick="filterPrem('ui',this)">UI-КИТЫ</button>
      </div>
      <div class="tgrid" id="sgrid"></div>
    </div>
  </div>
</section>

<!-- ═══ REVIEWS ═══ -->
<section id="reviews">
  <div class="sw">
    <div class="sh"><span class="sn">02</span><h2 class="st">ОТЗЫВЫ</h2><div class="sl"></div></div>
    <p class="sd">Реальные покупатели, реальные проекты. Они купили шаблоны — и запустили свои сайты.</p>

    <div class="rev-stats">
      <div class="rev-stat">
        <div class="rev-stat-n">47+</div>
        <div class="rev-stat-l">Довольных клиентов</div>
      </div>
      <div class="rev-stat">
        <div class="rev-stat-n">4.9</div>
        <div class="rev-stat-l">Средняя оценка</div>
      </div>
      <div class="rev-stat">
        <div class="rev-stat-n">100%</div>
        <div class="rev-stat-l">Рекомендуют</div>
      </div>
    </div>

    <div class="lbl">✦ ОТЗЫВЫ ПОКУПАТЕЛЕЙ</div>
    <div class="rev-grid">

      <div class="rev-card rev-featured">
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:10px">
          <div class="rev-template">Полный пакет · 18 300₽</div>
          <div style="font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--green);background:rgba(0,229,160,.08);border:1px solid rgba(0,229,160,.2);padding:3px 10px">ВЕРИФИЦИРОВАНО</div>
        </div>
        <div class="rev-stars">★★★★★</div>
        <div class="rev-text" style="font-size:14px;line-height:1.9">"Взял полный пакет скептически — думал очередной Themeforest-мусор. Ошибся. Код чистый, без лишнего, с комментариями. Three.js шаблоны — это вообще отдельный уровень. Мануал по коду читал как книгу. Клиенту сдал лендинг за 2 дня, заработал ×8 от вложений."</div>
        <div class="rev-author">
          <div class="rev-avatar" style="background:rgba(124,77,255,.15);font-size:22px">🔥</div>
          <div class="rev-info">
            <div class="rev-name">Павел Н.</div>
            <div class="rev-meta">Full-stack · Воронеж · <a href="#" style="color:var(--cyan);text-decoration:none" onclick="return false">nexusdev.ru ↗</a></div>
          </div>
        </div>
      </div>

      <div class="rev-card">
        <div class="rev-template">SaaS Dashboard</div>
        <div class="rev-stars">★★★★★</div>
        <div class="rev-text">"За вечер поднял MVP стартапа. Chart.js разбор — впервые понял как нормально строить графики. Код читается как учебник, а не как чужой проект."</div>
        <div class="rev-author">
          <div class="rev-avatar" style="background:rgba(0,229,255,.12)">🚀</div>
          <div class="rev-info">
            <div class="rev-name">Артём К.</div>
            <div class="rev-meta">Основатель стартапа · Москва</div>
          </div>
        </div>
        <div style="margin-top:12px;padding-top:12px;border-top:1px solid var(--b1);font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--t3)">Купил: 15 февр 2026 · Использовал для: <span style="color:var(--t2)">MVP аналитики</span></div>
      </div>

      <div class="rev-card">
        <div class="rev-template">3D Hero + Particle Galaxy</div>
        <div class="rev-stars">★★★★★</div>
        <div class="rev-text">"Поставила галактику на портфолио — клиенты думают, что это какой-то крутой 3D редактор. Спрашивают: 'На каком движке?' Отвечаю: 'Canvas 2D' 😄 Three.js разбор — просто бомба для новичка."</div>
        <div class="rev-author">
          <div class="rev-avatar" style="background:rgba(255,60,172,.12)">🎨</div>
          <div class="rev-info">
            <div class="rev-name">Диана Л.</div>
            <div class="rev-meta">Freelance дизайнер · СПб · <a href="#" style="color:var(--cyan);text-decoration:none" onclick="return false">diana-design.ru ↗</a></div>
          </div>
        </div>
        <div style="margin-top:12px;padding-top:12px;border-top:1px solid var(--b1);font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--t3)">Купил: 3 янв 2026</div>
      </div>

      <div class="rev-card">
        <div class="rev-template">Agency Landing</div>
        <div class="rev-stars" style="color:var(--gold)">★★★★<span style="color:var(--b2)">★</span></div>
        <div class="rev-text">"Взял за основу для клиента. Поправил цвета, добавил контент — сдал за 3 дня. Окупился в первый же проект. Минус балл: хотелось бы больше вариантов hero-секции."</div>
        <div class="rev-author">
          <div class="rev-avatar" style="background:rgba(0,229,160,.12)">💼</div>
          <div class="rev-info">
            <div class="rev-name">Михаил Р.</div>
            <div class="rev-meta">Веб-разработчик · Казань</div>
          </div>
        </div>
        <div style="margin-top:12px;padding-top:12px;border-top:1px solid var(--b1);font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--t3)">Купил: 22 дек 2025 · 4/5 звёзд</div>
      </div>

      <div class="rev-card">
        <div class="rev-template">Portfolio Dark</div>
        <div class="rev-stars">★★★★★</div>
        <div class="rev-text">"Наконец-то шаблон где код не страшно читать! Outline text эффект из мануала использую везде — клиенты думают что это что-то сложное. Поддержка в Telegram отвечает быстро."</div>
        <div class="rev-author">
          <div class="rev-avatar" style="background:rgba(255,209,102,.12)">✨</div>
          <div class="rev-info">
            <div class="rev-name">Алина В.</div>
            <div class="rev-meta">Junior Frontend · Новосибирск</div>
          </div>
        </div>
        <div style="margin-top:12px;padding-top:12px;border-top:1px solid var(--b1);font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--t3)">Купил: 8 янв 2026</div>
      </div>

      <div class="rev-card">
        <div class="rev-template">Crypto Landing</div>
        <div class="rev-stars">★★★★★</div>
        <div class="rev-text">"Клиент NFT-проекта был в восторге от анимаций. Поддержка помогла с кастомизацией за 10 минут. Берёте — не пожалеете."</div>
        <div class="rev-author">
          <div class="rev-avatar" style="background:rgba(0,229,255,.1)">₿</div>
          <div class="rev-info">
            <div class="rev-name">Дмитрий С.</div>
            <div class="rev-meta">Блокчейн-разработчик · Екатеринбург · <a href="#" style="color:var(--cyan);text-decoration:none" onclick="return false">artchain.store ↗</a></div>
          </div>
        </div>
        <div style="margin-top:12px;padding-top:12px;border-top:1px solid var(--b1);font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--t3)">Купил: 29 янв 2026</div>
      </div>

    </div>

    <div class="lbl">🌍 САЙТЫ, СДЕЛАННЫЕ НА ЭТИХ ШАБЛОНАХ</div>
    <p class="sd" style="margin-bottom:28px">Реальные проекты реальных клиентов — от MVP стартапов до портфолио дизайнеров.</p>
    <div class="portfolio-grid">
      <div class="portfolio-item">
        <div class="portfolio-thumb">🚀</div>
        <div class="portfolio-info">
          <div class="portfolio-site">NexusMetrics.io</div>
          <div class="portfolio-niche">SaaS · Аналитика</div>
          <span class="portfolio-tag">SaaS Dashboard</span>
        </div>
      </div>
      <div class="portfolio-item">
        <div class="portfolio-thumb">🎨</div>
        <div class="portfolio-info">
          <div class="portfolio-site">diana-design.ru</div>
          <div class="portfolio-niche">Портфолио · Дизайн</div>
          <span class="portfolio-tag">Portfolio Dark</span>
        </div>
      </div>
      <div class="portfolio-item">
        <div class="portfolio-thumb">🌌</div>
        <div class="portfolio-info">
          <div class="portfolio-site">voidstudio.space</div>
          <div class="portfolio-niche">Портфолио · Разработка</div>
          <span class="portfolio-tag">Particle Galaxy</span>
        </div>
      </div>
      <div class="portfolio-item">
        <div class="portfolio-thumb">💎</div>
        <div class="portfolio-info">
          <div class="portfolio-site">artchain.store</div>
          <div class="portfolio-niche">NFT · Крипто</div>
          <span class="portfolio-tag">Crypto Landing</span>
        </div>
      </div>
    </div>

    <div style="text-align:center;margin-top:56px">
      <p style="font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t3);margin-bottom:20px">Запустил сайт на шаблоне BB.STUDIO? Напиши — добавлю в витрину.</p>
      <a href="https://t.me/beyond_birthdayLB" target="_blank" rel="noopener" style="display:inline-flex;align-items:center;gap:12px;font-family:'JetBrains Mono',monospace;font-size:12px;letter-spacing:.18em;text-transform:uppercase;color:var(--cyan);border:1px solid rgba(0,229,255,.3);background:rgba(0,229,255,.04);padding:14px 28px;text-decoration:none;transition:all .2s">
        📩 ОТПРАВИТЬ СВОЙ ПРОЕКТ
      </a>
    </div>
  </div>
</section>

<!-- ═══ CALCULATOR ═══ -->
<section id="calc">
  <div class="sw" style="max-width:1300px">
    <div class="sh"><span class="sn">03</span><h2 class="st">КАЛЬКУЛЯТОР САЙТА</h2><div class="sl"></div></div>
    <p class="sd">Собери сайт как конструктор — выбери тип, технологии, страницы и сервисы. Цена пересчитается сразу.</p>

    <div class="cfg-shell">

      <!-- ══ STEPS ══ -->
      <div class="cfg-left">

        <!-- STEP 1: ТИП САЙТА -->
        <div class="cfg-step" id="step1">
          <div class="cfg-step-head">
            <div class="cfg-step-num">01</div>
            <div class="cfg-step-title">Тип сайта</div>
          </div>
          <div class="cfg-cards" id="cfg-type">
            <div class="cfg-card on" data-key="type" data-val="landing" data-price="8000" onclick="cfgSelect(this)">
              <div class="cfg-card-icon">🚀</div>
              <div class="cfg-card-name">Лендинг</div>
              <div class="cfg-card-desc">1 страница · конверсия · продажа услуги</div>
              <div class="cfg-card-price">от 8 000₽</div>
            </div>
            <div class="cfg-card" data-key="type" data-val="portfolio" data-price="10000" onclick="cfgSelect(this)">
              <div class="cfg-card-icon">🎨</div>
              <div class="cfg-card-name">Портфолио</div>
              <div class="cfg-card-desc">Работы, обо мне, контакты</div>
              <div class="cfg-card-price">от 10 000₽</div>
            </div>
            <div class="cfg-card" data-key="type" data-val="corp" data-price="18000" onclick="cfgSelect(this)">
              <div class="cfg-card-icon">🏢</div>
              <div class="cfg-card-name">Корпоративный</div>
              <div class="cfg-card-desc">Компания, услуги, команда, блог</div>
              <div class="cfg-card-price">от 18 000₽</div>
            </div>
            <div class="cfg-card" data-key="type" data-val="saas" data-price="35000" onclick="cfgSelect(this)">
              <div class="cfg-card-icon">⚡</div>
              <div class="cfg-card-name">SaaS / Продукт</div>
              <div class="cfg-card-desc">Дашборд, кабинет, приложение</div>
              <div class="cfg-card-price">от 35 000₽</div>
            </div>
            <div class="cfg-card" data-key="type" data-val="shop" data-price="45000" onclick="cfgSelect(this)">
              <div class="cfg-card-icon">🛒</div>
              <div class="cfg-card-name">Интернет-магазин</div>
              <div class="cfg-card-desc">Каталог, корзина, оплата, заказы</div>
              <div class="cfg-card-price">от 45 000₽</div>
            </div>
            <div class="cfg-card" data-key="type" data-val="blog" data-price="14000" onclick="cfgSelect(this)">
              <div class="cfg-card-icon">📝</div>
              <div class="cfg-card-name">Блог / Медиа</div>
              <div class="cfg-card-desc">Статьи, категории, поиск, подписка</div>
              <div class="cfg-card-price">от 14 000₽</div>
            </div>
          </div>
        </div>

        <!-- STEP 2: ТЕХНОЛОГИИ -->
        <div class="cfg-step" id="step2">
          <div class="cfg-step-head">
            <div class="cfg-step-num">02</div>
            <div class="cfg-step-title">Технологии и визуал</div>
          </div>
          <div class="cfg-tech-grid">
            <div class="cfg-tech" data-key="tech_3d" data-price="5000" onclick="cfgToggleTech(this)">
              <div class="cfg-tech-icon">🌌</div>
              <div class="cfg-tech-body">
                <div class="cfg-tech-name">3D / Three.js</div>
                <div class="cfg-tech-desc">WebGL объекты, частицы, Galaxy-эффект</div>
              </div>
              <div class="cfg-tech-price">+5 000₽</div>
              <div class="cfg-tech-check">✓</div>
            </div>
            <div class="cfg-tech" data-key="tech_gsap" data-price="3000" onclick="cfgToggleTech(this)">
              <div class="cfg-tech-icon">⚡</div>
              <div class="cfg-tech-body">
                <div class="cfg-tech-name">GSAP анимации</div>
                <div class="cfg-tech-desc">Плавные переходы, scroll-триггеры, stagger</div>
              </div>
              <div class="cfg-tech-price">+3 000₽</div>
              <div class="cfg-tech-check">✓</div>
            </div>
            <div class="cfg-tech" data-key="tech_canvas" data-price="3500" onclick="cfgToggleTech(this)">
              <div class="cfg-tech-icon">🎆</div>
              <div class="cfg-tech-body">
                <div class="cfg-tech-name">Canvas 2D эффекты</div>
                <div class="cfg-tech-desc">Частицы, волны, интерактивный фон</div>
              </div>
              <div class="cfg-tech-price">+3 500₽</div>
              <div class="cfg-tech-check">✓</div>
            </div>
            <div class="cfg-tech" data-key="tech_cursor" data-price="1500" onclick="cfgToggleTech(this)">
              <div class="cfg-tech-icon">🖱️</div>
              <div class="cfg-tech-body">
                <div class="cfg-tech-name">Кастомный курсор</div>
                <div class="cfg-tech-desc">Анимированный cursor с trail-эффектом</div>
              </div>
              <div class="cfg-tech-price">+1 500₽</div>
              <div class="cfg-tech-check">✓</div>
            </div>
            <div class="cfg-tech" data-key="tech_dark" data-price="2000" onclick="cfgToggleTech(this)">
              <div class="cfg-tech-icon">🌗</div>
              <div class="cfg-tech-body">
                <div class="cfg-tech-name">Тёмная / светлая тема</div>
                <div class="cfg-tech-desc">Переключатель, авто по системе, плавный</div>
              </div>
              <div class="cfg-tech-price">+2 000₽</div>
              <div class="cfg-tech-check">✓</div>
            </div>
            <div class="cfg-tech" data-key="tech_parallax" data-price="2000" onclick="cfgToggleTech(this)">
              <div class="cfg-tech-icon">📐</div>
              <div class="cfg-tech-body">
                <div class="cfg-tech-name">Parallax / ScrollStory</div>
                <div class="cfg-tech-desc">Scroll-анимации, секции-сцены</div>
              </div>
              <div class="cfg-tech-price">+2 000₽</div>
              <div class="cfg-tech-check">✓</div>
            </div>
          </div>
        </div>

        <!-- STEP 3: СТРАНИЦЫ -->
        <div class="cfg-step" id="step3">
          <div class="cfg-step-head">
            <div class="cfg-step-num">03</div>
            <div class="cfg-step-title">Страницы и разделы</div>
          </div>
          <div class="cfg-pages">
            <div class="cfg-page-row">
              <div class="cfg-page-info">
                <div class="cfg-page-name">Главная / Hero</div>
                <div class="cfg-page-desc">Всегда включена</div>
              </div>
              <div class="cfg-page-badge">Включено</div>
            </div>
            <div class="cfg-page-row" data-key="page_about" data-price="3000" onclick="cfgTogglePage(this)">
              <div class="cfg-page-info">
                <div class="cfg-page-name">О компании / Команда</div>
                <div class="cfg-page-desc">История, миссия, карточки команды</div>
              </div>
              <div class="cfg-page-add">+ 3 000₽</div>
            </div>
            <div class="cfg-page-row" data-key="page_services" data-price="4000" onclick="cfgTogglePage(this)">
              <div class="cfg-page-info">
                <div class="cfg-page-name">Услуги / Прайс</div>
                <div class="cfg-page-desc">Каталог услуг с ценами, таблица тарифов</div>
              </div>
              <div class="cfg-page-add">+ 4 000₽</div>
            </div>
            <div class="cfg-page-row" data-key="page_cases" data-price="5000" onclick="cfgTogglePage(this)">
              <div class="cfg-page-info">
                <div class="cfg-page-name">Кейсы / Портфолио</div>
                <div class="cfg-page-desc">Галерея работ, фильтрация, оверлей</div>
              </div>
              <div class="cfg-page-add">+ 5 000₽</div>
            </div>
            <div class="cfg-page-row" data-key="page_blog" data-price="6000" onclick="cfgTogglePage(this)">
              <div class="cfg-page-info">
                <div class="cfg-page-name">Блог / Статьи</div>
                <div class="cfg-page-desc">Сетка постов, теги, внутренние страницы</div>
              </div>
              <div class="cfg-page-add">+ 6 000₽</div>
            </div>
            <div class="cfg-page-row" data-key="page_faq" data-price="2000" onclick="cfgTogglePage(this)">
              <div class="cfg-page-info">
                <div class="cfg-page-name">FAQ / Аккордеон</div>
                <div class="cfg-page-desc">Часто задаваемые вопросы с анимацией</div>
              </div>
              <div class="cfg-page-add">+ 2 000₽</div>
            </div>
            <div class="cfg-page-row" data-key="page_contact" data-price="3000" onclick="cfgTogglePage(this)">
              <div class="cfg-page-info">
                <div class="cfg-page-name">Контакты / Форма</div>
                <div class="cfg-page-desc">Карта, форма с валидацией, мессенджеры</div>
              </div>
              <div class="cfg-page-add">+ 3 000₽</div>
            </div>
          </div>
        </div>

        <!-- STEP 4: СЕРВИСЫ -->
        <div class="cfg-step" id="step4">
          <div class="cfg-step-head">
            <div class="cfg-step-num">04</div>
            <div class="cfg-step-title">Интеграции и сервисы</div>
          </div>
          <div class="cfg-services">
            <label class="cfg-svc" data-key="svc_pay" data-price="4000">
              <input type="checkbox" onchange="cfgUpdateSvc(this)">
              <div class="cfg-svc-body">
                <div class="cfg-svc-name">💳 Онлайн оплата</div>
                <div class="cfg-svc-desc">Robokassa / ЮKassa — карты, СБП, ЮMoney</div>
              </div>
              <div class="cfg-svc-price">+4 000₽</div>
            </label>
            <label class="cfg-svc" data-key="svc_tg" data-price="2500">
              <input type="checkbox" onchange="cfgUpdateSvc(this)">
              <div class="cfg-svc-body">
                <div class="cfg-svc-name">📬 Telegram Bot</div>
                <div class="cfg-svc-desc">Уведомления о заявках, заказах, оплатах</div>
              </div>
              <div class="cfg-svc-price">+2 500₽</div>
            </label>
            <label class="cfg-svc" data-key="svc_crm" data-price="5000">
              <input type="checkbox" onchange="cfgUpdateSvc(this)">
              <div class="cfg-svc-body">
                <div class="cfg-svc-name">🔗 CRM интеграция</div>
                <div class="cfg-svc-desc">AmoCRM / Bitrix24 — заявки в воронку</div>
              </div>
              <div class="cfg-svc-price">+5 000₽</div>
            </label>
            <label class="cfg-svc" data-key="svc_analytic" data-price="1500">
              <input type="checkbox" onchange="cfgUpdateSvc(this)">
              <div class="cfg-svc-body">
                <div class="cfg-svc-name">📊 Аналитика</div>
                <div class="cfg-svc-desc">Яндекс.Метрика + Google Analytics + цели</div>
              </div>
              <div class="cfg-svc-price">+1 500₽</div>
            </label>
            <label class="cfg-svc" data-key="svc_seo" data-price="3000">
              <input type="checkbox" onchange="cfgUpdateSvc(this)">
              <div class="cfg-svc-body">
                <div class="cfg-svc-name">🔍 SEO базовый</div>
                <div class="cfg-svc-desc">Мета-теги, OpenGraph, sitemap, robots.txt</div>
              </div>
              <div class="cfg-svc-price">+3 000₽</div>
            </label>
            <label class="cfg-svc" data-key="svc_multilang" data-price="6000">
              <input type="checkbox" onchange="cfgUpdateSvc(this)">
              <div class="cfg-svc-body">
                <div class="cfg-svc-name">🌍 Мультиязычность</div>
                <div class="cfg-svc-desc">RU + EN версия, переключатель языков</div>
              </div>
              <div class="cfg-svc-price">+6 000₽</div>
            </label>
          </div>
        </div>

        <!-- STEP 5: СРОКИ И ФОРМАТ -->
        <div class="cfg-step" id="step5">
          <div class="cfg-step-head">
            <div class="cfg-step-num">05</div>
            <div class="cfg-step-title">Сроки и формат</div>
          </div>
          <div class="cfg-cards" id="cfg-timeline">
            <div class="cfg-card on" data-key="speed" data-val="std" data-price="0" onclick="cfgSelect(this)">
              <div class="cfg-card-icon">📅</div>
              <div class="cfg-card-name">Стандарт</div>
              <div class="cfg-card-desc">7–14 рабочих дней</div>
              <div class="cfg-card-price">+0₽</div>
            </div>
            <div class="cfg-card" data-key="speed" data-val="fast" data-price="5000" onclick="cfgSelect(this)">
              <div class="cfg-card-icon">⚡</div>
              <div class="cfg-card-name">Быстро</div>
              <div class="cfg-card-desc">3–5 рабочих дней</div>
              <div class="cfg-card-price">+5 000₽</div>
            </div>
            <div class="cfg-card" data-key="speed" data-val="urgent" data-price="12000" onclick="cfgSelect(this)">
              <div class="cfg-card-icon">🔥</div>
              <div class="cfg-card-name">Срочно</div>
              <div class="cfg-card-desc">24–72 часа</div>
              <div class="cfg-card-price">+12 000₽</div>
            </div>
          </div>
        </div>

      </div><!-- /cfg-left -->

      <!-- ══ STICKY RESULT ══ -->
      <div class="cfg-right">
        <div class="cfg-result" id="cfg-result">
          <div class="cfg-result-header">
            <div class="cfg-result-label">// ВАША СБОРКА</div>
            <button class="cfg-reset" onclick="cfgReset()">СБРОСИТЬ</button>
          </div>

          <div class="cfg-result-price-wrap">
            <div class="cfg-result-from">итого</div>
            <div class="cfg-result-price" id="cfg-price">8 000₽</div>
            <div class="cfg-result-note-small" id="cfg-range"></div>
          </div>

          <div class="cfg-result-items" id="cfg-items">
            <div class="cfg-item-row">
              <span>Лендинг (базовый)</span>
              <span>8 000₽</span>
            </div>
          </div>

          <div class="cfg-result-divider"></div>

          <div class="cfg-included">
            <div class="cfg-included-title">Всегда включено:</div>
            <div class="cfg-inc-row">✓ Адаптивная вёрстка (моб/планшет/десктоп)</div>
            <div class="cfg-inc-row">✓ Кроссбраузерность (Chrome, Firefox, Safari)</div>
            <div class="cfg-inc-row">✓ Исходный код + архив</div>
            <div class="cfg-inc-row">✓ Поддержка в Telegram 30 дней</div>
          </div>

          <div class="cfg-result-divider"></div>

          <button class="cfg-order-btn" onclick="cfgOrder()">
            ОБСУДИТЬ ПРОЕКТ →
          </button>
          <a href="https://t.me/beyond_birthdayLB" target="_blank" rel="noopener" class="cfg-tg-btn">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 8.248-2.02 9.52c-.145.658-.537.818-1.084.508l-3-2.21-1.447 1.394c-.16.16-.295.295-.605.295l.213-3.053 5.56-5.023c.242-.213-.054-.333-.373-.12l-6.871 4.326-2.962-.924c-.643-.204-.657-.643.136-.953l11.57-4.461c.537-.194 1.006.131.883.7z"/></svg>
            НАПИСАТЬ В TELEGRAM
          </a>
          <div class="cfg-result-disclaimer">Финальная цена уточняется после брифинга. Предоплата 50%.</div>
        </div>
      </div>

    </div><!-- /cfg-shell -->
  </div>
</section>

<!-- ═══ BLOG ═══ -->
<section id="blog">
  <div class="sw">
    <div class="sh"><span class="sn">04</span><h2 class="st">БЛОГ</h2><div class="sl"></div></div>
    <p class="sd">Статьи о вёрстке, выборе шаблонов и инструментов. Без воды — только то что реально работает.</p>

    <div class="blog-grid">

      <!-- FEATURED -->
      <div class="blog-card blog-featured">
        <div class="blog-featured-thumb">📐</div>
        <div style="display:flex;flex-direction:column">
          <div class="blog-card-top" style="flex:1">
            <span class="blog-tag tag-guide">ГАЙД</span>
            <div class="blog-title">Как выбрать шаблон для сферы услуг: полный чеклист</div>
            <div class="blog-excerpt">Парикмахерская, юрист, фотограф, ремонт — у каждой ниши свои требования к сайту. Разбираем что смотреть в шаблоне перед покупкой: структура секций, наличие форм, галерея, отзывы. Плюс таблица: какой шаблон подходит для каких ниш.</div>
          </div>
          <div class="blog-card-bottom">
            <div class="blog-meta">
              <span class="blog-date">15 февраля 2026 · 8 мин</span>
              <button class="blog-read" onclick="openArticle('art1')">ЧИТАТЬ →</button>
            </div>
          </div>
        </div>
      </div>

      <div class="blog-card">
        <div class="blog-card-top">
          <span class="blog-tag tag-compare">СРАВНЕНИЕ</span>
          <div class="blog-title">Tilda vs WordPress vs чистый HTML: что выбрать под шаблон</div>
          <div class="blog-excerpt">HTML-шаблон купил — а куда его ставить? Разбираем три пути: конструктор, CMS, хостинг. Считаем деньги, время, гибкость.</div>
        </div>
        <div class="blog-card-bottom">
          <div class="blog-meta">
            <span class="blog-date">8 февраля 2026 · 6 мин</span>
            <button class="blog-read" onclick="openArticle('art2')">ЧИТАТЬ →</button>
          </div>
        </div>
      </div>

      <div class="blog-card">
        <div class="blog-card-top">
          <span class="blog-tag tag-tips">СОВЕТЫ</span>
          <div class="blog-title">5 ошибок при кастомизации HTML-шаблона (и как их избежать)</div>
          <div class="blog-excerpt">Купил шаблон, начал менять — и сломал. Типичные ошибки новичков: что не трогать, как менять безопасно, как сохранять историю изменений.</div>
        </div>
        <div class="blog-card-bottom">
          <div class="blog-meta">
            <span class="blog-date">1 февраля 2026 · 5 мин</span>
            <button class="blog-read" onclick="openArticle('art3')">ЧИТАТЬ →</button>
          </div>
        </div>
      </div>

      <div class="blog-card">
        <div class="blog-card-top">
          <span class="blog-tag tag-tech">ТЕХНОЛОГИИ</span>
          <div class="blog-title">Three.js для новичков: почему это не страшно</div>
          <div class="blog-excerpt">3D в браузере звучит пугающе, но базовая сцена — это 30 строк кода. Разбираем минимальный бойлерплейт и объясняем каждую строку.</div>
        </div>
        <div class="blog-card-bottom">
          <div class="blog-meta">
            <span class="blog-date">25 января 2026 · 7 мин</span>
            <button class="blog-read" onclick="openArticle('art4')">ЧИТАТЬ →</button>
          </div>
        </div>
      </div>

    </div>

    <div style="text-align:center;padding:16px 0 32px">
      <p style="font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t3);margin-bottom:20px;letter-spacing:.1em">Новые статьи каждые 2 недели. Подписывайся в Telegram — не пропустишь.</p>
      <a href="https://t.me/beyond_birthdayLB" target="_blank" rel="noopener" style="display:inline-flex;align-items:center;gap:12px;font-family:'JetBrains Mono',monospace;font-size:12px;letter-spacing:.18em;text-transform:uppercase;color:var(--cyan);border:1px solid rgba(0,229,255,.3);background:rgba(0,229,255,.04);padding:14px 28px;text-decoration:none">
        📬 ПОДПИСАТЬСЯ НА БЛОГ
      </a>
    </div>
  </div>
</section>

<!-- ═══ BLOG ARTICLE OVERLAY ═══ -->
<div class="blog-article-ov" id="blog-art-ov">
  <div class="blog-article-bar">
    <button class="blog-article-back" onclick="closeArticle()">← БЛОГ</button>
    <span style="font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--t3);letter-spacing:.15em;margin-left:auto" id="art-read-time"></span>
  </div>
  <div class="blog-article-body">
    <div id="art-content"></div>
  </div>
</div>

<!-- MANUAL -->
<section id="manual">
  <div class="aw" style="max-width:980px">
    <div class="sh" style="margin-bottom:48px">
      <span class="sn">03</span>
      <h2 class="st">МАНУАЛ ПО КОДУ</h2>
      <div class="sl"></div>
    </div>
    <p style="font-family:'JetBrains Mono',monospace;font-size:13px;color:var(--t2);line-height:1.9;margin-bottom:40px;max-width:680px">Здесь не будет «нажми сюда и готово». Здесь про то, как на самом деле работает веб — с нуля, честно, с реальным кодом. Листай и выбирай тему.</p>

    <div id="man-tabs" style="display:flex;flex-wrap:wrap;gap:8px;margin-bottom:40px"></div>
    <div id="man-content"></div>
  </div>
</section>

<!-- ABOUT -->
<section id="about">
  <div class="aw">
    <div class="sh" style="margin-bottom:48px">
      <span class="sn">04</span>
      <h2 class="st">О СТУДИИ</h2>
      <div class="sl"></div>
    </div>
    <div class="ag">

      <!-- ══ LEFT ══ -->
      <div>
        <div class="atag">/ Beyond Birthday · с 2021 года</div>
        <div class="aname">BEYOND<span>BIRTHDAY</span></div>

        <!-- AVATAR BLOCK -->
        <div style="display:flex;align-items:center;gap:20px;margin-bottom:28px">
          <div style="width:72px;height:72px;border-radius:50%;background:linear-gradient(135deg,rgba(124,77,255,.3),rgba(0,229,255,.2));border:2px solid rgba(124,77,255,.4);display:flex;align-items:center;justify-content:center;font-size:32px;flex-shrink:0">👨‍💻</div>
          <div>
            <div style="font-family:'Unbounded',sans-serif;font-size:15px;font-weight:700;color:var(--t1);margin-bottom:4px">Beyond Birthday</div>
            <div style="font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--cyan);letter-spacing:.1em">Frontend-разработчик · Самозанятый</div>
            <div style="display:flex;align-items:center;gap:6px;margin-top:6px">
              <span style="width:6px;height:6px;border-radius:50%;background:#00e5a0;animation:pulse-dot 2s infinite"></span>
              <span style="font-family:'JetBrains Mono',monospace;font-size:10px;color:rgba(0,229,160,.8)">Открыт для заказов</span>
            </div>
          </div>
        </div>

        <p class="abio">Начинал как все — с Bootstrap и WordPress. Потом открыл для себя Three.js и понял: веб — это холст, а не таблица. С тех пор строю только то, что удивляет.<br><br>BB.STUDIO — мой способ делиться наработками. Каждый шаблон это не просто код, а концепт с историей. Покупаешь не файлы — берёшь подход к задаче и объяснение каждой строчки.</p>

        <!-- TIMELINE -->
        <div style="margin:24px 0;padding-left:16px;border-left:2px solid rgba(124,77,255,.3)">
          <div style="margin-bottom:14px">
            <div style="font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--acc);letter-spacing:.2em;margin-bottom:2px">2021</div>
            <div style="font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2)">Первый Three.js проект. Галактика из 10 000 частиц за ночь.</div>
          </div>
          <div style="margin-bottom:14px">
            <div style="font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--acc);letter-spacing:.2em;margin-bottom:2px">2023</div>
            <div style="font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2)">Запустил BB.STUDIO. Первые 10 шаблонов, первые клиенты.</div>
          </div>
          <div>
            <div style="font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--cyan);letter-spacing:.2em;margin-bottom:2px">2026 · СЕЙЧАС</div>
            <div style="font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2)">25 шаблонов, 47+ клиентов, продолжаю расти.</div>
          </div>
        </div>

        <div class="about-label">✦ ТЕХНОЛОГИИ</div>
        <div class="ask">
          <span class="sk">HTML5</span><span class="sk">CSS3</span><span class="sk">JavaScript</span>
          <span class="sk">Three.js</span><span class="sk">Canvas 2D</span><span class="sk">WebGL</span>
          <span class="sk">GSAP</span><span class="sk">UI / UX</span><span class="sk">Адаптив</span><span class="sk">Telegram API</span>
        </div>

        <div class="about-label">✦ ЧТО ДЕЛАЮ</div>
        <div class="about-list">
          <div class="about-item"><span class="about-arrow">→</span><div><strong style="color:var(--t1)">Лендинги и портфолио</strong><br>Анимации, parallax, нестандартный визуал</div></div>
          <div class="about-item"><span class="about-arrow">→</span><div><strong style="color:var(--t1)">3D сцены на Three.js</strong><br>Частицы, туманности, WebGL шейдеры</div></div>
          <div class="about-item"><span class="about-arrow">→</span><div><strong style="color:var(--t1)">Canvas 2D эффекты</strong><br>Интерактивные анимации, звёзды, системы частиц</div></div>
          <div class="about-item"><span class="about-arrow">→</span><div><strong style="color:var(--t1)">Шаблоны с разбором</strong><br>Код + пошаговые объяснения + документация</div></div>
        </div>

        <a href="https://t.me/beyond_birthdayLB" target="_blank" rel="noopener" class="tgbtn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 8.248-2.02 9.52c-.145.658-.537.818-1.084.508l-3-2.21-1.447 1.394c-.16.16-.295.295-.605.295l.213-3.053 5.56-5.023c.242-.213-.054-.333-.373-.12l-6.871 4.326-2.962-.924c-.643-.204-.657-.643.136-.953l11.57-4.461c.537-.194 1.006.131.883.7z"/></svg>
          НАПИСАТЬ В TELEGRAM
        </a>
      </div>

      <!-- ══ RIGHT ══ -->
      <div>
        <div class="plbl">// ПРОЕКТЫ</div>

        <!-- BB.STUDIO -->
        <div class="pc" style="pointer-events:none">
          <div class="pct">HTML · CSS · JS · Telegram API</div>
          <div class="pcn">BB.STUDIO</div>
          <div class="pcd">Этот сайт. Система шаблонов с живыми превью и встроенным просмотрщиком кода. Интеграция с Telegram для подтверждения оплаты.</div>
          <div class="pca" style="color:var(--green)">→ ТЫ ЗДЕСЬ</div>
        </div>

        <!-- BEYOND BIRTHDAY — canvas card, кнопка открывает сайт сознательно -->
        <div class="pc bb-card">
          <canvas id="bb-cv" class="bb-canvas"></canvas>
          <div class="bb-overlay-text">
            <div class="bb-name-1">BEYOND</div>
            <div class="bb-name-2">BIRTHDAY</div>
            <div class="bb-url-text">flokiss42-source.github.io</div>
          </div>
          <div style="padding:22px 26px 0">
            <div class="pct" style="color:var(--cyan)">Three.js · Canvas · WebGL · GSAP</div>
            <div class="pcn">BEYOND BIRTHDAY</div>
            <div class="pcd">Личный сайт-портфолио. Интерактивный 3D мир, атмосферный визуал, полностью на чистом HTML/CSS/JS — никаких фреймворков.</div>
          </div>
          <div class="bb-btn-row">
            <a href="https://flokiss42-source.github.io/beyond_birthday/" target="_blank" rel="noopener" class="bb-open-btn">ОТКРЫТЬ ПРОЕКТ →</a>
          </div>
        </div>

        <!-- VOID WHISPER -->
        <div class="pc" onclick="nav('tmpl')" style="cursor:none">
          <div class="pct">Three.js · Canvas · WebGL</div>
          <div class="pcn">VOID WHISPER</div>
          <div class="pcd">Интерактивная 3D галактика. Тысячи частиц, туманности, параллакс мыши — всё на Canvas 2D.</div>
          <div class="pca">→ СМОТРЕТЬ В ШАБЛОНАХ</div>
        </div>

        <div class="ctb">
          <div class="ctl">// СОТРУДНИЧЕСТВО И ВОПРОСЫ</div>
          <div class="ctg">@beyond_birthdayLB</div>
          <p style="font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--t3);margin-top:10px;line-height:1.8">Открыт для заказов, коллабораций<br>и хороших вопросов о вёрстке</p>
        </div>
      </div>
    </div>
  </div>
</section>

<footer>
  <div class="fc">© 2026 · <span>BB.STUDIO</span> · Beyond Birthday · ИНН 680201874302 · Самозанятый</div>
  <div class="fl">
    <a href="#" onclick="return openOferta()" style="color:var(--acc)">ОФЕРТА</a>
    <a href="https://t.me/beyond_birthdayLB" target="_blank">TELEGRAM</a>
    <a href="https://github.com/flokiss42-source" target="_blank">GITHUB</a>
  </div>
</footer>
<div style="background:var(--s2);border-top:1px solid var(--b1);padding:14px 48px;display:flex;flex-wrap:wrap;justify-content:space-between;gap:12px;font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--t3);letter-spacing:.1em">
  <span>ИНН: <strong style="color:var(--t2)">680201874302</strong> · Самозанятый · Налог на профессиональный доход (НПД)</span>
  <span>Контакт: <a href="https://t.me/beyond_birthdayLB" target="_blank" style="color:var(--cyan);text-decoration:none">@beyond_birthdayLB</a> · <a href="#" onclick="return openOferta()" style="color:var(--acc);text-decoration:none">Публичная оферта</a> · Цифровые товары не подлежат возврату</span>
</div>

<!-- ═══ TEMPLATE VIEWER ═══ -->
<div class="vov" id="vov">
  <div class="vbar">
    <button class="vback" onclick="closeViewer()">← НАЗАД</button>
    <div class="vdiv"></div>
    <span class="vtitle" id="vtitle">ШАБЛОН</span>
    <div class="vtabs" id="vtabs">
      <button class="vtab on" onclick="vtab(0,this)">ПРЕВЬЮ</button>
      <button class="vtab" onclick="vtab(1,this)">КОД + РАЗБОР</button>
    </div>
  </div>
  <div class="vbody">
    <div class="vpane on" id="vp0"><iframe id="vframe" title="Template Preview"></iframe></div>
    <div class="vpane" id="vp1"><div class="vcode" id="vcodeWrap"></div></div>
    <div class="vpane" id="vplocked">
      <div class="vlocked">
        <span class="vl-icon">🔒</span>
        <div class="vl-title">ПЛАТНЫЙ ШАБЛОН</div>
        <div class="vl-price" id="vlprice"></div>
        <div class="vl-sub">Полный исходный код, пошаговый разбор каждого технического решения и все секреты этого шаблона открываются сразу после покупки — прямо на этом сайте, без перезагрузки.</div>
        <button class="vl-btn" onclick="closeViewer();openMod('all')">КУПИТЬ ПОЛНЫЙ ДОСТУП — 18 300₽</button>
      </div>
    </div>
  </div>
</div>

<!-- ═══ PAYMENT MODAL ═══ -->
<div class="mov" id="mov" onclick="if(event.target===this)closeMod()">
  <div class="mbox">
    <div class="mtop"></div>
    <button class="mclose" onclick="closeMod()">✕</button>
    <div class="min">

      <!-- STEP 1 — ПОКУПКА -->
      <div class="ms on" id="ms1">
        <span class="mi" id="mod-icon">💎</span>
        <div class="mh" id="mod-title">ПОЛНЫЙ ДОСТУП К BB.STUDIO</div>
        <div class="mb" id="mod-desc">Все 20 премиум шаблонов с кодом и разбором. Оплата через Robokassa — карта, СБП, ЮMoney. Доступ открывается автоматически.</div>
        <div class="pr">
          <span class="pm" id="mod-price-main">18 300₽</span>
          <span class="po" id="mod-price-old"></span>
          <span class="psa" id="mod-price-sale">ПОЛНЫЙ ДОСТУП</span>
        </div>
        <ul class="pk" id="mod-features">
          <li>20 премиум шаблонов — полный исходный код</li>
          <li>Скачивание ZIP-архива прямо на сайте, без Telegram</li>
          <li>Пошаговый разбор каждого технического решения</li>
          <li>Объяснение архитектуры, CSS-трюков, JS-паттернов</li>
          <li>Флагманские шаблоны — 80% готовые решения для боевых проектов</li>
          <li>Обширный мануал с разбором каждой строки кода</li>
          <li>Все новые шаблоны включены автоматически</li>
          <li>Поддержка по вопросам верстки в Telegram</li>
        </ul>

        <!-- Способы оплаты -->
        <div class="yk-methods">
          <div class="yk-method-label">💳 ПРИНИМАЕМ — ROBOKASSA</div>
          <div class="yk-badges">
            <span class="yk-badge">Карта (МИР/Visa/MC)</span>
            <span class="yk-badge">СБП</span>
            <span class="yk-badge">ЮMoney</span>
            <span class="yk-badge">SberPay</span>
            <span class="yk-badge">QIWI</span>
          </div>
        </div>

        <div class="ws" id="ws1"><span class="wsd" id="wsd1"></span><span class="wst" id="wst1">...</span></div>

        <button class="bpay" id="mod-pay-btn" onclick="startRobokassa()" style="cursor:none">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><rect x="1" y="4" width="22" height="16" rx="2"/><line x1="1" y1="10" x2="23" y2="10"/></svg>
          ПЕРЕЙТИ К ОПЛАТЕ
        </button>
        <div class="msep"></div>
        <div class="thint">Нажимая «Перейти к оплате», вы принимаете условия <a href="#" onclick="return openOferta()">публичной оферты</a> · Вопросы: <a href="https://t.me/beyond_birthdayLB" target="_blank">@beyond_birthdayLB</a></div>
      </div>

      <!-- STEP 2 — ОЖИДАНИЕ ОПЛАТЫ -->
      <div class="ms" id="ms2">
        <span class="mi">⏳</span>
        <div class="mh">ОЖИДАЕМ ОПЛАТУ</div>
        <div class="pdots"><div class="pd"></div><div class="pd"></div><div class="pd"></div></div>
        <div class="mb">Страница оплаты Robokassa открыта в новой вкладке. Оплати там — доступ откроется здесь автоматически через несколько секунд.</div>
        <div class="ws" id="ws2"><span class="wsd" id="wsd2"></span><span class="wst" id="wst2">...</span></div>
        <div id="yk-pay-link-box" style="margin:12px 0 16px"></div>
        <button class="bret" onclick="gostep(1)" style="margin-top:4px">← НАЗАД</button>
        <div class="msep"></div>
        <div class="thint">Вопросы? <a href="https://t.me/beyond_birthdayLB" target="_blank">@beyond_birthdayLB</a></div>
      </div>

      <!-- STEP 4 — УСПЕХ -->
      <div class="ms" id="ms4">
        <span class="si">✅</span>
        <div class="mh" style="text-align:center">ДОСТУП ОТКРЫТ!</div>
        <div class="mb" style="text-align:center">Спасибо! Шаблоны разблокированы. Смотри превью и мануалы прямо здесь, или скачай архив с исходниками.</div>
        <button class="bgo" id="ms4-btn">ПЕРЕЙТИ К ШАБЛОНАМ →</button>
        <a href="#" class="bpay" id="ms4-dl" onclick="downloadArchive(event)" style="background:linear-gradient(135deg,var(--green),var(--cyan));color:var(--bg);font-weight:900;text-decoration:none;display:flex;align-items:center;justify-content:center;gap:10px;margin-bottom:16px">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
          СКАЧАТЬ АРХИВ С ИСХОДНИКАМИ
        </a>
        <a href="https://t.me/beyond_birthdayLB" target="_blank" class="bsm">НАПИСАТЬ В TELEGRAM</a>
      </div>

      <!-- STEP 5 — ОШИБКА -->
      <div class="ms" id="ms5">
        <span class="mi">❌</span>
        <div class="mh">ПЛАТЁЖ ОТМЕНЁН</div>
        <div class="rr" id="rrtxt">Платёж не прошёл или был отменён. Попробуй снова.</div>
        <button class="bret" onclick="gostep(1)">← ПОПРОБОВАТЬ СНОВА</button>
        <div class="msep"></div>
        <div class="thint">Вопросы? <a href="https://t.me/beyond_birthdayLB" target="_blank">@beyond_birthdayLB</a></div>
      </div>

    </div>
  </div>
</div>


<script>
/* ════════════════════════════════════
   BB.STUDIO v29 — Robokassa + Cloudflare Worker
════════════════════════════════════ */

// ⚠️ ЗАМЕНИ НА URL СВОЕГО CLOUDFLARE WORKER
const WORKER_URL = 'https://bb-studio-payments.YOUR-SUBDOMAIN.workers.dev';
// ⚠️ ЗАМЕНИ НА СВОЙ ROBOKASSA MERCHANT LOGIN
const ROBOKASSA_MERCHANT = 'ВАШ_MERCHANT_LOGIN';

let ykPaymentId = null;
let pollTmr     = null;
let _decided    = false;

/* ════════════════════════════════════
   FREE TEMPLATES
════════════════════════════════════ */
const FREE = [
  {
    id:'f1', name:'STARTUP LANDING', tech:'HTML · CSS · JS', price:'БЕСПЛАТНО',
    desc:'Лендинг стартапа: glassmorphism навигация, hero с gradient-текстом, сетка преимуществ, тарифы, FAQ-аккордеон, форма, футер.',
    // Inline HTML for live preview
    html: `<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:system-ui,sans-serif;background:#08080f;color:#f0f0ff;line-height:1.6}nav{position:sticky;top:0;padding:18px 48px;background:rgba(8,8,15,.92);backdrop-filter:blur(20px);display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(255,255,255,.06)}.logo{font-weight:900;font-size:20px;background:linear-gradient(110deg,#7c4dff,#00e5ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.cta{padding:10px 24px;background:linear-gradient(135deg,#7c4dff,#ff3cac);color:#fff;border:none;font-weight:700;cursor:pointer;font-size:14px}.hero{min-height:100vh;display:flex;align-items:center;justify-content:center;text-align:center;padding:80px 40px;background:radial-gradient(ellipse at 50% 60%,rgba(124,77,255,.15),transparent 65%)}.hero h1{font-size:clamp(36px,8vw,90px);font-weight:900;line-height:.9;margin-bottom:20px}.hero h1 span{background:linear-gradient(110deg,#7c4dff,#ff3cac,#00e5ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.hero p{font-size:18px;color:rgba(240,240,255,.6);max-width:520px;margin:0 auto 36px}.btns{display:flex;gap:14px;justify-content:center}.b1{padding:16px 36px;background:linear-gradient(135deg,#7c4dff,#ff3cac);color:#fff;border:none;font-size:16px;font-weight:700;cursor:pointer}.b2{padding:15px 36px;border:1px solid rgba(124,77,255,.5);color:#7c4dff;background:transparent;font-size:16px;cursor:pointer}.features{padding:100px 48px;max-width:1200px;margin:0 auto}.features h2{font-size:44px;font-weight:900;text-align:center;margin-bottom:56px}.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:24px}.card{background:#0e0e1a;border:1px solid rgba(255,255,255,.08);padding:32px;transition:border-color .3s}.card:hover{border-color:rgba(124,77,255,.4)}.icon{font-size:36px;margin-bottom:14px}.card h3{font-size:18px;font-weight:700;margin-bottom:8px}.card p{color:rgba(240,240,255,.5);font-size:14px}.pricing{background:#06060d;padding:80px 48px;text-align:center}.pricing h2{font-size:44px;font-weight:900;margin-bottom:56px}.pg{display:grid;grid-template-columns:repeat(3,1fr);gap:24px;max-width:900px;margin:0 auto}.pc{background:#0e0e1a;border:1px solid rgba(255,255,255,.08);padding:36px;position:relative}.pc.pop{border-color:#7c4dff}.pb{position:absolute;top:-12px;left:50%;transform:translateX(-50%);background:#7c4dff;color:#fff;font-size:11px;padding:4px 16px;font-weight:700}.pn{font-size:12px;letter-spacing:.2em;text-transform:uppercase;color:rgba(240,240,255,.4);margin-bottom:14px}.pp{font-size:48px;font-weight:900;margin-bottom:22px}.pp s{font-size:18px;color:rgba(240,240,255,.3)}.ul{list-style:none;margin-bottom:28px;text-align:left}.ul li{font-size:14px;color:rgba(240,240,255,.6);padding:8px 0;border-bottom:1px solid rgba(255,255,255,.05);display:flex;align-items:center;gap:8px}.ul li::before{content:'✓';color:#7c4dff;font-weight:700}.pbt{width:100%;padding:14px;background:linear-gradient(135deg,#7c4dff,#ff3cac);color:#fff;border:none;font-size:14px;font-weight:700;cursor:pointer}.faq{padding:80px 48px;max-width:760px;margin:0 auto}.faq h2{font-size:36px;font-weight:900;text-align:center;margin-bottom:40px}.qi{border-bottom:1px solid rgba(255,255,255,.08)}.q{padding:18px 0;font-size:16px;font-weight:600;cursor:pointer;display:flex;justify-content:space-between}.a{font-size:14px;color:rgba(240,240,255,.5);line-height:1.8;padding-bottom:18px;display:none}footer{background:#06060d;padding:32px 48px;display:flex;justify-content:space-between;border-top:1px solid rgba(255,255,255,.06);font-size:12px;color:rgba(240,240,255,.3)}@media(max-width:768px){.grid,.pg{grid-template-columns:1fr}.features,.pricing,.faq{padding:60px 24px}}</style></head><body><nav><div class="logo">NEXUS</div><button class="cta">ПОПРОБОВАТЬ</button></nav><section class="hero"><div><h1>СЛЕДУЮЩЕЕ<br><span>ПОКОЛЕНИЕ</span></h1><p>Революционный инструмент для команд. Автоматизируй, ускоряй, масштабируй.</p><div class="btns"><button class="b1">НАЧАТЬ БЕСПЛАТНО</button><button class="b2">ДЕМО →</button></div></div></section><section class="features"><h2>ВОЗМОЖНОСТИ</h2><div class="grid"><div class="card"><div class="icon">⚡</div><h3>Быстрый старт</h3><p>Запустись за 5 минут. Никакой сложной настройки.</p></div><div class="card"><div class="icon">🔒</div><h3>Безопасность</h3><p>Шифрование на уровне банков. Данные защищены.</p></div><div class="card"><div class="icon">📊</div><h3>Аналитика</h3><p>Все метрики в реальном времени в одном месте.</p></div></div></section><section class="pricing"><h2>ТАРИФЫ</h2><div class="pg"><div class="pc"><div class="pn">СТАРТ</div><div class="pp">0₽</div><ul class="ul"><li>5 проектов</li><li>1 GB хранилище</li><li>Email поддержка</li></ul><button class="pbt">НАЧАТЬ</button></div><div class="pc pop"><div class="pb">ПОПУЛЯРНО</div><div class="pn">ПРО</div><div class="pp">2 990₽</div><ul class="ul"><li>Безлимит проектов</li><li>100 GB хранилище</li><li>Приоритетная поддержка</li><li>Расширенная аналитика</li></ul><button class="pbt">ВЫБРАТЬ</button></div><div class="pc"><div class="pn">БИЗНЕС</div><div class="pp">9 900₽</div><ul class="ul"><li>Всё из Про</li><li>1 TB хранилище</li><li>API доступ</li><li>Персональный менеджер</li></ul><button class="pbt">СВЯЗАТЬСЯ</button></div></div></section><section class="faq"><h2>ВОПРОСЫ</h2><div class="qi"><div class="q" onclick="let a=this.nextSibling;a.style.display=a.style.display=='block'?'none':'block'">Как начать использовать? <span>+</span></div><div class="a">Зарегистрируйся, выбери тариф и следуй мастеру настройки. Всё готово за 5 минут.</div></div><div class="qi"><div class="q" onclick="let a=this.nextSibling;a.style.display=a.style.display=='block'?'none':'block'">Можно отменить подписку? <span>+</span></div><div class="a">Да, в любой момент. Никаких штрафов и скрытых платежей.</div></div><div class="qi"><div class="q" onclick="let a=this.nextSibling;a.style.display=a.style.display=='block'?'none':'block'">Есть пробный период? <span>+</span></div><div class="a">14 дней бесплатно на тарифе Про. Карта не нужна.</div></div></section><footer><span>© 2026 NEXUS</span><span>Политика · Контакты</span></footer></body></html>`,
    code: [
      { tag:'01 · HTML', title:'Структура лендинга', desc:'Лендинг = одна страница из независимых секций. Каждая секция автономна и может переставляться без поломки.',
        snippet:`<!-- Базовый скелет лендинга -->\n<nav>Навигация</nav>\n\n<section class="hero">\n  <h1>Главный заголовок</h1>\n  <p>Подзаголовок</p>\n  <div class="buttons">...</div>\n</section>\n\n<section class="features">\n  <div class="grid">\n    <div class="card">...</div> <!-- 3 карточки -->\n  </div>\n</section>\n\n<section class="pricing">...</section>\n<section class="faq">...</section>\n<footer>...</footer>`, lang:'HTML'},
      { tag:'02 · CSS', title:'Glassmorphism навигация', desc:'Фиксированная шапка с эффектом матового стекла. backdrop-filter:blur — ключевое свойство. Поддерживается всеми современными браузерами.',
        snippet:`nav {\n  position: sticky; /* или fixed */\n  top: 0;\n  width: 100%;\n  z-index: 100;\n\n  /* Матовое стекло */\n  background: rgba(8, 8, 15, 0.92);\n  backdrop-filter: blur(20px);\n  -webkit-backdrop-filter: blur(20px);\n\n  /* Тонкая линия снизу */\n  border-bottom: 1px solid rgba(255, 255, 255, 0.06);\n}`, lang:'CSS'},
      { tag:'03 · CSS', title:'Gradient текст', desc:'background-clip:text обрезает градиент по форме букв. Стандартный трюк для красивых заголовков. Работает в любом браузере с -webkit- префиксом.',
        snippet:`h1 span {\n  /* 1. Задаём градиент как фон */\n  background: linear-gradient(\n    110deg,\n    #7c4dff 0%,\n    #ff3cac 50%,\n    #00e5ff 100%\n  );\n\n  /* 2. Обрезаем по тексту */\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n\n  /* Стандарт (уже везде работает) */\n  background-clip: text;\n  color: transparent;\n}`, lang:'CSS'},
      { tag:'04 · CSS', title:'Адаптивная сетка без медиазапросов', desc:'CSS Grid с auto-fill + minmax сам перестраивает колонки под ширину экрана. 3 колонки → 2 → 1 без единого @media.',
        snippet:`.grid {\n  display: grid;\n\n  /* auto-fill = "поставь столько колонок сколько влезет"\n     minmax(280px, 1fr) = минимум 280px, максимум 1fr */\n  grid-template-columns: repeat(\n    auto-fill,\n    minmax(280px, 1fr)\n  );\n\n  gap: 24px;\n}\n\n/* Без медиазапросов:\n   > 900px = 3 колонки\n   > 580px = 2 колонки\n   < 580px = 1 колонка */`, lang:'CSS'},
      { tag:'05 · JS', title:'FAQ аккордеон — чистый JS', desc:'Без jQuery, без библиотек. Клик по вопросу — toggles ответ. Один атрибут onclick в HTML.',
        snippet:`<!-- В HTML — одна строчка JS в onclick -->\n<div class="faq-item">\n  <div class="question"\n    onclick="\n      const ans = this.nextElementSibling;\n      const icon = this.querySelector('.icon');\n      const isOpen = ans.style.display === 'block';\n      ans.style.display = isOpen ? 'none' : 'block';\n      icon.textContent = isOpen ? '+' : '−';\n    ">\n    Как начать? <span class="icon">+</span>\n  </div>\n  <div class="answer">Ответ здесь...</div>\n</div>`, lang:'HTML/JS'},
      { tag:'06 · CSS', title:'Адаптивность без медиазапросов — Fluid Typography', desc:'clamp() масштабирует шрифт плавно между минимумом и максимумом. Один параметр заменяет 3–4 медиазапроса.',
        snippet:`/* clamp(MIN, PREFERRED, MAX) */\n.hero-title {\n  /* Минимум 36px, максимум 90px, в идеале 8% от ширины вьюпорта */\n  font-size: clamp(36px, 8vw, 90px);\n  /* На экране 360px  = 36px  (минимум)\n     На экране 700px  = 56px  (8vw)\n     На экране 1200px = 90px  (максимум) */\n}\n\n.section-title {\n  font-size: clamp(24px, 4vw, 44px);\n}\n\n.body-text {\n  font-size: clamp(14px, 1.5vw, 18px);\n}\n\n/* Те же принципы для отступов */\n.hero {\n  padding: clamp(60px, 10vh, 120px) clamp(24px, 5vw, 80px);\n}`, lang:'CSS'},
      { tag:'07 · CSS', title:'Sticky навигация с blur — правильный способ', desc:'position:sticky останавливает элемент при скролле. backdrop-filter:blur создаёт эффект матового стекла. Работает во всех современных браузерах.',
        snippet:`nav {\n  position: sticky;\n  top: 0;\n  z-index: 100; /* поверх всего контента */\n\n  /* Матовое стекло */\n  background: rgba(8, 8, 15, 0.92); /* полупрозрачный */\n  backdrop-filter: blur(20px); /* размытие фона */\n  -webkit-backdrop-filter: blur(20px); /* Safari */\n\n  border-bottom: 1px solid rgba(255, 255, 255, 0.06);\n\n  /* Плавное появление тени при скролле */\n  transition: box-shadow 0.3s;\n}\n\n/* Добавляем тень когда пользователь scrolled */\nnav.scrolled {\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);\n}\n\n/* JS — добавляем класс при скролле */\nwindow.addEventListener('scroll', () => {\n  document.querySelector('nav').classList\n    .toggle('scrolled', window.scrollY > 20);\n});`, lang:'CSS/JS'},
      { tag:'08 · JS', title:'Анимация появления при скролле — Intersection Observer', desc:'Современный способ запускать анимации когда элемент попадает в зону видимости. Без библиотек, без scroll-listener.',
        snippet:`// CSS — скрываем элементы по умолчанию\n.reveal {\n  opacity: 0;\n  transform: translateY(40px);\n  transition: opacity 0.7s ease, transform 0.7s ease;\n}\n\n.reveal.visible {\n  opacity: 1;\n  transform: translateY(0);\n}\n\n// JS — наблюдаем за элементами\nconst observer = new IntersectionObserver(\n  (entries) => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        entry.target.classList.add('visible');\n        // observer.unobserve(entry.target); // раскомментируй для однократной анимации\n      }\n    });\n  },\n  {\n    threshold: 0.15, // показываем когда 15% элемента видно\n    rootMargin: '0px 0px -50px 0px' // чуть раньше\n  }\n);\n\n// Вешаем на все элементы с классом .reveal\ndocument.querySelectorAll('.reveal').forEach(el => {\n  observer.observe(el);\n});`, lang:'JS'},
    ]
  },
  {
    id:'f2', name:'PORTFOLIO DARK', tech:'HTML · CSS', price:'БЕСПЛАТНО',
    desc:'Тёмное портфолио. Hero с outline-текстом, сетка работ с hover-оверлеем, animated skill bars, секция контакта.',
    html:`<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}:root{--bg:#040407;--s:#0a0a10;--t:#f5f5ff;--t2:rgba(245,245,255,.5);--acc:#7c4dff;--cy:#00e5ff}body{font-family:'Segoe UI',system-ui,sans-serif;background:var(--bg);color:var(--t);cursor:default}nav{display:flex;justify-content:space-between;align-items:center;padding:28px 64px;position:sticky;top:0;z-index:100;background:rgba(4,4,7,.9);backdrop-filter:blur(20px)}.nl{font-size:18px;font-weight:900}.na{display:flex;gap:32px}.na a{color:var(--t2);text-decoration:none;font-size:14px;transition:color .2s}.na a:hover{color:var(--t)}.hero{min-height:100vh;display:flex;align-items:center;padding:0 64px;position:relative;overflow:hidden}.hbg{position:absolute;inset:0;background:radial-gradient(ellipse 55% 55% at 68% 50%,rgba(124,77,255,.12),transparent)}.hc{position:relative;z-index:1}.htag{font-size:13px;color:var(--cy);letter-spacing:.3em;text-transform:uppercase;margin-bottom:22px}.hn{font-size:clamp(56px,10vw,118px);font-weight:900;line-height:.85;letter-spacing:-.04em;margin-bottom:30px}.hn .l2{color:transparent;-webkit-text-stroke:1px rgba(245,245,255,.25)}.hd{font-size:18px;color:var(--t2);line-height:1.7;max-width:460px;margin-bottom:44px}.hb{display:flex;gap:14px}.b1{padding:14px 36px;background:var(--acc);color:#fff;border:none;font-size:15px;font-weight:600;cursor:pointer;transition:all .2s}.b1:hover{background:#9c6dff;transform:translateY(-2px)}.b2{padding:13px 36px;border:1px solid rgba(255,255,255,.15);color:var(--t2);background:transparent;font-size:15px;cursor:pointer;transition:all .2s}.b2:hover{border-color:var(--t2);color:var(--t)}.work{padding:100px 64px;max-width:1200px;margin:0 auto}.wh{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:52px}.wt{font-size:44px;font-weight:900}.wc{font-size:12px;color:var(--t2);letter-spacing:.25em}.wg{display:grid;grid-template-columns:repeat(2,1fr);gap:2px}.wi{position:relative;background:var(--s);aspect-ratio:16/9;overflow:hidden;cursor:pointer}.wth{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:80px;transition:transform .5s ease}.wi:hover .wth{transform:scale(1.06)}.wo{position:absolute;inset:0;background:linear-gradient(to top,rgba(4,4,7,.95),transparent 50%);opacity:0;transition:opacity .3s;display:flex;flex-direction:column;justify-content:flex-end;padding:28px}.wi:hover .wo{opacity:1}.woc{font-size:11px;letter-spacing:.25em;color:var(--cy);text-transform:uppercase;margin-bottom:7px}.won{font-size:22px;font-weight:700;margin-bottom:5px}.wod{font-size:13px;color:var(--t2)}.skills{padding:80px 64px;background:var(--s)}.si{max-width:820px;margin:0 auto}.st{font-size:36px;font-weight:900;margin-bottom:36px}.sb{display:flex;flex-direction:column;gap:18px}.sr{display:flex;flex-direction:column;gap:7px}.sh{display:flex;justify-content:space-between;font-size:14px}.sk{height:3px;background:rgba(255,255,255,.08)}.sf{height:100%;background:linear-gradient(90deg,var(--acc),var(--cy));transform:scaleX(0);transform-origin:left;animation:fb 1.5s ease forwards}.d1{animation-delay:.1s}.d2{animation-delay:.3s}.d3{animation-delay:.5s}.d4{animation-delay:.7s}@keyframes fb{to{transform:scaleX(1)}}.contact{padding:100px 64px;text-align:center}.ct{font-size:clamp(36px,7vw,72px);font-weight:900;line-height:.9;margin-bottom:36px}.ct span{background:linear-gradient(110deg,var(--acc),var(--cy));-webkit-background-clip:text;-webkit-text-fill-color:transparent}.ce{font-size:22px;color:var(--t2);text-decoration:none;border-bottom:1px solid rgba(255,255,255,.1);padding-bottom:4px;display:inline-block;transition:color .2s}.ce:hover{color:var(--t)}footer{padding:28px 64px;border-top:1px solid rgba(255,255,255,.05);display:flex;justify-content:space-between;font-size:12px;color:var(--t2)}@media(max-width:768px){nav,.hero,.work,.skills,.contact,.contact+footer{padding-left:24px;padding-right:24px}.wg{grid-template-columns:1fr}}</style></head><body><nav><div class="nl">ALEX.DEV</div><div class="na"><a href="#">Работы</a><a href="#">Навыки</a><a href="#">Контакт</a></div></nav><div class="hero"><div class="hbg"></div><div class="hc"><div class="htag">/ Frontend Developer</div><h1 class="hn"><span class="l1">ALEX</span><br><span class="l2">IVANOV</span></h1><p class="hd">Создаю сайты которые запоминаются. Три.js, Canvas, нестандартный визуал.</p><div class="hb"><button class="b1">СМОТРЕТЬ РАБОТЫ</button><button class="b2">КОНТАКТ</button></div></div></div><section class="work"><div class="wh"><h2 class="wt">РАБОТЫ</h2><span class="wc">04 ПРОЕКТА</span></div><div class="wg"><div class="wi"><div class="wth">🌌</div><div class="wo"><div class="woc">Three.js · WebGL</div><div class="won">Void Whisper</div><div class="wod">3D галактика</div></div></div><div class="wi"><div class="wth">⚡</div><div class="wo"><div class="woc">HTML · GSAP</div><div class="won">Nexus App</div><div class="wod">SaaS лендинг</div></div></div><div class="wi"><div class="wth">🎨</div><div class="wo"><div class="woc">Canvas 2D</div><div class="won">Particle Art</div><div class="wod">Интерактивные частицы</div></div></div><div class="wi"><div class="wth">🛒</div><div class="wo"><div class="woc">HTML · CSS · JS</div><div class="won">Dark Shop</div><div class="wod">Магазин с корзиной</div></div></div></div></section><section class="skills"><div class="si"><h2 class="st">НАВЫКИ</h2><div class="sb"><div class="sr"><div class="sh"><span>HTML / CSS</span><span>96%</span></div><div class="sk"><div class="sf d1" style="width:96%"></div></div></div><div class="sr"><div class="sh"><span>JavaScript</span><span>88%</span></div><div class="sk"><div class="sf d2" style="width:88%"></div></div></div><div class="sr"><div class="sh"><span>Three.js / WebGL</span><span>75%</span></div><div class="sk"><div class="sf d3" style="width:75%"></div></div></div><div class="sr"><div class="sh"><span>GSAP / Анимации</span><span>82%</span></div><div class="sk"><div class="sf d4" style="width:82%"></div></div></div></div></div></section><section class="contact"><h2 class="ct">ДАВАЙ<br><span>РАБОТАТЬ</span></h2><a href="mailto:alex@example.com" class="ce">alex@example.com</a></section><footer><span>© 2026 Alex Ivanov</span><span>HTML/CSS/JS</span></footer></body></html>`,
    code:[
      {tag:'01 · CSS',title:'Outline text эффект',desc:'Вторая строка заголовка пустая с обводкой. Создаёт глубину и дизайнерский акцент без изображений.',
       snippet:`.name .line1 {\n  color: #f5f5ff; /* обычная заливка */\n}\n\n.name .line2 {\n  color: transparent;\n  /* Только обводка — без заливки */\n  -webkit-text-stroke: 1px rgba(245, 245, 255, 0.25);\n  /* Поддерживается всеми современными браузерами */\n}\n\n/* Для большего эффекта — увеличивай пиксели обводки:\n   1px = тонко и воздушно\n   2px = жирнее, выразительнее */`, lang:'CSS'},
      {tag:'02 · CSS',title:'Hover overlay на карточках работ',desc:'Оверлей скрыт по умолчанию, появляется через opacity при hover. position:absolute + inset:0 = перекрывает весь родитель.',
       snippet:`.work-item {\n  position: relative;\n  aspect-ratio: 16 / 9; /* всегда правильные пропорции */\n  overflow: hidden;     /* скрываем что выходит за края */\n}\n\n.work-overlay {\n  position: absolute;\n  inset: 0; /* = top:0; right:0; bottom:0; left:0 */\n  opacity: 0; /* скрыт */\n  transition: opacity 0.3s ease;\n\n  /* Градиент снизу — для читаемости текста */\n  background: linear-gradient(\n    to top,\n    rgba(4, 4, 7, 0.95) 0%,\n    transparent 55%\n  );\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  padding: 28px;\n}\n\n/* Показываем при hover на родителе */\n.work-item:hover .work-overlay {\n  opacity: 1;\n}`, lang:'CSS'},
      {tag:'03 · CSS',title:'Skill bars — анимация через @keyframes',desc:'Полоски навыков растут слева направо при загрузке страницы. Задержки d1/d2/d3 = stagger-эффект.',
       snippet:`/* Анимация роста */\n@keyframes fillBar {\n  from { transform: scaleX(0); }\n  to   { transform: scaleX(1); }\n}\n\n.skill-fill {\n  height: 3px;\n  background: linear-gradient(90deg, #7c4dff, #00e5ff);\n  transform-origin: left; /* растём СЛЕВА направо */\n\n  /* Начинаем с нуля, доходим до полного */\n  animation: fillBar 1.5s ease forwards;\n}\n\n/* Разные задержки = stagger-эффект */\n.skill-fill.d1 { animation-delay: 0.1s; }\n.skill-fill.d2 { animation-delay: 0.3s; }\n.skill-fill.d3 { animation-delay: 0.5s; }\n.skill-fill.d4 { animation-delay: 0.7s; }\n\n<!-- В HTML задаём конечную ширину через style -->\n<div class="skill-fill d1" style="width: 96%"></div>`, lang:'CSS'},
      {tag:'04 · CSS',title:'Gradient текст для hero-заголовка',desc:'background-clip:text обрезает фон по форме букв. Стандартный трюк для эффектных заголовков. Работает в Chrome, Firefox, Safari.',
       snippet:`.hero-title {\n  /* Задаём градиент как фон */\n  background: linear-gradient(\n    110deg,\n    #7c4dff 0%,\n    #ff3cac 50%,\n    #00e5ff 100%\n  );\n  /* Обрезаем по форме букв */\n  -webkit-background-clip: text;\n  background-clip: text;\n  /* Прячем сам фон */\n  -webkit-text-fill-color: transparent;\n  color: transparent;\n}\n\n/* Анимированный градиент (moving) */\n@keyframes gradient-shift {\n  0%   { background-position: 0% 50%; }\n  50%  { background-position: 100% 50%; }\n  100% { background-position: 0% 50%; }\n}\n.animated-gradient {\n  background-size: 200% auto;\n  animation: gradient-shift 4s linear infinite;\n}`, lang:'CSS'},
      {tag:'05 · JS',title:'Smooth scroll к секциям по клику',desc:'Нативный smooth scroll без библиотек. Один attrribute в CSS включает плавный скролл для всей страницы.',
       snippet:`/* CSS — одна строка для всего сайта */\nhtml {\n  scroll-behavior: smooth;\n}\n\n<!-- Якорные ссылки в nav -->\n<a href="#works">Работы</a>\n<a href="#skills">Навыки</a>\n\n<!-- Секции с id -->\n<section id="works">...</section>\n<section id="skills">...</section>\n\n// JS — если нужно больше контроля\ndocument.querySelectorAll('a[href^="#"]').forEach(a => {\n  a.addEventListener('click', e => {\n    e.preventDefault();\n    const target = document.querySelector(a.getAttribute('href'));\n    if (!target) return;\n    target.scrollIntoView({\n      behavior: 'smooth',\n      block: 'start'\n    });\n  });\n});`, lang:'CSS/JS'},
    ]
  },
  {
    id:'f3', name:'DARK BLOG', tech:'HTML · CSS · JS', price:'БЕСПЛАТНО',
    desc:'Блог разработчика. Reading progress bar вверху, список статей с сайдбаром, правильная типографика для чтения.',
    html:`<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}:root{--bg:#030305;--s:#08080e;--t:#e8e8f8;--t2:rgba(232,232,248,.5);--t3:rgba(232,232,248,.2);--acc:#7c4dff;--cy:#00e5ff}body{font-family:'Georgia',serif;background:var(--bg);color:var(--t);line-height:1.6}#pr{position:fixed;top:0;left:0;height:3px;background:linear-gradient(90deg,var(--acc),var(--cy));width:0%;z-index:200;transition:width .1s linear;pointer-events:none}nav{position:sticky;top:3px;width:100%;padding:18px 64px;background:rgba(3,3,5,.92);backdrop-filter:blur(20px);display:flex;justify-content:space-between;align-items:center;z-index:100;border-bottom:1px solid rgba(255,255,255,.05)}.logo{font-weight:700;font-size:20px;letter-spacing:-.02em}.logo span{color:var(--acc)}.nr{display:flex;gap:24px}.nr a{color:var(--t2);text-decoration:none;font-size:14px;font-family:monospace;transition:color .2s}.nr a:hover{color:var(--t)}.hero{padding:120px 64px 70px;max-width:1100px;margin:0 auto}.he{font-family:monospace;font-size:12px;letter-spacing:.3em;color:var(--cy);text-transform:uppercase;margin-bottom:18px}.ht{font-size:clamp(36px,7vw,74px);font-weight:700;line-height:.95;margin-bottom:18px}.hs{font-size:18px;color:var(--t2);margin-bottom:40px}.cats{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:0}.cb{font-family:monospace;font-size:12px;letter-spacing:.15em;text-transform:uppercase;padding:7px 16px;border:1px solid rgba(255,255,255,.1);background:transparent;color:var(--t2);cursor:pointer;transition:all .2s}.cb.on,.cb:hover{border-color:var(--acc);color:var(--acc);background:rgba(124,77,255,.08)}.main{max-width:1100px;margin:0 auto;padding:40px 64px 80px;display:grid;grid-template-columns:2fr 1fr;gap:56px}.ma{cursor:pointer}.mi{width:100%;aspect-ratio:16/9;background:var(--s);display:flex;align-items:center;justify-content:center;font-size:80px;margin-bottom:22px;position:relative}.mi::after{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(124,77,255,.08),rgba(0,229,255,.04))}.mm{display:flex;align-items:center;gap:14px;margin-bottom:14px;font-family:monospace;font-size:12px;color:var(--t3)}.mt{color:var(--acc)}.mh{font-size:28px;font-weight:700;line-height:1.2;margin-bottom:10px;transition:color .2s}.ma:hover .mh{color:var(--cy)}.md{color:var(--t2);font-size:15px;line-height:1.8;margin-bottom:18px}.mr{font-family:monospace;font-size:12px;letter-spacing:.2em;text-transform:uppercase;color:var(--acc)}.sb{display:flex;flex-direction:column;gap:22px}.sbt{font-family:monospace;font-size:11px;letter-spacing:.3em;text-transform:uppercase;color:var(--t3);margin-bottom:6px}.sa{cursor:pointer;padding-bottom:22px;border-bottom:1px solid rgba(255,255,255,.06)}.sa:last-child{border-bottom:none}.sm{font-family:monospace;font-size:11px;color:var(--t3);margin-bottom:7px}.sh{font-size:17px;font-weight:700;line-height:1.3;margin-bottom:7px;transition:color .2s}.sa:hover .sh{color:var(--cy)}.se{font-size:14px;color:var(--t2);line-height:1.7}footer{border-top:1px solid rgba(255,255,255,.06);padding:28px 64px;display:flex;justify-content:space-between;font-family:monospace;font-size:12px;color:var(--t3)}@media(max-width:900px){.main,.hero{padding-left:24px;padding-right:24px}.main{grid-template-columns:1fr}}</style></head><body><div id="pr"></div><nav><div class="logo">DEV<span>.</span>LOG</div><div class="nr"><a href="#">Статьи</a><a href="#">Теги</a><a href="#">О блоге</a></div></nav><div class="hero"><div class="he">// Дневник разработчика</div><h1 class="ht">КОД.<br>МЫСЛИ.<br>ОПЫТ.</h1><p class="hs">Пишу о Three.js, Canvas, анимациях.</p><div class="cats"><button class="cb on">ВСЕ</button><button class="cb">THREE.JS</button><button class="cb">CSS</button><button class="cb">JS</button></div></div><div class="main"><div class="ma"><div class="mi">🌌</div><div class="mm"><span class="mt">THREE.JS</span><span>·</span><span>12 февр 2026</span><span>·</span><span>8 мин</span></div><h2 class="mh">Галактика на Three.js: от нуля до публикации</h2><p class="md">Как построить интерактивную 3D галактику с тысячами частиц, туманностями и реакцией на мышь.</p><span class="mr">ЧИТАТЬ →</span></div><div class="sb"><div class="sbt">// Последнее</div><div class="sa"><div class="sm">CSS · 5 мин</div><h3 class="sh">5 CSS трюков которые я использую каждый день</h3><p class="se">clip-path, backdrop-filter, conic-gradient и другие.</p></div><div class="sa"><div class="sm">JS · 4 мин</div><h3 class="sh">requestAnimationFrame: как не делать тормоза</h3><p class="se">Правильный анимационный цикл и частые ошибки.</p></div><div class="sa"><div class="sm">Инструменты · 6 мин</div><h3 class="sh">VS Code расширения которые я не могу снести</h3><p class="se">Мой список из 8 расширений для фронтенда.</p></div></div></div><footer><span>© 2026 DEV.LOG</span><span>Чистый HTML/CSS/JS</span></footer><script>window.addEventListener('scroll',()=>{const d=document.documentElement;document.getElementById('pr').style.width=(d.scrollTop/(d.scrollHeight-d.clientHeight)*100)+'%'});<\/script></body></html>`,
    code:[
      {tag:'01 · UX',title:'Reading Progress Bar',desc:'Тонкая полоска вверху страницы показывает прогресс чтения. Один event listener на scroll — считаем процент.',
       snippet:`// HTML — фиксированная полоска\n<div id="progress"></div>\n\n// CSS\n#progress {\n  position: fixed;\n  top: 0; left: 0;\n  height: 3px;\n  background: linear-gradient(90deg, #7c4dff, #00e5ff);\n  width: 0%; /* меняем через JS */\n  z-index: 200;\n  transition: width 0.1s linear;\n  pointer-events: none; /* не перехватывает клики */\n}\n\n// JS\nwindow.addEventListener('scroll', () => {\n  const doc = document.documentElement;\n  const scrolled  = doc.scrollTop;\n  const maxScroll = doc.scrollHeight - doc.clientHeight;\n  const percent   = (scrolled / maxScroll) * 100;\n\n  document.getElementById('progress').style.width\n    = percent + '%';\n});`, lang:'JS'},
      {tag:'02 · Типографика',title:'Типографика для длинного текста',desc:'Три правила хорошей читаемости: serif-шрифт для тела, ограниченная ширина колонки, комфортный межстрочный интервал.',
       snippet:`/* Тело статьи */\n.article-text {\n  font-family: 'Georgia', serif; /* serif читается лучше */\n  font-size: 18px;               /* не мельчи */\n  line-height: 1.8;              /* ключевое для чтения */\n  max-width: 680px;              /* оптимум = 60-75 символов в строке */\n  color: rgba(232, 232, 248, 0.8); /* не #fff — мягче для глаз */\n  margin: 0 auto;\n}\n\n/* Мета и служебные элементы — monospace */\n.meta, .tag, code, pre {\n  font-family: 'JetBrains Mono', monospace;\n  font-size: 13px;\n  letter-spacing: 0.05em;\n}`, lang:'CSS'},
      {tag:'03 · CSS',title:'Сайдбар на sticky — прилипает при скролле статьи',desc:'position:sticky на сайдбаре позволяет ему оставаться на экране пока читаешь длинный контент рядом.',
       snippet:`.layout {\n  display: grid;\n  grid-template-columns: 1fr 320px; /* основной + сайдбар */\n  gap: 60px;\n  align-items: start; /* ВАЖНО: без этого sticky не работает */\n}\n\n.sidebar {\n  position: sticky;\n  top: 80px; /* отступ от верха (высота nav) */\n  /* Теперь сайдбар "прилипает" когда доходит до top:80px */\n}\n\n/* Сайдбар сам может скроллиться если он длиннее экрана */\n.sidebar {\n  max-height: calc(100vh - 100px);\n  overflow-y: auto;\n  scrollbar-width: thin;\n}`, lang:'CSS'},
      {tag:'04 · JS',title:'Подсветка активной секции в навигации',desc:'При скролле подсвечиваем ссылку которая соответствует текущей секции. Используем Intersection Observer.',
       snippet:`const sections = document.querySelectorAll('section[id]');\nconst navLinks = document.querySelectorAll('.sidebar-nav a');\n\nconst observer = new IntersectionObserver(\n  (entries) => {\n    entries.forEach(entry => {\n      if (!entry.isIntersecting) return;\n\n      // Снимаем active со всех\n      navLinks.forEach(a => a.classList.remove('active'));\n\n      // Находим соответствующую ссылку\n      const link = document.querySelector(\n        \`.sidebar-nav a[href="#\${entry.target.id}"]\`\n      );\n      if (link) link.classList.add('active');\n    });\n  },\n  {\n    rootMargin: '-20% 0px -70% 0px',\n    // Секция считается активной когда она в верхней 30% экрана\n  }\n);\n\nsections.forEach(s => observer.observe(s));`, lang:'JS'},
    ]
  },
  {
    id:'f4', name:'PRODUCT CARD', tech:'HTML · CSS · JS', price:'БЕСПЛАТНО',
    desc:'Карточка товара для e-commerce. Галерея с переключением, выбор цвета/размера, счётчик, анимация добавления в корзину.',
    html:`<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:system-ui,sans-serif;background:#f5f5f7;color:#1d1d1f;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:40px 20px}.card{background:#fff;display:grid;grid-template-columns:1fr 1fr;max-width:900px;width:100%;box-shadow:0 40px 100px rgba(0,0,0,.12)}.gal{display:flex;flex-direction:column}.mi{aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:110px;background:linear-gradient(135deg,#f0f0ff,#e8e8ff)}.th{display:flex;border-top:1px solid #e5e5e5}.t{flex:1;aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:28px;background:#fff;border-right:1px solid #e5e5e5;cursor:pointer;transition:background .2s;opacity:.45}.t.on{opacity:1;background:#f0f0ff}.t:last-child{border-right:none}.inf{padding:44px 38px}.brand{font-size:12px;letter-spacing:.15em;text-transform:uppercase;color:#999;margin-bottom:10px}.title{font-size:26px;font-weight:700;line-height:1.2;margin-bottom:12px}.rat{display:flex;align-items:center;gap:8px;margin-bottom:18px}.stars{color:#ffd700;font-size:14px;letter-spacing:2px}.rc{font-size:13px;color:#999}.pr{display:flex;align-items:baseline;gap:10px;margin-bottom:26px}.p{font-size:34px;font-weight:700}.po{font-size:17px;color:#999;text-decoration:line-through}.pd{font-size:12px;background:#ff3b30;color:#fff;padding:3px 10px;font-weight:600}.ol{font-size:12px;font-weight:600;color:#666;text-transform:uppercase;letter-spacing:.1em;margin-bottom:10px}.co{display:flex;gap:10px;margin-bottom:22px}.cc{width:30px;height:30px;border-radius:50%;cursor:pointer;border:3px solid transparent;transition:border-color .2s}.cc.on{border-color:#1d1d1f}.so{display:flex;gap:8px;margin-bottom:24px}.sc{padding:8px 18px;border:1px solid #ddd;background:#fff;font-size:14px;cursor:pointer;transition:all .2s}.sc.on,.sc:hover{border-color:#1d1d1f;background:#1d1d1f;color:#fff}.qr{display:flex;align-items:center;gap:14px;margin-bottom:24px}.ql{font-size:12px;font-weight:600;color:#666;text-transform:uppercase;letter-spacing:.1em}.qc{display:flex;align-items:center;border:1px solid #ddd}.qb{width:36px;height:36px;background:#fff;border:none;font-size:18px;cursor:pointer}.qv{width:44px;text-align:center;font-size:16px;font-weight:600;border:none;border-left:1px solid #ddd;border-right:1px solid #ddd;height:36px;background:#fff}.ab{width:100%;padding:16px;background:#1d1d1f;color:#fff;border:none;font-size:15px;font-weight:700;cursor:pointer;transition:all .3s;text-transform:uppercase;letter-spacing:.05em}.ab.ok{background:#00c853}.desc{margin-top:22px;padding-top:22px;border-top:1px solid #f0f0f0;font-size:14px;color:#666;line-height:1.8}@media(max-width:580px){.card{grid-template-columns:1fr}.inf{padding:28px 22px}}</style></head><body><div class="card"><div class="gal"><div class="mi" id="mi">👟</div><div class="th"><div class="t on" onclick="si(this,'👟')">👟</div><div class="t" onclick="si(this,'🥾')">🥾</div><div class="t" onclick="si(this,'👠')">👠</div><div class="t" onclick="si(this,'👡')">👡</div></div></div><div class="inf"><div class="brand">URBAN KICKS</div><h1 class="title">Air Runner Pro 2026</h1><div class="rat"><span class="stars">★★★★★</span><span class="rc">4.9 (312 отзывов)</span></div><div class="pr"><span class="p">12 990₽</span><span class="po">18 000₽</span><span class="pd">−28%</span></div><div class="ol">Цвет</div><div class="co"><div class="cc on" style="background:#1d1d1f" onclick="sc(this,'.cc')"></div><div class="cc" style="background:#c0392b" onclick="sc(this,'.cc')"></div><div class="cc" style="background:#2980b9" onclick="sc(this,'.cc')"></div><div class="cc" style="background:#f39c12" onclick="sc(this,'.cc')"></div></div><div class="ol">Размер</div><div class="so"><div class="sc" onclick="sc(this,'.sc')">39</div><div class="sc on" onclick="sc(this,'.sc')">40</div><div class="sc" onclick="sc(this,'.sc')">41</div><div class="sc" onclick="sc(this,'.sc')">42</div><div class="sc" onclick="sc(this,'.sc')">43</div></div><div class="qr"><span class="ql">Кол-во</span><div class="qc"><button class="qb" onclick="qa(-1)">−</button><input class="qv" id="qv" value="1" readonly><button class="qb" onclick="qa(1)">+</button></div></div><button class="ab" id="ab" onclick="addCart()">ДОБАВИТЬ В КОРЗИНУ</button><div class="desc">Революционная подошва Air-Foam 3.0: амортизация на 40% лучше. Верх из переработанного материала.</div></div></div><script>function si(el,e){document.querySelectorAll('.t').forEach(t=>t.classList.remove('on'));el.classList.add('on');document.getElementById('mi').textContent=e;}function sc(el,s){document.querySelectorAll(s).forEach(x=>x.classList.remove('on'));el.classList.add('on');}function qa(d){const i=document.getElementById('qv');const v=parseInt(i.value)+d;if(v>=1&&v<=10)i.value=v;}function addCart(){const b=document.getElementById('ab');b.classList.add('ok');b.textContent='✓ ДОБАВЛЕНО В КОРЗИНУ';setTimeout(()=>{b.classList.remove('ok');b.textContent='ДОБАВИТЬ В КОРЗИНУ';},2200);}<\/script></body></html>`,
    code:[
      {tag:'01 · Паттерн JS',title:'Выбор опций: цвет / размер',desc:'Универсальный паттерн "один активный элемент": убираем класс у всех в группе, добавляем нажатому.',
       snippet:`// Универсальная функция — работает для любой группы\nfunction selectOne(el, groupSelector) {\n  // Убираем .on у всех в группе\n  document.querySelectorAll(groupSelector)\n    .forEach(x => x.classList.remove('on'));\n\n  // Добавляем только нажатому\n  el.classList.add('on');\n}\n\n<!-- В HTML — вызов через onclick -->\n<div class="size-btn"\n  onclick="selectOne(this, '.size-btn')">42</div>\n\n<div class="color-dot"\n  onclick="selectOne(this, '.color-dot')"></div>\n\n/* CSS — активное состояние */\n.size-btn.on {\n  background: #1d1d1f;\n  color: #fff;\n  border-color: #1d1d1f;\n}`, lang:'JS/HTML'},
      {tag:'02 · UX',title:'Анимация кнопки "В корзину"',desc:'Визуальный фидбэк без библиотек. Меняем цвет и текст кнопки, через 2 сек возвращаем обратно.',
       snippet:`function addToCart() {\n  const btn = document.getElementById('addBtn');\n\n  // Применяем состояние "добавлено"\n  btn.classList.add('success');\n  btn.textContent = '✓ ДОБАВЛЕНО';\n\n  // Возвращаем через 2.2 сек\n  setTimeout(() => {\n    btn.classList.remove('success');\n    btn.textContent = 'ДОБАВИТЬ В КОРЗИНУ';\n  }, 2200);\n}\n\n/* CSS */\n.add-btn {\n  background: #1d1d1f;\n  transition: background 0.3s ease;\n}\n.add-btn.success {\n  background: #00c853; /* зелёный при успехе */\n}`, lang:'JS'},
      {tag:'03 · CSS',title:'Галерея товара — grid с выбором изображения',desc:'Главное изображение + ряд миниатюр. Кликаем на миниатюру — меняется главное. Всё через JS + CSS.',
       snippet:`/* Grid: главное изображение */\n.gallery {\n  display: flex;\n  flex-direction: column;\n  gap: 0;\n}\n\n.main-img {\n  aspect-ratio: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 110px;\n  background: linear-gradient(135deg, #f0f0ff, #e8e8ff);\n  overflow: hidden;\n}\n\n/* Ряд миниатюр */\n.thumbs {\n  display: flex;\n  border-top: 1px solid #e5e5e5;\n}\n\n.thumb {\n  flex: 1;\n  aspect-ratio: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 28px;\n  cursor: pointer;\n  opacity: 0.45;\n  transition: opacity 0.2s, background 0.2s;\n  border-right: 1px solid #e5e5e5;\n}\n\n.thumb.active {\n  opacity: 1;\n  background: #f0f0ff;\n}\n\n/* JS — смена изображения */\nfunction selectThumb(el, emoji) {\n  document.querySelectorAll('.thumb').forEach(t => t.classList.remove('active'));\n  el.classList.add('active');\n  document.getElementById('mainImg').textContent = emoji;\n}`, lang:'CSS/JS'},
    ]
  },
  {
    id:'f5', name:'404 PAGE', tech:'HTML · CSS · Canvas', price:'БЕСПЛАТНО',
    desc:'Страница 404. CSS glitch-эффект на числах через ::before/::after, Canvas частицы на фоне, анимированная кнопка.',
    html:`<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:monospace;background:#020208;color:#f0eeff;min-height:100vh;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}canvas{position:fixed;inset:0;z-index:0;pointer-events:none}.ct{position:relative;z-index:1;text-align:center}.nm{font-size:clamp(100px,18vw,220px);font-weight:900;line-height:1;color:#7c4dff;position:relative;font-family:sans-serif;letter-spacing:-.05em;display:inline-block}.nm::before{content:'404';position:absolute;inset:0;color:#ff3cac;clip-path:inset(0 0 60% 0);animation:g1 3s steps(1) infinite}.nm::after{content:'404';position:absolute;inset:0;color:#00e5ff;clip-path:inset(40% 0 0 0);animation:g2 3s steps(1) infinite}@keyframes g1{0%,80%,100%{transform:none;opacity:1}82%{transform:translate(-4px,-2px);opacity:.7}86%{transform:translate(2px,2px);opacity:.8}89%{transform:none}}@keyframes g2{0%,76%,100%{transform:none;opacity:1}78%{transform:translate(4px,1px);opacity:.7}82%{transform:translate(-2px,-3px);opacity:.8}85%{transform:none}}.lbl{font-size:12px;letter-spacing:.4em;text-transform:uppercase;color:rgba(240,238,255,.35);margin-bottom:14px;margin-top:6px}.tl{font-size:clamp(18px,3.5vw,30px);font-weight:700;margin-bottom:14px;font-family:sans-serif}.sb{font-size:15px;color:rgba(240,238,255,.45);margin-bottom:44px;line-height:1.8}.hb{display:inline-flex;align-items:center;gap:12px;padding:16px 40px;background:linear-gradient(135deg,#7c4dff,#ff3cac);color:#fff;border:none;font-family:monospace;font-size:14px;letter-spacing:.2em;text-transform:uppercase;cursor:pointer;transition:all .3s}.hb:hover{transform:translateY(-3px);box-shadow:0 20px 60px rgba(124,77,255,.5)}</style></head><body><canvas id="c"></canvas><div class="ct"><div class="nm">404</div><div class="lbl">// страница не найдена</div><h1 class="tl">Ты заблудился в космосе</h1><p class="sb">Страница которую ты ищешь<br>улетела в другую галактику.</p><button class="hb" onclick="history.back()">← НА ГЛАВНУЮ</button></div><script>const c=document.getElementById('c'),x=c.getContext('2d');let W,H,P=[];function r(){W=c.width=innerWidth;H=c.height=innerHeight;P=[];for(let i=0;i<80;i++)P.push({x:Math.random()*W,y:Math.random()*H,vx:(Math.random()-.5)*.35,vy:(Math.random()-.5)*.35,r:.4+Math.random()*1.4,h:190+Math.random()*90,a:.15+Math.random()*.55});}function d(){x.fillStyle='rgba(2,2,8,.28)';x.fillRect(0,0,W,H);P.forEach(p=>{p.x+=p.vx;p.y+=p.vy;if(p.x<0||p.x>W)p.vx*=-1;if(p.y<0||p.y>H)p.vy*=-1;x.beginPath();x.arc(p.x,p.y,p.r,0,Math.PI*2);x.fillStyle='hsla('+p.h+',80%,70%,'+p.a+')';x.fill();});requestAnimationFrame(d);}window.addEventListener('resize',r);r();d();<\/script></body></html>`,
    code:[
      {tag:'01 · CSS Эффект',title:'Glitch анимация через ::before / ::after',desc:'Два псевдоэлемента с clip-path и сдвигом transform создают эффект цифрового сбоя. steps(1) = резкое переключение без плавности.',
       snippet:`.big-number {\n  position: relative;\n  color: #7c4dff; /* основной цвет */\n}\n\n/* Красный слой — видна только ВЕРХНЯЯ часть */\n.big-number::before {\n  content: '404'; /* дублируем текст */\n  position: absolute;\n  inset: 0;\n  color: #ff3cac;\n  /* clip-path обрезает: оставляем верх, скрываем низ */\n  clip-path: inset(0 0 60% 0);\n  animation: glitch-top 3s steps(1) infinite;\n}\n\n/* Синий слой — видна только НИЖНЯЯ часть */\n.big-number::after {\n  content: '404';\n  position: absolute;\n  inset: 0;\n  color: #00e5ff;\n  clip-path: inset(40% 0 0 0); /* скрываем верх */\n  animation: glitch-bot 3s steps(1) infinite;\n}\n\n/* steps(1) = нет плавности, резкий прыжок */\n@keyframes glitch-top {\n  0%, 80%, 100% { transform: none; opacity: 1; }\n  82% { transform: translate(-4px, -2px); opacity: .7; }\n  86% { transform: translate(2px, 2px); opacity: .8; }\n  89% { transform: none; }\n}`, lang:'CSS'},
      {tag:'02 · Canvas',title:'Простейшая система частиц',desc:'Массив объектов с координатами и скоростью. В каждом кадре обновляем позицию и рисуем. Полупрозрачная заливка фона = след.',
       snippet:`const particles = [];\n\n// Создаём частицы один раз\nfor (let i = 0; i < 80; i++) {\n  particles.push({\n    x:  Math.random() * W,\n    y:  Math.random() * H,\n    vx: (Math.random() - 0.5) * 0.35, // скорость X\n    vy: (Math.random() - 0.5) * 0.35, // скорость Y\n    r:  0.4 + Math.random() * 1.4,    // радиус\n    hue: 190 + Math.random() * 90,    // оттенок\n    a:  0.15 + Math.random() * 0.55,  // прозрачность\n  });\n}\n\nfunction draw() {\n  // Полупрозрачная заливка = след за частицей\n  ctx.fillStyle = 'rgba(2, 2, 8, 0.28)';\n  ctx.fillRect(0, 0, W, H);\n\n  particles.forEach(p => {\n    // Движение\n    p.x += p.vx; p.y += p.vy;\n\n    // Отражение от стен\n    if (p.x < 0 || p.x > W) p.vx *= -1;\n    if (p.y < 0 || p.y > H) p.vy *= -1;\n\n    // Рисуем\n    ctx.beginPath();\n    ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);\n    ctx.fillStyle = \`hsla(\${p.hue}, 80%, 70%, \${p.a})\`;\n    ctx.fill();\n  });\n\n  requestAnimationFrame(draw); // цикл\n}`, lang:'JS'},
    ]
  },
];

/* ════════════════════════════════════
   PREMIUM TEMPLATES (locked until purchase)
════════════════════════════════════ */
const PREM = [
  {id:'p1', name:'SAAS DASHBOARD',   tech:'HTML · CSS · Chart.js',  price:'800₽',  priceNum:800,  cat:'dashboard', desc:'Sidebar + KPI карточки + Chart.js графики + таблица с сортировкой + тёмная тема. Полноценный дашборд.'},
  {id:'p2', name:'3D HERO',           tech:'HTML · CSS · Three.js',  price:'1 200₽',priceNum:1200, cat:'3d',        flagship:true, desc:'Three.js TorusKnot в hero, Bloom постпроцессинг, OrbitControls, реакция на мышь, шейдеры. 80% готовое решение — подключи и используй. Обширный мануал с разбором каждой строки шейдеров и постпроцессинга.'},
  {id:'p3', name:'PARALLAX SCROLL',   tech:'HTML · GSAP · CSS',       price:'900₽',  priceNum:900,  cat:'landing',   desc:'GSAP ScrollTrigger: pin-секции, параллакс слои, stagger текста, progress-бар прокрутки.'},
  {id:'p4', name:'DARK SHOP',         tech:'HTML · CSS · JS',         price:'1 000₽',priceNum:1000, cat:'ui',        desc:'Каталог с фильтрами, slide-in корзина без бэкенда, product modal, badge счётчик в header.'},
  {id:'p5', name:'PARTICLE GALAXY',   tech:'HTML · Canvas 2D · JS',   price:'1 400₽',priceNum:1400, cat:'3d',        flagship:true, desc:'Void Whisper: 3 слоя звёзд, туманности, параллакс мыши, shooting stars — всё на Canvas 2D. 80% готовое решение — просто кастомизируй цвета и тексты. Огромный мануал с полным разбором каждого эффекта.'},
  {id:'p6', name:'MULTI-STEP FORM',   tech:'HTML · CSS · JS',         price:'700₽',  priceNum:700,  cat:'ui',        desc:'4-шаговая форма: анимации между шагами, валидация, progress bar, финальный success-экран.'},
  {id:'p7', name:'ADMIN PANEL UI',    tech:'HTML · CSS · JS',         price:'1 100₽',priceNum:1100, cat:'dashboard', desc:'Collapsible sidebar, таблицы с пагинацией, модальные окна, уведомления, mini charts.'},
  {id:'p8', name:'LUXURY BRAND',      tech:'HTML · CSS · GSAP',       price:'1 300₽',priceNum:1300, cat:'landing',   flagship:true, desc:'Gold-акценты, медленные reveal через GSAP, video-background секция, параллакс, luxury type. 80% готовое решение для лакшери-брендов и премиум лендингов. Обширный мануал по дизайн-системе.'},
  {id:'p9', name:'MUSIC PLAYER',      tech:'HTML · CSS · Web Audio',  price:'900₽',  priceNum:900,  cat:'ui',        desc:'Кастомный плеер: Web Audio API visualizer, drag progress, плейлист, обложки, keyboard shortcuts.'},
  {id:'p10',name:'EVENT LANDING',     tech:'HTML · CSS · JS',         price:'800₽',  priceNum:800,  cat:'landing',   desc:'Countdown таймер, grid спикеров, схема зала SVG, форма покупки билетов с валидацией.'},
  {id:'p11',name:'3D WIREFRAME',      tech:'HTML · Three.js',         price:'1 200₽',priceNum:1200, cat:'3d',        desc:'Wireframe сцена: несколько объектов, OrbitControls, динамический MeshBasicMaterial wireframe.'},
  {id:'p12',name:'GLASSMORPHISM UI',  tech:'HTML · CSS',              price:'700₽',  priceNum:700,  cat:'ui',        desc:'Frosted glass: backdrop-filter, gradient borders через ::before, noise texture, neon glow.'},
  {id:'p13',name:'RETRO SHOP',        tech:'HTML · CSS · JS',         price:'900₽',  priceNum:900,  cat:'ui',        desc:'Vaporwave стиль: пиксельные шрифты, CRT scanlines, neon glow, slide-in корзина.'},
  {id:'p14',name:'SCROLL STORY',      tech:'HTML · CSS · JS',         price:'1 000₽',priceNum:1000, cat:'landing',   desc:'CSS scroll-snap: каждая секция = сцена, счётчик разделов, reveal анимации, keyboard nav.'},
  {id:'p15',name:'MORPHING BLOB',     tech:'HTML · CSS · SVG · JS',   price:'800₽',  priceNum:800,  cat:'ui',        desc:'SVG blob morphing через JS interpolation, gradient fill, mouse repulsion, органический визуал.'},
  {id:'p16',name:'INFINITE MARQUEE',  tech:'HTML · CSS · JS',         price:'600₽',  priceNum:600,  cat:'ui',        desc:'Бесконечная строка: cloneNode, hover-пауза, multiple rows разной скорости, variable direction.'},
  {id:'p17',name:'CURSOR EFFECTS',    tech:'HTML · CSS · JS',         price:'700₽',  priceNum:700,  cat:'ui',        desc:'5 типов курсоров: magnetic button, particle trail, spotlight, morph on hover, repulsion field.'},
  {id:'p18',name:'3D CARD TILT',      tech:'HTML · CSS · JS',         price:'650₽',  priceNum:650,  cat:'ui',        desc:'CSS perspective + JS mousemove: 3D наклон карточки, specular highlight блик, depth shadow.'},
  {id:'p19',name:'TYPEWRITER HERO',   tech:'HTML · CSS · JS',         price:'600₽',  priceNum:600,  cat:'landing',   desc:'Посимвольный вывод JS, cursor blink, смена фраз с паузой, reveal основного контента.'},
  {id:'p20',name:'VANTA BACKGROUNDS', tech:'HTML · Three.js · Vanta', price:'800₽',  priceNum:800,  cat:'3d',        desc:'5 готовых 3D фонов Vanta.js: Birds, Waves, Net, Rings, Cells + полные настройки каждого.'},
];

/* premium detailed code — shown after unlock */
/* ════════════════════════════════════
   PREMIUM LIVE PREVIEWS (inline mini-sites)
════════════════════════════════════ */
const PREM_PREV = {
  p1: `<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:system-ui,sans-serif;background:#08080f;color:#f0eeff;display:grid;grid-template-columns:200px 1fr;height:100vh;overflow:hidden}.sb{background:#06060e;border-right:1px solid rgba(255,255,255,.06);padding:20px 0}.sbl{font-size:10px;letter-spacing:.2em;color:rgba(240,238,255,.3);padding:0 16px 10px;text-transform:uppercase}.si{display:flex;align-items:center;gap:10px;padding:10px 16px;font-size:12px;color:rgba(240,238,255,.5);cursor:default;transition:all .2s}.si.on,.si:hover{background:rgba(124,77,255,.1);color:#f0eeff}.si span{font-size:16px}.main{overflow:auto;padding:24px}.row{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:20px}.kpi{background:#0d0d1a;border:1px solid rgba(255,255,255,.06);padding:16px;transition:border-color .3s}.kpi:hover{border-color:rgba(124,77,255,.3)}.kn{font-size:10px;letter-spacing:.15em;color:rgba(240,238,255,.4);text-transform:uppercase;margin-bottom:6px}.kv{font-size:22px;font-weight:900;background:linear-gradient(110deg,#7c4dff,#00e5ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.kd{font-size:11px;color:#00e5a0;margin-top:4px}.chart{background:#0d0d1a;border:1px solid rgba(255,255,255,.06);padding:16px;height:140px;position:relative;overflow:hidden}.bars{display:flex;align-items:flex-end;gap:6px;height:100px;margin-top:10px}.bar{flex:1;background:linear-gradient(0deg,#7c4dff,#00e5ff);border-radius:2px 2px 0 0;animation:grow .8s ease-out forwards;transform-origin:bottom}@keyframes grow{from{transform:scaleY(0)}to{transform:scaleY(1)}}</style></head><body><div class="sb"><div class="sbl">MENU</div><div class="si on"><span>📊</span>Дашборд</div><div class="si"><span>👥</span>Пользователи</div><div class="si"><span>💰</span>Выручка</div><div class="si"><span>⚙️</span>Настройки</div></div><div class="main"><div class="row"><div class="kpi"><div class="kn">ВЫРУЧКА</div><div class="kv">2.4M₽</div><div class="kd">+12.5%</div></div><div class="kpi"><div class="kn">ЗАКАЗЫ</div><div class="kv">1,248</div><div class="kd">+8.3%</div></div><div class="kpi"><div class="kn">КЛИЕНТЫ</div><div class="kv">8,530</div><div class="kd">+5.1%</div></div><div class="kpi"><div class="kn">КОНВЕРСИЯ</div><div class="kv">3.2%</div><div class="kd">−0.4%</div></div></div><div class="chart"><div style="font-size:10px;letter-spacing:.15em;color:rgba(240,238,255,.4);text-transform:uppercase">ПРОДАЖИ ПО МЕСЯЦАМ</div><div class="bars"><div class="bar" style="height:60%;animation-delay:.1s"></div><div class="bar" style="height:80%;animation-delay:.2s"></div><div class="bar" style="height:55%;animation-delay:.3s"></div><div class="bar" style="height:90%;animation-delay:.4s"></div><div class="bar" style="height:70%;animation-delay:.5s"></div><div class="bar" style="height:100%;animation-delay:.6s"></div></div></div></div></body></html>`,

  p2: `<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#02020a;overflow:hidden;height:100vh}canvas{position:fixed;inset:0}</style></head><body><canvas id="c"></canvas><script>const c=document.getElementById('c'),x=c.getContext('2d');let W,H,t=0,pts=[];function r(){W=c.width=innerWidth;H=c.height=innerHeight;pts=[];for(let i=0;i<120;i++){const a=i/120*Math.PI*2,r=60+Math.sin(i*.3)*20,r2=r+Math.sin(i*.7)*10;pts.push({bx:Math.cos(a)*r,by:Math.sin(a)*r,bz:Math.sin(i*.5)*30,ox:Math.cos(a*(1+i*.01))*r2,oy:Math.sin(a*(1+i*.01))*r2,oz:Math.cos(i*.4)*25,h:240+i*1.2});}}function d(){t+=.012;x.fillStyle='rgba(2,2,10,.18)';x.fillRect(0,0,W,H);const cx2=W/2,cy2=H/2,sc=Math.min(W,H)/3.5;pts.forEach((p,i)=>{const a=t,ca=Math.cos(a),sa=Math.sin(a),a2=t*.6,ca2=Math.cos(a2),sa2=Math.sin(a2);let px=p.bx*ca-p.bz*sa,pz=p.bx*sa+p.bz*ca;let py2=p.by*ca2-pz*sa2;pz=p.by*sa2+pz*ca2;const z=pz+150,fov=z>0?sc/z:0,sx=cx2+px*fov,sy=cy2+py2*fov;const tw=.5+.5*Math.sin(t*3+i*.1),a3=.3+.5*tw;x.beginPath();x.arc(sx,sy,1.5*tw,0,Math.PI*2);x.fillStyle='hsla('+p.h+',90%,80%,'+a3+')';x.fill();});requestAnimationFrame(d);}window.addEventListener('resize',r);r();d();<\/script></body></html>`,

  p3: `<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#08080f;color:#f0eeff;font-family:'Georgia',serif;height:100vh;overflow-y:scroll;scroll-snap-type:y mandatory}.sec{height:100vh;display:flex;align-items:center;justify-content:center;scroll-snap-align:start;position:relative;overflow:hidden}.s1{background:radial-gradient(ellipse at 50% 80%,rgba(124,77,255,.3),transparent 65%)}.s2{background:radial-gradient(ellipse at 30% 50%,rgba(0,229,255,.2),transparent 60%)}.s3{background:radial-gradient(ellipse at 70% 30%,rgba(255,60,172,.2),transparent 60%)}.t{font-size:clamp(32px,7vw,80px);font-weight:900;line-height:.9;text-align:center;opacity:0;transform:translateY(40px);transition:all .8s cubic-bezier(.16,1,.3,1)}.t.vis{opacity:1;transform:none}.grd{background:linear-gradient(110deg,#7c4dff,#00e5ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.pb{position:fixed;top:0;left:0;height:3px;background:linear-gradient(90deg,#7c4dff,#ff3cac,#00e5ff);z-index:10;transition:width .1s}</style></head><body><div class="pb" id="pb"></div><div class="sec s1"><div class="t" id="t1">ПАРАЛЛАКС<br><span class="grd">SCROLL</span></div></div><div class="sec s2"><div class="t" id="t2">GSAP<br><span style="color:#00e5ff">SCROLL TRIGGER</span></div></div><div class="sec s3"><div class="t" id="t3">PIN &amp;<br><span style="color:#ff3cac">STAGGER</span></div></div><script>const io=new IntersectionObserver(e=>e.forEach(x=>{if(x.isIntersecting)x.target.classList.add('vis')}),{threshold:.3});document.querySelectorAll('.t').forEach(t=>io.observe(t));window.addEventListener('scroll',()=>{const s=document.body,doc=document.documentElement;document.getElementById('pb').style.width=(doc.scrollTop/(doc.scrollHeight-doc.clientHeight)*100)+'%';});<\/script></body></html>`,

  p4: `<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:system-ui,sans-serif;background:#08080f;color:#f0eeff;min-height:100vh}.hd{position:sticky;top:0;background:rgba(8,8,15,.95);backdrop-filter:blur(20px);padding:14px 24px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(255,255,255,.06)}.logo{font-weight:900;font-size:16px;background:linear-gradient(110deg,#7c4dff,#00e5ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.cart{background:rgba(124,77,255,.15);border:1px solid rgba(124,77,255,.3);color:#7c4dff;padding:8px 16px;font-size:12px;cursor:pointer;font-weight:700}.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;padding:24px}.card{background:#0d0d1a;border:1px solid rgba(255,255,255,.06);overflow:hidden;transition:transform .3s,border-color .3s;cursor:pointer}.card:hover{transform:translateY(-4px);border-color:rgba(124,77,255,.4)}.ci{height:120px;display:flex;align-items:center;justify-content:center;font-size:50px;background:linear-gradient(135deg,#0d0d1a,#1a0a2e)}.cn{padding:12px}.ct{font-size:13px;font-weight:700;margin-bottom:4px}.cp{font-size:16px;font-weight:900;color:#ffd166;margin-bottom:8px}.cb{width:100%;padding:8px;background:linear-gradient(135deg,#7c4dff,#ff3cac);color:#fff;border:none;font-size:11px;cursor:pointer}</style></head><body><div class="hd"><div class="logo">DARK SHOP</div><button class="cart">🛒 КОРЗИНА (0)</button></div><div class="grid"><div class="card"><div class="ci">🎯</div><div class="cn"><div class="ct">Cursor FX Kit</div><div class="cp">1 200₽</div><button class="cb">В КОРЗИНУ</button></div></div><div class="card"><div class="ci">🌌</div><div class="cn"><div class="ct">3D Hero Pack</div><div class="cp">2 400₽</div><button class="cb">В КОРЗИНУ</button></div></div><div class="card"><div class="ci">✨</div><div class="cn"><div class="ct">Particles Kit</div><div class="cp">1 800₽</div><button class="cb">В КОРЗИНУ</button></div></div></div></body></html>`,

  p5: `<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#020208;overflow:hidden;height:100vh}canvas{position:fixed;inset:0}.hero{position:relative;z-index:1;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:#f0eeff;pointer-events:none}h1{font-size:clamp(36px,8vw,80px);font-weight:900;letter-spacing:-.04em;line-height:.9;background:linear-gradient(110deg,#7c4dff,#ff3cac,#00e5ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.sub{font-size:11px;letter-spacing:.4em;color:rgba(240,238,255,.3);margin-top:14px;text-transform:uppercase}</style></head><body><canvas id="cv"></canvas><div class="hero"><h1>VOID<br>WHISPER</h1><div class="sub">Beyond Birthday Studio</div></div><script>const cv=document.getElementById('cv'),ctx=cv.getContext('2d');let W,H,stars=[],neb=[],tick=0,mouse={x:0,y:0};function r(){W=cv.width=innerWidth;H=cv.height=innerHeight;stars=[];[[320,.2,.7,.012,.35],[180,.5,1.2,.025,.55],[60,1,2.2,.05,.85]].forEach(l=>{for(let i=0;i<l[0];i++)stars.push({x:Math.random()*W,y:Math.random()*H,rx:Math.random()*W,ry:Math.random()*H,r:l[1]+Math.random()*(l[2]-l[1]),sp:l[3],a:l[4]*(.6+Math.random()*.4),to:Math.random()*Math.PI*2,ts:.008+Math.random()*.016,h:Math.random()<.5?220+Math.random()*40:270+Math.random()*30});});neb=[{x:W*.15,y:H*.25,rx:300,ry:200,r:200,rr:140,g:20,b:255,a:.05},{x:W*.82,y:H*.6,rx:350,ry:250,r:220,rr:255,g:0,b:180,a:.04},{x:W*.5,y:H*.8,rx:400,ry:160,r:240,rr:0,g:160,b:255,a:.03}];}function dN(){neb.forEach(n=>{const px=n.x+(mouse.x/W-.5)*18,py=n.y+(mouse.y/H-.5)*12;ctx.save();ctx.translate(px,py);ctx.scale(n.rx/n.r,n.ry/n.r);const g=ctx.createRadialGradient(0,0,0,0,0,n.r);g.addColorStop(0,'rgba('+n.rr+','+n.g+','+n.b+','+(n.a*2.5)+')');g.addColorStop(.4,'rgba('+n.rr+','+n.g+','+n.b+','+n.a+')');g.addColorStop(1,'rgba('+n.rr+','+n.g+','+n.b+',0)');ctx.fillStyle=g;ctx.beginPath();ctx.arc(0,0,n.r,0,Math.PI*2);ctx.fill();ctx.restore();});}function dS(){stars.forEach(s=>{const ox=(mouse.x/W-.5)*s.sp*60,oy=(mouse.y/H-.5)*s.sp*40,tw=.5+.5*Math.sin(tick*s.ts+s.to),a=s.a*(.5+.5*tw),px=s.x+ox,py=s.y+oy;if(s.r>1.5){const gs=s.r*5*tw,g=ctx.createRadialGradient(px,py,0,px,py,gs);g.addColorStop(0,'hsla('+s.h+',90%,95%,'+a+')');g.addColorStop(1,'hsla('+s.h+',80%,70%,0)');ctx.fillStyle=g;ctx.beginPath();ctx.arc(px,py,gs,0,Math.PI*2);ctx.fill();}ctx.fillStyle='hsla('+s.h+',70%,95%,'+a+')';ctx.beginPath();ctx.arc(px,py,s.r,0,Math.PI*2);ctx.fill();});}function d(){tick++;ctx.fillStyle='rgba(2,2,8,.28)';ctx.fillRect(0,0,W,H);dN();dS();requestAnimationFrame(d);}window.addEventListener('mousemove',e=>{mouse.x=e.clientX;mouse.y=e.clientY;});window.addEventListener('resize',r);r();d();<\/script></body></html>`,

  p6: `<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:system-ui,sans-serif;background:#08080f;color:#f0eeff;min-height:100vh;display:flex;align-items:center;justify-content:center}.box{background:#0d0d1a;border:1px solid rgba(255,255,255,.08);padding:40px;width:400px;max-width:90vw}.pb{height:3px;background:rgba(255,255,255,.06);margin-bottom:28px;border-radius:2px}.pf{height:100%;background:linear-gradient(90deg,#7c4dff,#ff3cac);border-radius:2px;transition:width .5s ease}.step{display:none}.step.on{display:block}.sl{font-size:11px;letter-spacing:.25em;color:#7c4dff;text-transform:uppercase;margin-bottom:12px}.sh{font-size:20px;font-weight:900;margin-bottom:20px}.inp{width:100%;padding:12px 16px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.1);color:#f0eeff;font-size:14px;margin-bottom:14px;outline:none;transition:border-color .2s;font-family:inherit}.inp:focus{border-color:rgba(124,77,255,.5)}.btn{width:100%;padding:14px;background:linear-gradient(135deg,#7c4dff,#ff3cac);color:#fff;border:none;font-size:14px;font-weight:700;cursor:pointer;letter-spacing:.1em;text-transform:uppercase}</style></head><body><div class="box"><div class="pb"><div class="pf" id="pf" style="width:25%"></div></div><div class="step on" id="s1"><div class="sl">ШАГ 01 / 04</div><div class="sh">Личные данные</div><input class="inp" placeholder="Имя"><input class="inp" placeholder="Email"><button class="btn" onclick="go(2,50)">ДАЛЕЕ →</button></div><div class="step" id="s2"><div class="sl">ШАГ 02 / 04</div><div class="sh">Выбор тарифа</div><input class="inp" placeholder="Стартовый / Про / Бизнес"><button class="btn" onclick="go(3,75)">ДАЛЕЕ →</button></div><div class="step" id="s3"><div class="sl">ШАГ 03 / 04</div><div class="sh">Оплата</div><input class="inp" placeholder="Номер карты"><button class="btn" onclick="go(4,100)">ОПЛАТИТЬ →</button></div><div class="step" id="s4"><div style="text-align:center;font-size:50px;margin:10px 0">✅</div><div class="sh" style="text-align:center">Успешно!</div><p style="color:rgba(240,238,255,.5);font-size:13px;text-align:center">Доступ открыт. Проверь email.</p></div></div><script>function go(n,w){document.querySelectorAll('.step').forEach(s=>s.classList.remove('on'));document.getElementById('s'+n).classList.add('on');document.getElementById('pf').style.width=w+'%';}<\/script></body></html>`,

  p7: `<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:system-ui,sans-serif;background:#060610;color:#f0eeff;display:grid;grid-template-columns:220px 1fr;height:100vh;overflow:hidden}.sb{background:#08080f;border-right:1px solid rgba(255,255,255,.05);padding:16px 0}.sbh{padding:0 16px 16px;border-bottom:1px solid rgba(255,255,255,.05);margin-bottom:8px}.sbl{font-weight:900;font-size:14px;background:linear-gradient(110deg,#7c4dff,#00e5ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.si{display:flex;align-items:center;gap:10px;padding:9px 16px;font-size:12px;color:rgba(240,238,255,.45);cursor:default;transition:all .2s}.si.on{background:rgba(124,77,255,.1);color:#f0eeff;border-left:2px solid #7c4dff}.si em{font-size:15px;font-style:normal}.main{overflow-y:auto;padding:20px}.mh{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.mt{font-size:18px;font-weight:900}.nb{position:relative}.dot{position:absolute;top:-2px;right:-2px;width:8px;height:8px;background:#ff3c6e;border-radius:50%}.tb{width:100%;border-collapse:collapse;font-size:12px}.tb th{text-align:left;padding:10px;font-size:10px;letter-spacing:.15em;color:rgba(240,238,255,.3);border-bottom:1px solid rgba(255,255,255,.05)}.tb td{padding:10px;border-bottom:1px solid rgba(255,255,255,.03)}.tag{padding:3px 10px;font-size:10px;border-radius:2px}.g{background:rgba(0,229,160,.1);color:#00e5a0}.y{background:rgba(255,209,102,.1);color:#ffd166}.r{background:rgba(255,60,110,.1);color:#ff3c6e}</style></head><body><div class="sb"><div class="sbh"><div class="sbl">ADMIN</div></div><div class="si on"><em>📊</em>Дашборд</div><div class="si"><em>👥</em>Пользователи</div><div class="si"><em>📦</em>Заказы</div><div class="si nb"><em>🔔</em>Уведомления<div class="dot"></div></div><div class="si"><em>⚙️</em>Настройки</div></div><div class="main"><div class="mh"><div class="mt">ЗАКАЗЫ</div></div><table class="tb"><thead><tr><th>#</th><th>КЛИЕНТ</th><th>СУММА</th><th>СТАТУС</th></tr></thead><tbody><tr><td>#1042</td><td>Алекс М.</td><td>4 200₽</td><td><span class="tag g">ДОСТАВЛЕН</span></td></tr><tr><td>#1041</td><td>Дaria К.</td><td>8 900₽</td><td><span class="tag y">В ПУТИ</span></td></tr><tr><td>#1040</td><td>Иван П.</td><td>2 100₽</td><td><span class="tag r">ОТМЕНЁН</span></td></tr><tr><td>#1039</td><td>Мария С.</td><td>6 700₽</td><td><span class="tag g">ДОСТАВЛЕН</span></td></tr></tbody></table></div></body></html>`,

  p8: `<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Georgia',serif;background:#06040a;color:#f5efe0;min-height:100vh;overflow:hidden}.hero{height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;position:relative}.line{width:1px;height:80px;background:linear-gradient(0deg,#c9a227,transparent);margin:0 auto 28px;animation:grow .8s ease-out}.line2{width:1px;height:60px;background:linear-gradient(0deg,transparent,#c9a227);margin:24px auto 0;animation:grow .8s .3s ease-out backwards}@keyframes grow{from{transform:scaleY(0)}to{transform:scaleY(1)}}.tag{font-size:9px;letter-spacing:.5em;color:#c9a227;text-transform:uppercase;margin-bottom:20px;animation:fade .8s .2s backwards}@keyframes fade{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}.t{font-size:clamp(28px,6vw,72px);font-weight:400;letter-spacing:.12em;line-height:1.1;color:#f5efe0;animation:fade .8s .4s backwards}.t em{font-style:italic;color:#c9a227}.sub{font-size:11px;letter-spacing:.3em;color:rgba(245,239,224,.4);text-transform:uppercase;margin-top:16px;animation:fade .8s .6s backwards}.bg{position:absolute;inset:0;background:radial-gradient(ellipse at 50% 40%,rgba(201,162,39,.08),transparent 60%),radial-gradient(ellipse at 80% 80%,rgba(120,80,200,.06),transparent 50%);pointer-events:none}</style></head><body><div class="hero"><div class="bg"></div><div class="line"></div><div class="tag">Maison de Luxe · 2026</div><h1 class="t">L'ART DU<br><em>SAVOIR-FAIRE</em></h1><div class="sub">Collection Printemps</div><div class="line2"></div></div></body></html>`,

  p9: `<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:system-ui,sans-serif;background:#060610;color:#f0eeff;display:flex;align-items:center;justify-content:center;min-height:100vh}.player{background:#0d0d1a;border:1px solid rgba(255,255,255,.08);padding:28px;width:340px}.cover{width:100%;aspect-ratio:1;background:linear-gradient(135deg,#1a0a2e,#0a1a2e);display:flex;align-items:center;justify-content:center;font-size:60px;margin-bottom:16px;position:relative}.vis{position:absolute;bottom:0;left:0;right:0;height:40px;display:flex;align-items:flex-end;gap:2px;padding:0 8px}.vb{flex:1;background:linear-gradient(0deg,#7c4dff,#00e5ff);border-radius:1px;animation:vib .4s ease-in-out infinite alternate}.tinfo{margin-bottom:16px}.tn{font-size:16px;font-weight:700;margin-bottom:4px}.ta{font-size:12px;color:rgba(240,238,255,.4)}.prog{height:3px;background:rgba(255,255,255,.1);margin-bottom:16px;border-radius:2px;cursor:pointer;position:relative}.pf{width:60%;height:100%;background:linear-gradient(90deg,#7c4dff,#00e5ff);border-radius:2px}.ctrls{display:flex;justify-content:center;align-items:center;gap:20px}.btn{width:40px;height:40px;display:flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer;border-radius:50%;transition:background .2s}.btn:hover{background:rgba(255,255,255,.08)}.play{background:linear-gradient(135deg,#7c4dff,#ff3cac);font-size:20px;width:48px;height:48px}@keyframes vib{from{transform:scaleY(.3)}to{transform:scaleY(1)}}</style></head><body><div class="player"><div class="cover">🎵<div class="vis"><div class="vb" style="animation-delay:.0s"></div><div class="vb" style="animation-delay:.05s"></div><div class="vb" style="animation-delay:.1s"></div><div class="vb" style="animation-delay:.15s"></div><div class="vb" style="animation-delay:.2s"></div><div class="vb" style="animation-delay:.08s"></div><div class="vb" style="animation-delay:.12s"></div><div class="vb" style="animation-delay:.18s"></div></div></div><div class="tinfo"><div class="tn">Cosmic Dream</div><div class="ta">Beyond Birthday</div></div><div class="prog"><div class="pf"></div></div><div class="ctrls"><div class="btn">⏮</div><div class="btn play">▶</div><div class="btn">⏭</div></div></div></body></html>`,

  p10:`<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:system-ui,sans-serif;background:#060610;color:#f0eeff;min-height:100vh}.hero{padding:60px 40px;text-align:center;background:radial-gradient(ellipse at 50% 80%,rgba(124,77,255,.2),transparent 60%)}.tag{font-size:10px;letter-spacing:.4em;color:#7c4dff;text-transform:uppercase;margin-bottom:16px}.t{font-size:clamp(28px,6vw,64px);font-weight:900;line-height:.9;margin-bottom:20px}.cnt{display:flex;justify-content:center;gap:20px;margin-bottom:40px}.cblk{text-align:center;background:#0d0d1a;border:1px solid rgba(124,77,255,.3);padding:16px 20px}.cn{font-size:36px;font-weight:900;color:#7c4dff}.cl{font-size:10px;letter-spacing:.2em;color:rgba(240,238,255,.4)}.spk{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;padding:0 40px;max-width:700px;margin:0 auto}.sp{background:#0d0d1a;border:1px solid rgba(255,255,255,.06);padding:16px;text-align:center}.sa{font-size:32px}.sn{font-size:13px;font-weight:700;margin-top:6px}.sr{font-size:11px;color:rgba(240,238,255,.4)}</style></head><body><div class="hero"><div class="tag">КОНФЕРЕНЦИЯ · 2026</div><h1 class="t">TECH<br>SUMMIT</h1><div class="cnt"><div class="cblk"><div class="cn" id="d">12</div><div class="cl">ДНЕЙ</div></div><div class="cblk"><div class="cn" id="h">08</div><div class="cl">ЧАСОВ</div></div><div class="cblk"><div class="cn" id="m">34</div><div class="cl">МИНУТ</div></div></div></div><div class="spk"><div class="sp"><div class="sa">👤</div><div class="sn">Алекс К.</div><div class="sr">CEO · TechCorp</div></div><div class="sp"><div class="sa">👤</div><div class="sn">Мария И.</div><div class="sr">CTO · StartupX</div></div><div class="sp"><div class="sa">👤</div><div class="sn">Дима С.</div><div class="sr">Design Lead</div></div></div><script>function tick(){const n=new Date(),t=new Date(n.getFullYear(),n.getMonth(),n.getDate()+12,10,0,0);const diff=Math.max(0,t-n);document.getElementById('d').textContent=String(Math.floor(diff/864e5)).padStart(2,'0');document.getElementById('h').textContent=String(Math.floor(diff%864e5/36e5)).padStart(2,'0');document.getElementById('m').textContent=String(Math.floor(diff%36e5/6e4)).padStart(2,'0');}tick();setInterval(tick,1000);<\/script></body></html>`,

  p11:`<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#020208;overflow:hidden;height:100vh}canvas{display:block}</style></head><body><canvas id="c"></canvas><script>const c=document.getElementById('c'),x=c.getContext('2d');let W,H,t=0;const shapes=[{pts:[],rot:{x:0,y:0,z:0},spd:{x:.007,y:.011,z:.005},scale:70,col:'#7c4dff'},{pts:[],rot:{x:.2,y:0,z:.1},spd:{x:.005,y:.008,z:.009},scale:45,col:'#00e5ff'},{pts:[],rot:{x:0,y:.1,z:0},spd:{x:.009,y:.006,z:.004},scale:35,col:'#ff3cac'}];function cube(sc){const v=[-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1,1,1,-1,1,1,1,1,-1,1,1];const e=[0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7];const pts=[];for(let i=0;i<v.length;i+=3)pts.push({x:v[i]*sc,y:v[i+1]*sc,z:v[i+2]*sc});return{pts,e};}function torus(r1,r2,sc){const pts=[];for(let i=0;i<12;i++)for(let j=0;j<12;j++){const a=i/12*Math.PI*2,b=j/12*Math.PI*2;pts.push({x:(r1+r2*Math.cos(b))*Math.cos(a)*sc,y:(r1+r2*Math.cos(b))*Math.sin(a)*sc,z:r2*Math.sin(b)*sc});}return pts;}function r(){W=c.width=innerWidth;H=c.height=innerHeight;}function proj(p,rx,ry,rz){let{x,y,z}=p;let y2=y*Math.cos(rx)-z*Math.sin(rx),z2=y*Math.sin(rx)+z*Math.cos(rx);let x2=x*Math.cos(ry)+z2*Math.sin(ry);z2=x*Math.sin(ry)*-1+z2*Math.cos(ry);let x3=x2*Math.cos(rz)-y2*Math.sin(rz),y3=x2*Math.sin(rz)+y2*Math.cos(rz);const fov=z2+200;return{sx:W/2+x3/(fov)*400,sy:H/2+y3/(fov)*400};}function d(){t++;x.fillStyle='rgba(2,2,8,.2)';x.fillRect(0,0,W,H);const s=shapes[0];const {e}=cube(s.scale);s.rot.x+=s.spd.x;s.rot.y+=s.spd.y;s.rot.z+=s.spd.z;const verts=cube(s.scale).pts.map(p=>proj(p,s.rot.x,s.rot.y,s.rot.z));x.strokeStyle=s.col+'99';x.lineWidth=1.2;for(let i=0;i<e.length;i+=2){x.beginPath();x.moveTo(verts[e[i]].sx,verts[e[i]].sy);x.lineTo(verts[e[i+1]].sx,verts[e[i+1]].sy);x.stroke();}requestAnimationFrame(d);}window.addEventListener('resize',r);r();d();<\/script></body></html>`,

  p12:`<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:system-ui,sans-serif;background:linear-gradient(135deg,#0a0015,#00051a,#0a0015);min-height:100vh;display:grid;grid-template-columns:repeat(3,1fr);gap:20px;padding:40px;align-items:start}.card{background:rgba(255,255,255,.06);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.12);padding:24px;position:relative;overflow:hidden;transition:transform .3s,border-color .3s}.card::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at 80% 20%,rgba(124,77,255,.15),transparent 60%);pointer-events:none}.card:hover{transform:translateY(-4px);border-color:rgba(124,77,255,.4)}.ci{font-size:36px;margin-bottom:14px}.ct{font-size:16px;font-weight:700;margin-bottom:8px}.cd{font-size:12px;color:rgba(240,238,255,.5);line-height:1.7}.price{font-size:22px;font-weight:900;color:#7c4dff;margin-top:14px}.glow{position:absolute;width:100px;height:100px;border-radius:50%;background:rgba(124,77,255,.15);filter:blur(20px);top:-20px;right:-20px;pointer-events:none}</style></head><body><div class="card"><div class="glow"></div><div class="ci">🎯</div><div class="ct">Cursor FX Kit</div><div class="cd">Эффекты курсора с магнитными кнопками</div><div class="price">1 200₽</div></div><div class="card"><div class="glow" style="background:rgba(0,229,255,.15)"></div><div class="ci">🌌</div><div class="ct">3D Galaxy Pack</div><div class="cd">Canvas 2D галактика с туманностями</div><div class="price">1 400₽</div></div><div class="card"><div class="glow" style="background:rgba(255,60,172,.15)"></div><div class="ci">✨</div><div class="ct">Glass UI Kit</div><div class="cd">Glassmorphism компоненты для проектов</div><div class="price">700₽</div></div></body></html>`,

  p13:`<!DOCTYPE html><html><head><meta charset="UTF-8"><style>@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');*{margin:0;padding:0;box-sizing:border-box}body{background:#120028;color:#ff71e0;font-family:'Courier New',monospace;min-height:100vh;overflow:hidden;position:relative}.scanlines{position:fixed;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.1) 2px,rgba(0,0,0,.1) 4px);pointer-events:none;z-index:10}.hero{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;text-align:center;position:relative}.t{font-size:clamp(20px,5vw,52px);font-weight:900;letter-spacing:.1em;text-shadow:0 0 20px #ff71e0,0 0 40px #ff71e0,0 0 60px rgba(255,113,224,.4);animation:pulse 2s ease-in-out infinite}.sub{font-size:clamp(8px,1.5vw,13px);letter-spacing:.4em;color:#00ffff;text-shadow:0 0 10px #00ffff;margin-top:12px;text-transform:uppercase}.grid-line{position:absolute;bottom:0;left:0;right:0;height:40%;background:linear-gradient(0deg,rgba(255,113,224,.15) 0%,transparent 100%);perspective:500px;transform-style:preserve-3d}.items{display:flex;gap:16px;margin-top:32px}.item{border:1px solid rgba(255,113,224,.5);padding:10px 20px;font-size:11px;letter-spacing:.2em;text-transform:uppercase;box-shadow:0 0 10px rgba(255,113,224,.3);cursor:pointer;transition:all .2s}.item:hover{background:rgba(255,113,224,.1);box-shadow:0 0 20px rgba(255,113,224,.5)}@keyframes pulse{0%,100%{text-shadow:0 0 20px #ff71e0,0 0 40px #ff71e0}50%{text-shadow:0 0 10px #ff71e0,0 0 20px #ff71e0,0 0 40px rgba(255,113,224,.2)}}</style></head><body><div class="scanlines"></div><div class="hero"><div class="t">RETRO</div><div class="t" style="color:#00ffff;text-shadow:0 0 20px #00ffff,0 0 40px #00ffff">SHOP</div><div class="sub">// Vaporwave Edition</div><div class="items"><div class="item">КАТАЛОГ</div><div class="item">КОРЗИНА</div><div class="item">АКЦИИ</div></div><div class="grid-line"></div></div></body></html>`,

  p14:`<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}html{scroll-snap-type:y mandatory;overflow-y:scroll;height:100vh}body{font-family:system-ui,sans-serif;color:#f0eeff}.sec{height:100vh;display:flex;align-items:center;justify-content:center;scroll-snap-align:start;position:relative;overflow:hidden}.s1{background:#060610}.s2{background:#06100a}.s3{background:#10060a}.counter{position:fixed;top:24px;right:24px;font-family:monospace;font-size:11px;letter-spacing:.2em;color:rgba(240,238,255,.3);z-index:10}.t{font-size:clamp(32px,7vw,80px);font-weight:900;line-height:.9;text-align:center;opacity:0;transform:translateY(30px);transition:all .7s cubic-bezier(.16,1,.3,1)}.t.vis{opacity:1;transform:none}.g1{background:linear-gradient(110deg,#7c4dff,#00e5ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.g2{background:linear-gradient(110deg,#00e5a0,#00e5ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.g3{background:linear-gradient(110deg,#ff3cac,#ffd166);-webkit-background-clip:text;-webkit-text-fill-color:transparent}</style></head><body><div class="counter" id="ctr">01 / 03</div><div class="sec"><div class="t" id="t1">SCROLL<br><span class="g1">STORY</span></div></div><div class="sec"><div class="t" id="t2">КАЖДАЯ<br><span class="g2">СЕКЦИЯ</span><br>= СЦЕНА</div></div><div class="sec"><div class="t" id="t3">CSS<br><span class="g3">SCROLL SNAP</span></div></div><script>const io=new IntersectionObserver(e=>e.forEach((x,i)=>{if(x.isIntersecting){x.target.querySelector('.t').classList.add('vis');const idx=Array.from(document.querySelectorAll('.sec')).indexOf(x.target)+1;document.getElementById('ctr').textContent=String(idx).padStart(2,'0')+' / 03';}}),{threshold:.5});document.querySelectorAll('.sec').forEach(s=>io.observe(s));<\/script></body></html>`,

  p15:`<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#060610;display:flex;align-items:center;justify-content:center;height:100vh;overflow:hidden}</style></head><body><svg width="400" height="400" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg" style="position:absolute"><defs><linearGradient id="g1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#7c4dff;stop-opacity:0.8"/><stop offset="100%" style="stop-color:#ff3cac;stop-opacity:0.8"/></linearGradient><filter id="glow"><feGaussianBlur stdDeviation="8" result="coloredBlur"/><feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs><path id="blob" fill="url(#g1)" filter="url(#glow)" opacity="0.85"/></svg><script>const p=document.getElementById('blob');let t=0;function pts(t){const n=6,r=120;const pts=[];for(let i=0;i<n;i++){const a=i/n*Math.PI*2;const r2=r+Math.sin(t*1.3+i*1.1)*28+Math.cos(t*.9+i*.7)*18;pts.push({x:200+Math.cos(a)*r2,y:200+Math.sin(a)*r2});}return pts;}function catmull(pts){let d='M'+pts[0].x+','+pts[0].y;for(let i=0;i<pts.length;i++){const p0=pts[(i-1+pts.length)%pts.length],p1=pts[i],p2=pts[(i+1)%pts.length],p3=pts[(i+2)%pts.length];const cp1x=p1.x+(p2.x-p0.x)/6,cp1y=p1.y+(p2.y-p0.y)/6,cp2x=p2.x-(p3.x-p1.x)/6,cp2y=p2.y-(p3.y-p1.y)/6;d+='C'+cp1x+','+cp1y+' '+cp2x+','+cp2y+' '+p2.x+','+p2.y;}return d+'Z';}function draw(){t+=.012;p.setAttribute('d',catmull(pts(t)));requestAnimationFrame(draw);}draw();<\/script></body></html>`,

  p16:`<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#060610;color:#f0eeff;min-height:100vh;display:flex;flex-direction:column;justify-content:center;gap:20px;overflow:hidden;padding:40px 0}.row{display:flex;gap:40px;white-space:nowrap;animation:scroll 12s linear infinite}.row.rev{animation-direction:reverse}.row2{animation-duration:18s}.item{font-family:'Georgia',serif;font-size:clamp(18px,3vw,32px);font-weight:900;letter-spacing:.08em;padding:0 20px;display:flex;align-items:center;gap:14px;color:rgba(240,238,255,.85);text-transform:uppercase}.dot{width:6px;height:6px;border-radius:50%;background:#7c4dff;flex-shrink:0}.item2{color:rgba(0,229,255,.8)}.dot2{background:#00e5ff}@keyframes scroll{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}</style></head><body><div class="row"><div class="item"><span class="dot"></span>HTML</div><div class="item"><span class="dot"></span>CSS</div><div class="item"><span class="dot"></span>JAVASCRIPT</div><div class="item"><span class="dot"></span>THREE.JS</div><div class="item"><span class="dot"></span>GSAP</div><div class="item"><span class="dot"></span>CANVAS</div><div class="item"><span class="dot"></span>HTML</div><div class="item"><span class="dot"></span>CSS</div><div class="item"><span class="dot"></span>JAVASCRIPT</div><div class="item"><span class="dot"></span>THREE.JS</div><div class="item"><span class="dot"></span>GSAP</div><div class="item"><span class="dot"></span>CANVAS</div></div><div class="row rev row2"><div class="item item2"><span class="dot dot2"></span>WEBGL</div><div class="item item2"><span class="dot dot2"></span>REACT</div><div class="item item2"><span class="dot dot2"></span>NODE.JS</div><div class="item item2"><span class="dot dot2"></span>VITE</div><div class="item item2"><span class="dot dot2"></span>FIGMA</div><div class="item item2"><span class="dot dot2"></span>WEBGL</div><div class="item item2"><span class="dot dot2"></span>REACT</div><div class="item item2"><span class="dot dot2"></span>NODE.JS</div></div></body></html>`,

  p17:`<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#060610;display:flex;align-items:center;justify-content:center;height:100vh;overflow:hidden;cursor:none}.cursor{position:fixed;pointer-events:none;z-index:999;transition:width .15s,height .15s}.dot{width:8px;height:8px;background:#00e5ff;border-radius:50%;transform:translate(-50%,-50%)}.ring{width:40px;height:40px;border:1px solid rgba(0,229,255,.4);border-radius:50%;transform:translate(-50%,-50%);transition:all .12s}.trail{position:fixed;pointer-events:none;z-index:998}.tp{position:absolute;width:4px;height:4px;border-radius:50%;transform:translate(-50%,-50%);opacity:0;animation:fade .6s forwards}@keyframes fade{0%{opacity:.8;transform:translate(-50%,-50%) scale(1)}100%{opacity:0;transform:translate(-50%,-50%) scale(0)}}.btns{display:flex;flex-direction:column;gap:16px;align-items:center}.mb{padding:16px 48px;font-family:monospace;font-size:14px;letter-spacing:.2em;text-transform:uppercase;color:#f0eeff;border:1px solid rgba(255,255,255,.2);background:transparent;cursor:none;transition:all .3s;position:relative;overflow:hidden}.mb:hover{border-color:#7c4dff;color:#7c4dff;box-shadow:0 0 30px rgba(124,77,255,.3)}</style></head><body><div class="dot" id="dot" style="position:fixed;left:-100px;top:-100px"></div><div class="ring" id="ring" style="position:fixed;left:-100px;top:-100px"></div><div class="btns"><button class="mb">MAGNETIC BTN</button><button class="mb">CURSOR EFFECT</button><button class="mb">HOVER GLOW</button></div><script>let mx=0,my=0,rx=0,ry=0;const dot=document.getElementById('dot'),ring=document.getElementById('ring');document.addEventListener('mousemove',e=>{mx=e.clientX;my=e.clientY;dot.style.left=mx+'px';dot.style.top=my+'px';const t=document.createElement('div');t.className='tp';t.style.cssText='position:fixed;left:'+mx+'px;top:'+my+'px;width:4px;height:4px;border-radius:50%;background:hsla('+( 200+mx/5)+',90%,70%,.7);pointer-events:none;z-index:997;animation:fade .6s forwards;transform:translate(-50%,-50%)';document.body.appendChild(t);setTimeout(()=>t.remove(),600);});(function loop(){rx+=(mx-rx)*.12;ry+=(my-ry)*.12;ring.style.left=rx+'px';ring.style.top=ry+'px';requestAnimationFrame(loop);})();<\/script></body></html>`,

  p18:`<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#060610;display:flex;align-items:center;justify-content:center;height:100vh;gap:24px;perspective:1000px;overflow:hidden}.card3d{width:200px;height:280px;background:linear-gradient(135deg,#0d0d1a,#1a0a2e);border:1px solid rgba(124,77,255,.3);border-radius:4px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;cursor:none;transition:box-shadow .3s;position:relative;overflow:hidden;transform-style:preserve-3d}.card3d::before{content:'';position:absolute;width:120px;height:120px;border-radius:50%;background:radial-gradient(circle,rgba(255,255,255,.3),transparent);pointer-events:none;opacity:0;transition:opacity .3s;transform:translate(-50%,-50%)}.ci{font-size:48px}.ct{font-size:13px;font-weight:700;letter-spacing:.08em;color:#f0eeff}.cp{font-size:16px;color:#ffd166;font-weight:900}</style></head><body><div class="card3d" id="c1"><div class="ci">🌌</div><div class="ct">3D HERO</div><div class="cp">1 200₽</div></div><div class="card3d" id="c2"><div class="ci">✨</div><div class="ct">PARTICLE FX</div><div class="cp">1 400₽</div></div><script>document.querySelectorAll('.card3d').forEach(card=>{card.addEventListener('mousemove',e=>{const r=card.getBoundingClientRect(),x=(e.clientX-r.left)/r.width-.5,y=(e.clientY-r.top)/r.height-.5;card.style.transform='perspective(800px) rotateY('+(x*30)+'deg) rotateX('+(-y*20)+'deg) translateZ(10px)';card.style.boxShadow='0 20px 60px rgba(124,77,255,.4)';const b=card.querySelector('::before');});card.addEventListener('mouseleave',()=>{card.style.transform='';card.style.boxShadow='';});});<\/script></body></html>`,

  p19:`<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#060610;color:#f0eeff;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;font-family:monospace;text-align:center;overflow:hidden}.pre{font-size:11px;letter-spacing:.4em;color:rgba(240,238,255,.3);text-transform:uppercase;margin-bottom:16px}.t{font-size:clamp(28px,6vw,72px);font-weight:900;line-height:1;min-height:1.2em}.cur{display:inline-block;width:3px;background:#7c4dff;animation:blink 1s step-end infinite;vertical-align:middle;height:.85em;margin-left:2px}@keyframes blink{0%,100%{opacity:1}50%{opacity:0}}.sub{font-size:12px;color:rgba(240,238,255,.4);letter-spacing:.2em;margin-top:16px;opacity:0;transition:opacity .5s}</style></head><body><div class="pre">// инициализация</div><div class="t"><span id="out"></span><span class="cur"></span></div><div class="sub" id="sub">Разработка уникальных решений</div><script>const phrases=['ПРИВЕТ,','МИР!','ПИШУ КОД','ЧТО УДИВЛЯЕТ'];let pi=0,ci=0,del=false;function type(){const ph=phrases[pi];if(!del){if(ci<ph.length){document.getElementById('out').textContent=ph.slice(0,++ci);setTimeout(type,90);}else{setTimeout(()=>{del=true;if(pi===phrases.length-1){document.getElementById('sub').style.opacity=1;}type();},1200);}}else{if(ci>0){document.getElementById('out').textContent=ph.slice(0,--ci);setTimeout(type,50);}else{del=false;pi=(pi+1)%phrases.length;setTimeout(type,200);}}}type();<\/script></body></html>`,

  p20:`<!DOCTYPE html><html><head><meta charset="UTF-8"><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#060610;color:#f0eeff;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;overflow:hidden;position:relative}canvas{position:fixed;inset:0;z-index:0}.hero{position:relative;z-index:1;text-align:center}.pre{font-size:10px;letter-spacing:.4em;color:rgba(240,238,255,.3);text-transform:uppercase;margin-bottom:12px}.t{font-size:clamp(28px,6vw,64px);font-weight:900;line-height:.9;background:linear-gradient(110deg,#7c4dff,#00e5ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.chips{display:flex;gap:10px;justify-content:center;margin-top:20px;flex-wrap:wrap}.chip{font-size:10px;letter-spacing:.15em;padding:6px 14px;border:1px solid rgba(124,77,255,.4);color:rgba(240,238,255,.5);text-transform:uppercase;cursor:pointer;transition:all .2s}.chip.on,.chip:hover{border-color:#7c4dff;color:#7c4dff}</style></head><body><canvas id="cv"></canvas><div class="hero"><div class="pre">VANTA.JS BACKGROUNDS</div><div class="t">5 ГОТОВЫХ<br>3D ФОНОВ</div><div class="chips"><div class="chip on">BIRDS</div><div class="chip">WAVES</div><div class="chip">NET</div><div class="chip">RINGS</div><div class="chip">CELLS</div></div></div><script>const cv=document.getElementById('cv'),ctx=cv.getContext('2d');let W,H,t=0,pts=[];function r(){W=cv.width=innerWidth;H=cv.height=innerHeight;pts=[];for(let i=0;i<60;i++)pts.push({x:Math.random()*W,y:Math.random()*H,vx:(Math.random()-.5)*.8,vy:(Math.random()-.5)*.8,h:200+Math.random()*100});}function d(){t++;ctx.fillStyle='rgba(6,6,16,.2)';ctx.fillRect(0,0,W,H);pts.forEach(p=>{p.x+=p.vx;p.y+=p.vy;if(p.x<0||p.x>W)p.vx*=-1;if(p.y<0||p.y>H)p.vy*=-1;ctx.beginPath();ctx.arc(p.x,p.y,1.5,0,Math.PI*2);ctx.fillStyle='hsla('+p.h+',80%,70%,.6)';ctx.fill();pts.forEach(q=>{const dx=p.x-q.x,dy=p.y-q.y,dist=Math.sqrt(dx*dx+dy*dy);if(dist<100){ctx.beginPath();ctx.moveTo(p.x,p.y);ctx.lineTo(q.x,q.y);ctx.strokeStyle='hsla('+p.h+',80%,70%,'+(1-dist/100)*.15+')';ctx.lineWidth=.5;ctx.stroke();}});});requestAnimationFrame(d);}window.addEventListener('resize',r);r();d();<\/script></body></html>`,
};

/* premium detailed code — shown after unlock */
/* ════════════════════════════════════
   PREMIUM CODE — RICH MANUALS
════════════════════════════════════ */
const PREM_CODE = {
  /* ── p1: SAAS DASHBOARD 800₽ ── */
  p1:[
    {tag:'01 · Layout',title:'Grid-архитектура дашборда',desc:'Sidebar на всю высоту через position:sticky. Main прокручивается независимо. Header внутри main тоже sticky. Это основа — остальное надстраивается поверх.',
     snippet:`/* ─── ГЛАВНЫЙ LAYOUT ─── */\n.dashboard {\n  display: grid;\n  grid-template-columns: 260px 1fr;\n  min-height: 100vh;\n}\n\n/* Sidebar — прилипает к верху на всю высоту */\n.sidebar {\n  position: sticky;\n  top: 0;\n  height: 100vh;\n  overflow-y: auto;\n  background: #08080f;\n  border-right: 1px solid rgba(255,255,255,.06);\n  padding: 24px 0;\n  scrollbar-width: thin;\n  scrollbar-color: rgba(255,255,255,.1) transparent;\n}\n\n/* Header внутри main — тоже sticky */\n.main-header {\n  position: sticky;\n  top: 0;\n  z-index: 10;\n  background: rgba(8,8,15,.94);\n  backdrop-filter: blur(20px);\n  padding: 0 32px;\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid rgba(255,255,255,.06);\n}\n\n.content { padding: 32px; }`, lang:'CSS'},
    {tag:'02 · KPI Cards',title:'KPI карточки с дельтой и анимацией',desc:'Карточка: иконка + лейбл + число + процент изменения. Число анимируется от 0 при появлении. Класс .up/.down определяет цвет дельты.',
     snippet:`<!-- HTML -->\n<div class="kpi-card">\n  <div class="kpi-icon">📈</div>\n  <div class="kpi-body">\n    <div class="kpi-label">ВЫРУЧКА</div>\n    <div class="kpi-value" data-target="2400000">0</div>\n    <div class="kpi-delta up">+12.5%</div>\n  </div>\n</div>\n\n/* CSS */\n.kpi-card {\n  background: #0d0d1a;\n  border: 1px solid rgba(255,255,255,.06);\n  padding: 24px;\n  display: flex;\n  gap: 18px;\n  transition: border-color .25s;\n}\n.kpi-card:hover { border-color: rgba(124,77,255,.3); }\n.kpi-delta.up   { color: #00e5a0; }\n.kpi-delta.down { color: #ff3c6e; }\n\n/* JS — анимируем число при появлении */\ndocument.querySelectorAll('.kpi-value').forEach(el => {\n  const target = +el.dataset.target;\n  let current = 0;\n  const step = target / 60;\n  const timer = setInterval(() => {\n    current = Math.min(current + step, target);\n    el.textContent = Math.round(current).toLocaleString('ru') + '₽';\n    if (current >= target) clearInterval(timer);\n  }, 16);\n});`, lang:'HTML/CSS/JS'},
    {tag:'03 · Chart.js',title:'Линейный + Bar графики с градиентом',desc:'Chart.js через CDN. Градиент под линией = createLinearGradient. Bar-chart для сравнения. Оба реагируют на тему.',
     snippet:`// <script src="https://cdn.jsdelivr.net/npm/chart.js"><\/script>\n\n// ─── ЛИНЕЙНЫЙ ГРАФИК ───\nconst lineCtx = document.getElementById('lineChart').getContext('2d');\nconst grad = lineCtx.createLinearGradient(0, 0, 0, 280);\ngrad.addColorStop(0, 'rgba(124,77,255, .45)');\ngrad.addColorStop(1, 'rgba(124,77,255, 0)');\n\nnew Chart(lineCtx, {\n  type: 'line',\n  data: {\n    labels: ['Янв','Фев','Мар','Апр','Май','Июн'],\n    datasets: [{\n      data: [1.2, 1.9, 1.5, 2.1, 1.8, 2.4],\n      borderColor: '#7c4dff',\n      borderWidth: 2,\n      fill: true,\n      backgroundColor: grad,\n      tension: 0.45,\n      pointRadius: 5,\n      pointBackgroundColor: '#7c4dff',\n      pointHoverRadius: 7,\n    }]\n  },\n  options: {\n    responsive: true, maintainAspectRatio: false,\n    plugins: { legend: { display: false }, tooltip: { callbacks: {\n      label: ctx => ' ₽' + ctx.parsed.y.toFixed(1) + 'M'\n    }}},\n    scales: {\n      x: { grid: { color: 'rgba(255,255,255,.04)' }, ticks: { color: '#888' } },\n      y: { grid: { color: 'rgba(255,255,255,.04)' }, ticks: { color: '#888' } }\n    }\n  }\n});\n\n// ─── BAR CHART ───\nnew Chart(document.getElementById('barChart'), {\n  type: 'bar',\n  data: {\n    labels: ['Пн','Вт','Ср','Чт','Пт','Сб','Вс'],\n    datasets: [{\n      data: [45,62,38,79,54,88,42],\n      backgroundColor: 'rgba(0,229,255,.2)',\n      borderColor: '#00e5ff',\n      borderWidth: 1,\n      borderRadius: 4,\n    }]\n  },\n  options: { responsive: true, plugins: { legend: { display: false } } }\n});`, lang:'JS'},
    {tag:'04 · Table',title:'Таблица: сортировка + поиск + пагинация',desc:'Три механики в одном компоненте. Сортировка по любой колонке, live-поиск по всем полям, пагинация по N строк.',
     snippet:`const ROWS_PER_PAGE = 10;\nlet allData = []; // массив объектов из API или JSON\nlet filtered = [];\nlet page = 1;\nlet sortKey = null, sortDir = 1;\n\n// ─── ПОИСК ───\ndocument.getElementById('search').addEventListener('input', e => {\n  const q = e.target.value.toLowerCase();\n  filtered = allData.filter(r =>\n    Object.values(r).some(v => String(v).toLowerCase().includes(q))\n  );\n  page = 1;\n  render();\n});\n\n// ─── СОРТИРОВКА ───\nfunction sortBy(key) {\n  if (sortKey === key) sortDir *= -1;\n  else { sortKey = key; sortDir = 1; }\n  filtered.sort((a,b) => {\n    const av = a[key], bv = b[key];\n    if (typeof av === 'number') return (av - bv) * sortDir;\n    return String(av).localeCompare(String(bv),'ru') * sortDir;\n  });\n  render();\n}\n\n// ─── РЕНДЕР ───\nfunction render() {\n  const start = (page - 1) * ROWS_PER_PAGE;\n  const slice = filtered.slice(start, start + ROWS_PER_PAGE);\n  const tbody = document.querySelector('tbody');\n  tbody.innerHTML = slice.map(r => \`\n    <tr>\n      <td>\${r.name}</td>\n      <td>\${r.status}</td>\n      <td>₽\${r.amount.toLocaleString('ru')}</td>\n    </tr>\n  \`).join('');\n  // пагинация\n  document.getElementById('pageInfo').textContent =\n    \`Страница \${page} из \${Math.ceil(filtered.length / ROWS_PER_PAGE)}\`;\n}`, lang:'JS'},
  ],

  /* ── p2: 3D HERO 1200₽ ── */
  p2:[
    {tag:'01 · Three.js Setup',title:'Полный бойлерплейт Three.js сцены',desc:'Scene + Camera + Renderer + ResizeObserver + анимационный цикл. Это основа любого Three.js проекта — копируй и надстраивай.',
     snippet:`import * as THREE from 'https://esm.sh/three@0.160';\nimport { OrbitControls } from 'https://esm.sh/three@0.160/examples/jsm/controls/OrbitControls.js';\n\n// ─── СЦЕНА ───\nconst scene    = new THREE.Scene();\nconst camera   = new THREE.PerspectiveCamera(75, innerWidth/innerHeight, 0.1, 1000);\nconst renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });\nrenderer.setPixelRatio(Math.min(devicePixelRatio, 2));\nrenderer.setSize(innerWidth, innerHeight);\ndocument.body.appendChild(renderer.domElement);\n\ncamera.position.z = 5;\n\n// ─── CONTROLS ───\nconst controls = new OrbitControls(camera, renderer.domElement);\ncontrols.enableDamping = true; // инерция\ncontrols.dampingFactor = 0.05;\ncontrols.enableZoom    = false;\n\n// ─── RESIZE ───\nnew ResizeObserver(() => {\n  camera.aspect = innerWidth / innerHeight;\n  camera.updateProjectionMatrix();\n  renderer.setSize(innerWidth, innerHeight);\n}).observe(document.body);\n\n// ─── АНИМАЦИОННЫЙ ЦИКЛ ───\nconst clock = new THREE.Clock();\nfunction animate() {\n  requestAnimationFrame(animate);\n  const t = clock.getElapsedTime();\n  controls.update();\n  // здесь твоя анимация\n  renderer.render(scene, camera);\n}\nanimate();`, lang:'JS'},
    {tag:'02 · TorusKnot',title:'TorusKnot с анимированным wireframe шейдером',desc:'Wireframe эффект через MeshStandardMaterial + wireframe:true. Анимация rotation по двум осям. Реакция на мышь через Raycaster.',
     snippet:`// ─── ГЕОМЕТРИЯ ───\nconst geometry = new THREE.TorusKnotGeometry(\n  1.2,   // radius\n  0.4,   // tube\n  200,   // tubularSegments\n  20,    // radialSegments\n  2, 3   // p, q — определяют форму узла\n);\n\n// ─── МАТЕРИАЛ ───\nconst material = new THREE.MeshStandardMaterial({\n  color: 0x7c4dff,\n  wireframe: true,\n  emissive: 0x7c4dff,\n  emissiveIntensity: 0.3,\n});\n\nconst mesh = new THREE.Mesh(geometry, material);\nscene.add(mesh);\n\n// Освещение для non-wireframe режима\nscene.add(new THREE.AmbientLight(0xffffff, 0.3));\nconst pointLight = new THREE.PointLight(0x00e5ff, 2, 20);\npointLight.position.set(3, 3, 3);\nscene.add(pointLight);\n\n// ─── АНИМАЦИЯ ───\nfunction animate() {\n  requestAnimationFrame(animate);\n  const t = clock.getElapsedTime();\n  mesh.rotation.x = t * 0.3;\n  mesh.rotation.y = t * 0.5;\n  // Пульсирующий цвет\n  const hue = (t * 30) % 360;\n  material.color.setHSL(hue/360, 0.8, 0.6);\n  renderer.render(scene, camera);\n}`, lang:'JS'},
    {tag:'03 · Mouse React',title:'Mesh реагирует на движение мыши',desc:'Нормализуем координаты мыши от -1 до 1. Плавный поворот объекта в сторону курсора через THREE.MathUtils.lerp.',
     snippet:`const mouse = new THREE.Vector2(0, 0);\nconst targetRotation = new THREE.Vector2(0, 0);\n\nwindow.addEventListener('mousemove', e => {\n  // Нормализуем: от -1 до 1\n  mouse.x = (e.clientX / innerWidth)  * 2 - 1;\n  mouse.y = (e.clientY / innerHeight) * 2 - 1;\n});\n\n// В анимационном цикле — плавный lerp к цели\nfunction animate() {\n  requestAnimationFrame(animate);\n  const t = clock.getElapsedTime();\n\n  // Плавно тянемся к позиции мыши\n  targetRotation.x += (mouse.y * 0.5 - targetRotation.x) * 0.05;\n  targetRotation.y += (mouse.x * 0.5 - targetRotation.y) * 0.05;\n\n  // Базовая анимация + наведение мышью\n  mesh.rotation.x = t * 0.3 + targetRotation.x;\n  mesh.rotation.y = t * 0.5 + targetRotation.y;\n\n  renderer.render(scene, camera);\n}`, lang:'JS'},
    {tag:'04 · Bloom',title:'Postprocessing Bloom эффект (свечение)',desc:'EffectComposer + UnrealBloomPass — профессиональное свечение. Требует импорта postprocessing модулей.',
     snippet:`import { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js';\nimport { RenderPass }    from 'three/examples/jsm/postprocessing/RenderPass.js';\nimport { UnrealBloomPass } from 'three/examples/jsm/postprocessing/UnrealBloomPass.js';\n\n// Включаем HDR рендеринг (нужен для bloom)\nrenderer.toneMapping = THREE.ReinhardToneMapping;\nrenderer.toneMappingExposure = Math.pow(0.9, 4.0);\n\nconst composer = new EffectComposer(renderer);\ncomposer.addPass(new RenderPass(scene, camera));\n\nconst bloom = new UnrealBloomPass(\n  new THREE.Vector2(innerWidth, innerHeight),\n  1.5,   // strength — интенсивность\n  0.4,   // radius\n  0.85   // threshold — порог яркости\n);\ncomposer.addPass(bloom);\n\n// В animate() используем composer.render() вместо renderer.render()\nfunction animate() {\n  requestAnimationFrame(animate);\n  controls.update();\n  composer.render(); // ← вместо renderer.render(scene, camera)\n}`, lang:'JS'},
  ],

  /* ── p5: PARTICLE GALAXY 1400₽ — ФЛАГМАН, почти готовое решение ── */
  p5:[
    {tag:'01 · Полный HTML',title:'Готовая HTML-обёртка для галактики',desc:'Скопируй целиком — это рабочая страница с canvas, подключёнными шрифтами и базовыми стилями. Дальше вставляй JS.',
     snippet:`<!DOCTYPE html>\n<html lang="ru">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width,initial-scale=1">\n  <title>VOID WHISPER</title>\n  <style>\n    * { margin: 0; padding: 0; box-sizing: border-box; }\n    body {\n      background: #020208;\n      overflow: hidden;\n      font-family: system-ui, sans-serif;\n    }\n    #cv {\n      position: fixed;\n      inset: 0;\n      z-index: 0;\n    }\n    .hero {\n      position: relative;\n      z-index: 1;\n      height: 100vh;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      text-align: center;\n      color: #f0eeff;\n      pointer-events: none;\n    }\n    h1 {\n      font-size: clamp(40px, 8vw, 110px);\n      font-weight: 900;\n      letter-spacing: -.04em;\n      line-height: .9;\n      background: linear-gradient(110deg, #7c4dff, #00e5ff);\n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n    }\n  </style>\n</head>\n<body>\n  <canvas id="cv"></canvas>\n  <div class="hero">\n    <h1>VOID<br>WHISPER</h1>\n    <p style="margin-top:20px;color:rgba(240,238,255,.4);letter-spacing:.3em;font-size:12px;text-transform:uppercase">Beyond Birthday Studio</p>\n  </div>\n  <script src="galaxy.js"><\/script>\n</body>\n</html>`, lang:'HTML'},
    {tag:'02 · Инициализация',title:'Полный init — canvas, звёзды, туманности',desc:'Вставь в galaxy.js. Всё настроено, все переменные объявлены. Меняй значения в комментариях.',
     snippet:`const cv  = document.getElementById('cv');\nconst ctx = cv.getContext('2d');\nlet W, H, tick = 0;\nlet stars = [], nebulae = [], shoots = [];\nconst mouse = { x: 0, y: 0 };\n\nfunction resize() {\n  W = cv.width  = innerWidth;\n  H = cv.height = innerHeight;\n  initNebulae(); // пересоздаём туманности под новый размер\n  if (!stars.length) initStars();\n}\n\nfunction initStars() {\n  stars = [];\n  [\n    { n:320, rMin:.2,  rMax:.7,  sp:.012, a:.35 }, // дальний слой\n    { n:180, rMin:.5,  rMax:1.2, sp:.025, a:.55 }, // средний\n    { n: 60, rMin:1.0, rMax:2.2, sp:.05,  a:.85 }, // ближний\n  ].forEach(L => {\n    for (let i = 0; i < L.n; i++) {\n      stars.push({\n        x:  Math.random() * W,\n        y:  Math.random() * H,\n        r:  L.rMin + Math.random() * (L.rMax - L.rMin),\n        sp: L.sp,\n        a:  L.a * (.6 + Math.random() * .4),\n        to: Math.random() * Math.PI * 2, // twinkle offset\n        ts: .008 + Math.random() * .016, // twinkle speed\n        h:  Math.random() < .5 ? 220 + Math.random()*40 : 270 + Math.random()*30,\n      });\n    }\n  });\n}\n\nfunction initNebulae() {\n  nebulae = [\n    { x:W*.15, y:H*.25, rx:380, ry:260, r:220, rgb:[180,20,255], a:.045 },\n    { x:W*.85, y:H*.75, rx:420, ry:300, r:250, rgb:[0,180,255],  a:.038 },\n    { x:W*.50, y:H*.50, rx:500, ry:200, r:280, rgb:[255,20,150], a:.028 },\n  ];\n}\n\nwindow.addEventListener('mousemove', e => { mouse.x = e.clientX; mouse.y = e.clientY; });\nwindow.addEventListener('resize', resize);\nresize();\ndraw();`, lang:'JS'},
    {tag:'03 · Draw Loop',title:'Полный цикл отрисовки — копируй целиком',desc:'Один draw() рисует всё: фон, туманности, звёзды, падающие звёзды. Вставь после init — всё будет работать.',
     snippet:`function drawNebulae() {\n  nebulae.forEach(n => {\n    const px = n.x + (mouse.x/W-.5)*18, py = n.y + (mouse.y/H-.5)*12;\n    ctx.save();\n    ctx.translate(px, py);\n    ctx.scale(n.rx/n.r, n.ry/n.r);\n    const [r,g,b] = n.rgb;\n    const g2 = ctx.createRadialGradient(0,0,0,0,0,n.r);\n    g2.addColorStop(0, \`rgba(\${r},\${g},\${b},\${n.a*2.5})\`);\n    g2.addColorStop(.4,\`rgba(\${r},\${g},\${b},\${n.a})\`);\n    g2.addColorStop(1, \`rgba(\${r},\${g},\${b},0)\`);\n    ctx.fillStyle = g2;\n    ctx.beginPath(); ctx.arc(0,0,n.r,0,Math.PI*2); ctx.fill();\n    ctx.restore();\n  });\n}\n\nfunction drawStars() {\n  stars.forEach(s => {\n    const ox = (mouse.x/W-.5)*s.sp*60, oy = (mouse.y/H-.5)*s.sp*40;\n    const tw = .5 + .5*Math.sin(tick*s.ts+s.to);\n    const a  = s.a * (.5 + .5*tw);\n    if (s.r > 1.5) {\n      const gs = s.r*6*tw;\n      const g2 = ctx.createRadialGradient(s.x+ox,s.y+oy,0,s.x+ox,s.y+oy,gs);\n      g2.addColorStop(0,\`hsla(\${s.h},90%,95%,\${a})\`);\n      g2.addColorStop(1,\`hsla(\${s.h},80%,70%,0)\`);\n      ctx.fillStyle = g2;\n      ctx.beginPath(); ctx.arc(s.x+ox,s.y+oy,gs,0,Math.PI*2); ctx.fill();\n    }\n    ctx.fillStyle = \`hsla(\${s.h},70%,95%,\${a})\`;\n    ctx.beginPath(); ctx.arc(s.x+ox,s.y+oy,s.r,0,Math.PI*2); ctx.fill();\n  });\n}\n\nfunction spawnShoot() {\n  const ang = Math.PI/6 + Math.random()*Math.PI/6;\n  const spd = 8 + Math.random()*12;\n  shoots.push({ x:Math.random()*W*.8, y:Math.random()*H*.4,\n    vx:Math.cos(ang)*spd, vy:Math.sin(ang)*spd,\n    len:80+Math.random()*120, life:0, max:55+Math.random()*30 });\n}\n\nfunction drawShoots() {\n  shoots = shoots.filter(s=>s.life<s.max);\n  shoots.forEach(s => {\n    const fade=(1-s.life/s.max)*.9, spd=Math.hypot(s.vx,s.vy)||10;\n    const tx=s.x-s.vx*(s.len/spd), ty=s.y-s.vy*(s.len/spd);\n    const g2=ctx.createLinearGradient(tx,ty,s.x,s.y);\n    g2.addColorStop(0,'rgba(255,255,255,0)');\n    g2.addColorStop(1,\`rgba(255,255,255,\${fade})\`);\n    ctx.strokeStyle=g2; ctx.lineWidth=1.5;\n    ctx.beginPath(); ctx.moveTo(tx,ty); ctx.lineTo(s.x,s.y); ctx.stroke();\n    s.x+=s.vx; s.y+=s.vy; s.life++;\n  });\n}\n\nfunction draw() {\n  tick++;\n  ctx.fillStyle='rgba(2,2,8,.3)'; // след — чем меньше альфа, тем длиннее\n  ctx.fillRect(0,0,W,H);\n  drawNebulae();\n  drawStars();\n  drawShoots();\n  if (tick % 180 === 0 && Math.random() < .7) spawnShoot();\n  requestAnimationFrame(draw);\n}`, lang:'JS'},
    {tag:'04 · Кастомизация',title:'Все параметры которые стоит менять',desc:'Собрал все "ручки" в одном месте. Меняй эти значения — результат виден сразу.',
     snippet:`// ─── ПАРАМЕТРЫ КОТОРЫЕ ВЛИЯЮТ НА АТМОСФЕРУ ───\n\n// Звёзды\nconst STAR_LAYERS = [\n  { n: 320, rMin: .2, rMax: .7,  sp: .012, a: .35 }, // дальние\n  { n: 180, rMin: .5, rMax: 1.2, sp: .025, a: .55 }, // средние\n  { n:  60, rMin: 1.0,rMax: 2.2, sp: .05,  a: .85 }, // ближние\n  // Увеличь n = больше звёзд\n  // Увеличь sp = сильнее параллакс\n  // Увеличь rMax = крупнее звёзды\n];\n\n// Туманности\nconst NEBULA_COLORS = [\n  [180, 20, 255],  // фиолетовая — меняй RGB\n  [0, 180, 255],   // синяя\n  [255, 20, 150],  // розовая\n];\nconst NEBULA_ALPHA = 0.045; // прозрачность — больше = ярче\n\n// Фон (след за частицами)\n// 0.3 = короткий след, 0.05 = очень длинный\nconst BG_TRAIL = 'rgba(2, 2, 8, 0.30)';\n\n// Shooting stars\nconst SHOOT_INTERVAL = 180; // кадров между спавнами\nconst SHOOT_CHANCE   = 0.7; // вероятность 0..1\n\n// Гамма цветов звёзд (hue в градусах)\n// 220-260 = синефиолетовые, 0-30 = красно-оранжевые\nconst STAR_HUE_COLD = [220, 260];\nconst STAR_HUE_WARM = [270, 300];`, lang:'JS'},
  ],

  /* ── p3: PARALLAX SCROLL 900₽ ── */
  p3:[
    {tag:'01 · GSAP Setup',title:'Подключение GSAP + ScrollTrigger',desc:'Минимальный бойлерплейт GSAP + ScrollTrigger через CDN. После этого все анимации ниже работают.',
     snippet:`<!-- CDN — вставь в <head> -->\n<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.3/gsap.min.js"><\/script>\n<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.3/ScrollTrigger.min.js"><\/script>\n\n<script>\n  // Регистрируем плагин — ОБЯЗАТЕЛЬНО\n  gsap.registerPlugin(ScrollTrigger);\n<\/script>`, lang:'HTML'},
    {tag:'02 · Pin Section',title:'Pin-секция — контент фиксируется при скролле',desc:'Секция остаётся на месте пока скроллишь через неё. Внутри — горизонтальный слайдер или анимации.',
     snippet:`// Секция "прилипает" на 300% высоты = 3 экрана скролла\ngsap.to('.slides-container', {\n  x: () => -(document.querySelector('.slides-container').scrollWidth - innerWidth),\n  ease: 'none', // ВАЖНО: без easing для скролл-синхронизации\n  scrollTrigger: {\n    trigger: '.pinned-section',\n    start: 'top top',\n    end: () => '+=' + document.querySelector('.slides-container').scrollWidth,\n    pin: true,        // ← фиксируем секцию\n    scrub: 1,         // синхронизация со скроллом (1 = плавно)\n    anticipatePin: 1, // предотвращает прыжок при pin\n    invalidateOnRefresh: true,\n  }\n});\n\n/* CSS для горизонтального слайдера */\n.pinned-section {\n  overflow: hidden;\n  width: 100vw;\n}\n.slides-container {\n  display: flex;\n  width: max-content; /* растягивается по контенту */\n}\n.slide {\n  width: 100vw;\n  height: 100vh;\n  flex-shrink: 0;\n}`, lang:'JS/CSS'},
    {tag:'03 · Stagger Text',title:'Stagger-анимация букв/слов при появлении',desc:'Текст разбивается на spans, каждый появляется с задержкой. Создаёт кинематографичный эффект.',
     snippet:`// Разбиваем текст на слова\nfunction splitWords(selector) {\n  document.querySelectorAll(selector).forEach(el => {\n    el.innerHTML = el.textContent\n      .split(' ')\n      .map(w => \`<span class="word">\${w}</span>\`)\n      .join(' ');\n  });\n}\nsplitWords('.animate-title');\n\n// Анимируем каждое слово с задержкой\ngsap.from('.animate-title .word', {\n  opacity: 0,\n  y: 60,\n  rotationX: -90,    // 3D поворот\n  stagger: 0.08,     // задержка между словами\n  duration: 0.8,\n  ease: 'power3.out',\n  scrollTrigger: {\n    trigger: '.animate-title',\n    start: 'top 80%',\n    toggleActions: 'play none none reverse',\n  }\n});\n\n/* CSS */\n.animate-title .word {\n  display: inline-block; /* нужно для y-трансформации */\n  transform-origin: bottom;\n}`, lang:'JS/CSS'},
    {tag:'04 · Parallax Layers',title:'Многослойный параллакс при скролле',desc:'Разные элементы движутся с разной скоростью при скролле. Передний план быстро, задний — медленно.',
     snippet:`// Система слоёв с разными скоростями\n[\n  { selector: '.bg-mountains', speed: -0.5 },  // фон — медленно\n  { selector: '.mid-trees',    speed: -1.2 },  // средний\n  { selector: '.fg-rocks',     speed: -2.0 },  // передний — быстро\n].forEach(({ selector, speed }) => {\n  gsap.to(selector, {\n    yPercent: speed * 100,\n    ease: 'none',\n    scrollTrigger: {\n      scrub: true,  // синхронизация без задержки\n      start: 'top bottom',\n      end: 'bottom top',\n    }\n  });\n});\n\n// Progress bar скролла\ngsap.to('.scroll-progress', {\n  scaleX: 1,\n  ease: 'none',\n  scrollTrigger: {\n    scrub: true,\n    start: 'top top',\n    end: 'bottom bottom',\n  }\n});`, lang:'JS'},
  ],

  /* ── p4: DARK SHOP 1000₽ ── */
  p4:[
    {tag:'01 · Архитектура',title:'Структура магазина без бэкенда',desc:'Вся логика в JS-объектах. Товары — массив, корзина — Map, состояние — plain object. localStorage для персистентности.',
     snippet:`// ─── ДАННЫЕ ТОВАРОВ ───\nconst PRODUCTS = [\n  { id: 1, name: 'Cursor FX Kit', price: 1200, cat: 'ui',\n    img: '🎯', badge: 'ХИТ', desc: '5 эффектов курсора' },\n  { id: 2, name: '3D Hero Pack', price: 2400, cat: '3d',\n    img: '🌌', badge: null, desc: 'Three.js hero секции' },\n  // ... добавляй товары сюда\n];\n\n// ─── СОСТОЯНИЕ ───\nconst cart = new Map(); // Map<id, quantity>\nlet activeFilter = 'all';\n\n// ─── ПЕРСИСТЕНТНОСТЬ ───\nfunction saveCart() {\n  const obj = {};\n  cart.forEach((qty, id) => obj[id] = qty);\n  localStorage.setItem('bb_cart', JSON.stringify(obj));\n}\n\nfunction loadCart() {\n  try {\n    const saved = JSON.parse(localStorage.getItem('bb_cart') || '{}');\n    Object.entries(saved).forEach(([id, qty]) => cart.set(+id, qty));\n    updateCartUI();\n  } catch(_) {}\n}\n\nloadCart(); // вызываем при старте`, lang:'JS'},
    {tag:'02 · Фильтры',title:'Фильтр по категориям + анимация',desc:'Клик меняет activeFilter, фильтруем товары, анимируем исчезновение/появление. CSS transition на opacity + transform.',
     snippet:`function filterProducts(cat) {\n  activeFilter = cat;\n\n  // Подсвечиваем активную кнопку\n  document.querySelectorAll('.filter-btn').forEach(btn => {\n    btn.classList.toggle('active', btn.dataset.cat === cat);\n  });\n\n  const cards = document.querySelectorAll('.product-card');\n\n  cards.forEach(card => {\n    const match = cat === 'all' || card.dataset.cat === cat;\n\n    if (match) {\n      card.style.opacity = '0';\n      card.style.display = 'block';\n      // Небольшая задержка для анимации появления\n      requestAnimationFrame(() => {\n        card.style.transition = 'opacity .3s, transform .3s';\n        card.style.opacity = '1';\n        card.style.transform = 'translateY(0)';\n      });\n    } else {\n      card.style.transition = 'opacity .2s';\n      card.style.opacity = '0';\n      setTimeout(() => { card.style.display = 'none'; }, 200);\n    }\n  });\n}`, lang:'JS'},
    {tag:'03 · Корзина',title:'Slide-in корзина + счётчик в хедере',desc:'Корзина как fixed панель с transform: translateX(). Открывается/закрывается через класс. Счётчик анимируется при добавлении.',
     snippet:`// ─── ДОБАВЛЕНИЕ В КОРЗИНУ ───\nfunction addToCart(id) {\n  cart.set(id, (cart.get(id) || 0) + 1);\n  saveCart();\n  updateCartUI();\n  showAddedFeedback(id); // визуальный отклик\n}\n\nfunction removeFromCart(id) {\n  cart.delete(id);\n  saveCart();\n  updateCartUI();\n}\n\n// ─── ОБНОВЛЕНИЕ UI ───\nfunction updateCartUI() {\n  const total = [...cart.values()].reduce((a,b) => a+b, 0);\n  const sum   = [...cart.entries()].reduce((acc,[id,qty]) => {\n    const p = PRODUCTS.find(p => p.id === id);\n    return acc + (p ? p.price * qty : 0);\n  }, 0);\n\n  // Счётчик в хедере\n  const badge = document.getElementById('cart-badge');\n  badge.textContent = total;\n  badge.style.transform = 'scale(1.4)';\n  setTimeout(() => { badge.style.transform = 'scale(1)'; }, 200);\n\n  // Сумма в панели\n  document.getElementById('cart-total').textContent =\n    total + ' товар(а) · ' + sum.toLocaleString('ru') + '₽';\n}\n\n// ─── СЛАЙД ПАНЕЛИ ───\nfunction openCart()  { document.getElementById('cart-panel').classList.add('open'); }\nfunction closeCart() { document.getElementById('cart-panel').classList.remove('open'); }\n\n/* CSS */\n.cart-panel {\n  position: fixed;\n  right: 0; top: 0; bottom: 0;\n  width: 380px;\n  background: #0d0d1a;\n  transform: translateX(100%); /* скрыта за правым краем */\n  transition: transform .35s cubic-bezier(.32,.72,0,1);\n  z-index: 500;\n}\n.cart-panel.open {\n  transform: translateX(0);\n}`, lang:'JS/CSS'},
  ],

  /* ── p8: LUXURY BRAND 1300₽ ── */
  p8:[
    {tag:'01 · Gold Typography',title:'Золотая типографика и luxury-стилистика',desc:'Комбинация serif + uppercase monospace создаёт luxury-атмосферу. Золотой текст через gradient clip. Тонкие border.',
     snippet:`/* ─── GOLD GRADIENT TEXT ─── */\n.luxury-title {\n  font-family: 'Playfair Display', serif;\n  font-size: clamp(48px, 8vw, 120px);\n  font-weight: 900;\n  letter-spacing: -.03em;\n  background: linear-gradient(\n    135deg,\n    #b8860b 0%,    /* dark gold */\n    #ffd700 30%,   /* gold */\n    #fffacd 55%,   /* lemon chiffon — блик */\n    #ffd700 70%,   /* gold */\n    #b8860b 100%   /* dark gold */\n  );\n  background-size: 200% auto;\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  animation: goldShimmer 4s linear infinite;\n}\n\n@keyframes goldShimmer {\n  to { background-position: 200% center; }\n}\n\n/* ─── LUXURY SUBTITLE ─── */\n.luxury-sub {\n  font-family: 'JetBrains Mono', monospace;\n  font-size: 11px;\n  letter-spacing: .5em;    /* очень широкий спейсинг */\n  text-transform: uppercase;\n  color: rgba(255,215,0,.4);\n  margin-bottom: 60px;\n}\n\n/* ─── THIN BORDERS ─── */\n.luxury-card {\n  border: 1px solid rgba(255,215,0,.15);\n  background: linear-gradient(135deg, rgba(255,215,0,.03), transparent);\n  padding: 48px;\n}\n.luxury-card:hover {\n  border-color: rgba(255,215,0,.4);\n}`, lang:'CSS'},
    {tag:'02 · Video BG',title:'Video-background секция с overlay',desc:'Video как фон: object-fit:cover, muted+autoplay+playsinline — обязательные атрибуты для автозапуска в браузерах.',
     snippet:`<!-- HTML -->\n<section class="video-section">\n  <video\n    class="video-bg"\n    src="luxury.mp4"\n    autoplay muted loop playsinline\n    poster="preview.jpg"\n  ></video>\n  <div class="video-overlay"></div>\n  <div class="video-content">\n    <h2 class="luxury-title">SAVOIR FAIRE</h2>\n    <p class="luxury-sub">Est. 2026</p>\n  </div>\n</section>\n\n/* CSS */\n.video-section {\n  position: relative;\n  height: 100vh;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.video-bg {\n  position: absolute;\n  inset: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover; /* заполняет блок, обрезает края */\n  z-index: 0;\n}\n\n.video-overlay {\n  position: absolute;\n  inset: 0;\n  background: linear-gradient(\n    to bottom,\n    rgba(2,2,10,.7),\n    rgba(2,2,10,.4),\n    rgba(2,2,10,.8)\n  );\n  z-index: 1;\n}\n\n.video-content {\n  position: relative;\n  z-index: 2;\n  text-align: center;\n}`, lang:'HTML/CSS'},
    {tag:'03 · Reveal GSAP',title:'Медленные luxury-reveal анимации',desc:'Медленные, царственные появления. duration: 1.8+ секунды — это и есть luxury-темп. Clip-path reveal для изображений.',
     snippet:`gsap.registerPlugin(ScrollTrigger);\n\n// ─── CLIP-PATH REVEAL (для картинок) ───\n// Картинка "раскрывается" снизу вверх\ngsap.from('.luxury-img', {\n  clipPath: 'inset(100% 0 0 0)',  // полностью закрыта снизу\n  duration: 1.8,\n  ease: 'power4.inOut',\n  scrollTrigger: {\n    trigger: '.luxury-img',\n    start: 'top 75%',\n  }\n});\n\n// ─── ТЕКСТ — FADE + SLOW RISE ───\ngsap.from('.luxury-title', {\n  opacity: 0,\n  y: 40,\n  duration: 2.2,               // 2+ секунды — это luxury\n  ease: 'power3.out',\n  scrollTrigger: {\n    trigger: '.luxury-title',\n    start: 'top 80%',\n  }\n});\n\n// ─── РАЗДЕЛИТЕЛЬ — линия растёт ───\ngsap.from('.divider-line', {\n  scaleX: 0,\n  transformOrigin: 'left',\n  duration: 2.0,\n  ease: 'power2.inOut',\n  scrollTrigger: {\n    trigger: '.divider-line',\n    start: 'top 85%',\n  }\n});\n\n// ─── STAGGER для сетки ───\ngsap.from('.product-item', {\n  opacity: 0, y: 60,\n  stagger: 0.15,  // каждый следующий на 0.15s позже\n  duration: 1.4,\n  ease: 'power3.out',\n  scrollTrigger: { trigger: '.product-grid', start: 'top 75%' }\n});`, lang:'JS'},
  ],

  /* ── p3: PARALLAX SCROLL 900₽ ── */
  p3:[
    {tag:'01 · Scroll Snap',title:'CSS scroll-snap — страницы без JS',desc:'Браузер сам фиксирует секции при скролле. scroll-snap-type на контейнере, scroll-snap-align на каждой секции.',
     snippet:`/* Контейнер */\nbody {\n  height: 100vh;\n  overflow-y: scroll;\n  scroll-snap-type: y mandatory; /* mandatory = строго к ближайшей */\n  /* smooth scroll */\n  scroll-behavior: smooth;\n}\n\n/* Каждая секция */\n.section {\n  height: 100vh;\n  scroll-snap-align: start; /* выравниваем по верху */\n  scroll-snap-stop: always; /* не пропускать секции */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  overflow: hidden;\n}`, lang:'CSS'},
    {tag:'02 · Progress Bar',title:'Прогресс-бар прокрутки в реальном времени',desc:'Ширина полосы = отношение текущей прокрутки к максимальной. Обновляется на каждый scroll event.',
     snippet:`const bar = document.getElementById('progress-bar');\n\nwindow.addEventListener('scroll', () => {\n  const scrolled = window.scrollY;\n  const maxScroll = document.body.scrollHeight - window.innerHeight;\n  const progress = (scrolled / maxScroll) * 100;\n\n  bar.style.width = progress + '%';\n}, { passive: true }); // passive = не блокируем scroll\n\n/* CSS */\n.progress-bar {\n  position: fixed;\n  top: 0; left: 0;\n  height: 3px;\n  width: 0;\n  background: linear-gradient(90deg, #7c4dff, #ff3cac, #00e5ff);\n  z-index: 100;\n  transition: width 0.05s linear;\n}`, lang:'JS/CSS'},
    {tag:'03 · Parallax Layers',title:'Параллакс: разные слои двигаются с разной скоростью',desc:'Чем меньше множитель — тем медленнее слой. Создаёт ощущение глубины без JS библиотек.',
     snippet:`// Параллакс на mousemove\nconst layers = document.querySelectorAll('[data-speed]');\n\nwindow.addEventListener('mousemove', (e) => {\n  const cx = window.innerWidth / 2;\n  const cy = window.innerHeight / 2;\n  const dx = e.clientX - cx;\n  const dy = e.clientY - cy;\n\n  layers.forEach(layer => {\n    const speed = parseFloat(layer.dataset.speed);\n    // speed: 0.02 = едва движется, 0.1 = заметно\n    const x = dx * speed;\n    const y = dy * speed;\n    layer.style.transform = \`translate(\${x}px, \${y}px)\`;\n  });\n});\n\n// HTML: <div class="layer" data-speed="0.03">ТЕКСТ</div>\n//       <div class="layer bg" data-speed="0.06">ФОН</div>`, lang:'JS'},
    {tag:'04 · GSAP ScrollTrigger',title:'GSAP: stagger текста при появлении',desc:'GSAP ScrollTrigger привязывает анимацию к прокрутке. Stagger = анимация слово за словом с задержкой.',
     snippet:`// <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"><\/script>\n// <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"><\/script>\ngsap.registerPlugin(ScrollTrigger);\n\n// Разбиваем текст на слова\ndocument.querySelectorAll('.split-text').forEach(el => {\n  el.innerHTML = el.textContent\n    .split(' ')\n    .map(w => \`<span class="word">\${w} </span>\`)\n    .join('');\n});\n\n// Анимируем слова при появлении в viewport\ngsap.from('.word', {\n  opacity: 0,\n  y: 40,\n  duration: 0.8,\n  stagger: 0.04, // задержка между словами\n  ease: 'power3.out',\n  scrollTrigger: {\n    trigger: '.split-text',\n    start: 'top 80%', // начало: когда 80% видно\n    toggleActions: 'play none none reverse'\n  }\n});`, lang:'JS'},
  ],

  /* ── p4: DARK SHOP 1000₽ ── */
  p4:[
    {tag:'01 · Product Grid',title:'Каталог товаров с hover-эффектами',desc:'CSS Grid + overflow:hidden на карточке. Image scale при hover через transform. Плавная тень через box-shadow transition.',
     snippet:`.product-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));\n  gap: 24px;\n}\n\n.product-card {\n  background: #0d0d1a;\n  border: 1px solid rgba(255,255,255,.06);\n  overflow: hidden; /* обрезаем изображение при zoom */\n  transition: border-color .3s, box-shadow .3s;\n  cursor: pointer;\n}\n.product-card:hover {\n  border-color: rgba(124,77,255,.4);\n  box-shadow: 0 20px 60px rgba(124,77,255,.15);\n}\n\n.product-image {\n  aspect-ratio: 4/3;\n  overflow: hidden;\n}\n.product-image img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: transform .6s cubic-bezier(.16,1,.3,1);\n}\n.product-card:hover .product-image img {\n  transform: scale(1.08);\n}`, lang:'CSS'},
    {tag:'02 · Filter System',title:'Фильтрация товаров без перезагрузки',desc:'Все товары в DOM, показываем/скрываем через CSS. data-атрибуты на карточках хранят категорию.',
     snippet:`// HTML: <div class="card" data-cat="electronics" data-price="2990">\nconst cards = document.querySelectorAll('.product-card');\n\nfunction filterProducts(cat, maxPrice = Infinity) {\n  cards.forEach(card => {\n    const matchCat   = cat === 'all' || card.dataset.cat === cat;\n    const matchPrice = +card.dataset.price <= maxPrice;\n\n    if (matchCat && matchPrice) {\n      card.style.display = '';\n      // Анимация появления\n      card.style.opacity = '0';\n      card.style.transform = 'translateY(16px)';\n      requestAnimationFrame(() => {\n        card.style.transition = 'opacity .3s, transform .3s';\n        card.style.opacity = '1';\n        card.style.transform = '';\n      });\n    } else {\n      card.style.display = 'none';\n    }\n  });\n}`, lang:'JS'},
    {tag:'03 · Slide-in Cart',title:'Корзина из боковой панели без backend',desc:'Fixed overlay + translateX анимация. State в массиве. Счётчик в header обновляется в реальном времени.',
     snippet:`let cart = []; // { id, name, price, qty }\n\nfunction addToCart(id, name, price) {\n  const existing = cart.find(i => i.id === id);\n  if (existing) {\n    existing.qty++;\n  } else {\n    cart.push({ id, name, price, qty: 1 });\n  }\n  updateCartUI();\n  openCart();\n}\n\nfunction updateCartUI() {\n  // Счётчик в шапке\n  const count = cart.reduce((s, i) => s + i.qty, 0);\n  document.getElementById('cart-count').textContent = count;\n\n  // Сумма\n  const total = cart.reduce((s, i) => s + i.price * i.qty, 0);\n  document.getElementById('cart-total').textContent =\n    total.toLocaleString('ru') + '₽';\n\n  // Список товаров\n  document.getElementById('cart-items').innerHTML =\n    cart.map(i => \`\n      <div class="cart-item">\n        <span>\${i.name}</span>\n        <span>\${i.qty} × \${i.price.toLocaleString('ru')}₽</span>\n        <button onclick="removeFromCart('\${i.id}')">✕</button>\n      </div>\n    \`).join('');\n}\n\nfunction openCart() {\n  document.getElementById('cart-panel').style.transform = 'translateX(0)';\n  document.getElementById('cart-overlay').style.display = 'block';\n}`, lang:'JS'},
  ],

  /* ── p6: MULTI-STEP FORM 700₽ ── */
  p6:[
    {tag:'01 · Step Logic',title:'Логика шагов — одна функция управляет всем',desc:'Храним currentStep как число. Показываем только нужный шаг через CSS. Progress bar обновляется автоматически.',
     snippet:`let currentStep = 1;\nconst TOTAL_STEPS = 4;\n\nfunction goToStep(n) {\n  if (n < 1 || n > TOTAL_STEPS) return;\n\n  // Скрываем текущий шаг\n  document.getElementById(\`step-\${currentStep}\`).classList.remove('active');\n\n  // Показываем новый\n  currentStep = n;\n  const newStep = document.getElementById(\`step-\${currentStep}\`);\n  newStep.classList.add('active');\n\n  // Анимация\n  newStep.style.opacity = '0';\n  newStep.style.transform = 'translateX(20px)';\n  requestAnimationFrame(() => {\n    newStep.style.transition = 'all .35s ease';\n    newStep.style.opacity = '1';\n    newStep.style.transform = 'translateX(0)';\n  });\n\n  // Progress bar\n  const progress = ((currentStep - 1) / (TOTAL_STEPS - 1)) * 100;\n  document.getElementById('progress-fill').style.width = progress + '%';\n\n  // Кнопки Назад/Далее\n  document.getElementById('btn-back').style.display =\n    currentStep > 1 ? 'block' : 'none';\n  document.getElementById('btn-next').textContent =\n    currentStep === TOTAL_STEPS ? 'ОТПРАВИТЬ' : 'ДАЛЕЕ →';\n}`, lang:'JS'},
    {tag:'02 · Validation',title:'Валидация полей перед переходом к шагу',desc:'Каждый шаг проверяется перед переходом. Ошибки подсвечиваются красным. Email и телефон — через RegExp.',
     snippet:`function validateStep(step) {\n  const inputs = document.querySelectorAll(\`#step-\${step} [required]\`);\n  let valid = true;\n\n  inputs.forEach(input => {\n    const error = input.nextElementSibling;\n    if (!input.value.trim()) {\n      showError(input, error, 'Обязательное поле');\n      valid = false;\n    } else if (input.type === 'email' && !isValidEmail(input.value)) {\n      showError(input, error, 'Введите корректный email');\n      valid = false;\n    } else if (input.dataset.type === 'phone' && !isValidPhone(input.value)) {\n      showError(input, error, 'Формат: +7 XXX XXX XX XX');\n      valid = false;\n    } else {\n      clearError(input, error);\n    }\n  });\n\n  return valid;\n}\n\nfunction showError(input, errorEl, msg) {\n  input.style.borderColor = '#ff3c6e';\n  if (errorEl) { errorEl.textContent = msg; errorEl.style.display = 'block'; }\n}\nfunction clearError(input, errorEl) {\n  input.style.borderColor = '';\n  if (errorEl) errorEl.style.display = 'none';\n}\n\nconst isValidEmail = e => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(e);\nconst isValidPhone = p => /^(\\+7|8)[\\s-]?\\(?\\d{3}\\)?[\\s-]?\\d{3}[\\s-]?\\d{2}[\\s-]?\\d{2}$/.test(p);`, lang:'JS'},
  ],

  /* ── p8: LUXURY BRAND 1300₽ — ФЛАГМАН ── */
  p8:[
    {tag:'01 · Design System',title:'Luxury дизайн-система: цвета, шрифты, отступы',desc:'Всё через CSS Custom Properties. Золотые акценты, кремовые тона, serif + sans-serif пара.',
     snippet:`:root {\n  /* Цвета */\n  --gold:     #c9a84c;\n  --gold-l:   #e8d5a3;\n  --cream:    #f5f0e8;\n  --dark:     #0c0a06;\n  --dark-s:   #1a1510;\n  --dark-b:   rgba(201,168,76,.1);\n\n  /* Шрифты */\n  --serif:   'Cormorant Garamond', Georgia, serif;  /* заголовки */\n  --sans:    'Montserrat', system-ui, sans-serif;   /* UI, кнопки */\n\n  /* Отступы */\n  --section: clamp(80px, 12vh, 140px);\n  --gutter:  clamp(24px, 6vw, 80px);\n}\n\n/* Luxury тип — размашистые тонкие заголовки */\n.h-luxury {\n  font-family: var(--serif);\n  font-size: clamp(48px, 10vw, 120px);\n  font-weight: 300;  /* тонкий вес = люксовый вайб */\n  letter-spacing: .1em;\n  line-height: .9;\n  color: var(--cream);\n}\n.h-luxury em {\n  font-style: italic;\n  color: var(--gold);\n}`, lang:'CSS'},
    {tag:'02 · GSAP Reveal',title:'Медленный reveal при скролле — luxury темп',desc:'Luxury сайты медленнее. duration: 1.4, ease: expo.out. Буквы появляются одна за другой через SplitText.',
     snippet:`gsap.registerPlugin(ScrollTrigger);\n\n// Reveal секций снизу\ngsap.utils.toArray('.reveal').forEach(el => {\n  gsap.from(el, {\n    y: 60,\n    opacity: 0,\n    duration: 1.4, // медленнее чем у обычных сайтов\n    ease: 'expo.out',\n    scrollTrigger: {\n      trigger: el,\n      start: 'top 85%',\n    }\n  });\n});\n\n// Горизонтальная линия-разделитель\ngsap.from('.divider', {\n  scaleX: 0,\n  transformOrigin: 'left center',\n  duration: 1.6,\n  ease: 'expo.out',\n  scrollTrigger: {\n    trigger: '.divider',\n    start: 'top 90%',\n  }\n});\n\n// Счётчики (цены, год основания)\ngsap.from('.counter', {\n  textContent: 0,\n  duration: 2,\n  ease: 'power2.out',\n  snap: { textContent: 1 },\n  scrollTrigger: { trigger: '.counter', start: 'top 80%' }\n});`, lang:'JS'},
    {tag:'03 · Video Background',title:'Видео-фон с overlay и parallax',desc:'Video autoplay без звука + gradient overlay для читаемости текста. Parallax через transform при скролле.',
     snippet:`<!-- HTML -->\n<section class="video-hero">\n  <video autoplay muted loop playsinline class="video-bg">\n    <source src="hero.mp4" type="video/mp4">\n  </video>\n  <div class="overlay"></div>\n  <div class="content">...</div>\n</section>\n\n/* CSS */\n.video-hero {\n  position: relative;\n  height: 100vh;\n  overflow: hidden;\n}\n.video-bg {\n  position: absolute;\n  inset: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  filter: brightness(0.7) saturate(0.8); /* приглушаем */\n}\n.overlay {\n  position: absolute;\n  inset: 0;\n  background: linear-gradient(\n    to bottom,\n    rgba(12,10,6,0) 0%,\n    rgba(12,10,6,0.6) 60%,\n    rgba(12,10,6,1) 100%\n  );\n}\n\n/* JS — Parallax скролла */\nwindow.addEventListener('scroll', () => {\n  const y = window.scrollY;\n  document.querySelector('.video-bg').style.transform =\n    \`translateY(\${y * 0.4}px) scale(1.1)\`;\n}, { passive: true });`, lang:'HTML/CSS/JS'},
  ],

  /* ── p9: MUSIC PLAYER 900₽ ── */
  p9:[
    {tag:'01 · Web Audio API',title:'Visualizer — анализ аудио в реальном времени',desc:'AudioContext + AnalyserNode читает частоты трека. Рисуем на Canvas в реальном времени.',
     snippet:`const ctx = new AudioContext();\nconst analyser = ctx.createAnalyser();\nanalyser.fftSize = 256;\n\nconst source = ctx.createMediaElementSource(audioElement);\nsource.connect(analyser);\nanalyser.connect(ctx.destination);\n\nconst data = new Uint8Array(analyser.frequencyBinCount); // 128 значений\nconst canvas = document.getElementById('visualizer');\nconst cctx = canvas.getContext('2d');\n\nfunction drawVisualizer() {\n  requestAnimationFrame(drawVisualizer);\n  analyser.getByteFrequencyData(data); // обновляем данные\n\n  cctx.fillStyle = 'rgba(2,2,10,.2)';\n  cctx.fillRect(0, 0, canvas.width, canvas.height);\n\n  const barW = canvas.width / data.length * 2;\n\n  data.forEach((val, i) => {\n    const h = (val / 255) * canvas.height;\n    const hue = 240 + (i / data.length) * 120;\n    cctx.fillStyle = \`hsl(\${hue}, 80%, 60%)\`;\n    cctx.fillRect(i * barW, canvas.height - h, barW - 2, h);\n  });\n}\ndrawVisualizer();`, lang:'JS'},
    {tag:'02 · Progress & Seek',title:'Drag-прогресс: клик и перетаскивание',desc:'Один обработчик на mousedown + mousemove + mouseup. Вычисляем позицию относительно ширины полосы.',
     snippet:`const progressBar = document.getElementById('progress');\nlet isDragging = false;\n\nfunction seek(e) {\n  const rect = progressBar.getBoundingClientRect();\n  const x = Math.max(0, Math.min(e.clientX - rect.left, rect.width));\n  const ratio = x / rect.width;\n  audio.currentTime = ratio * audio.duration;\n  updateProgress(ratio);\n}\n\nprogressBar.addEventListener('mousedown', e => { isDragging = true; seek(e); });\ndocument.addEventListener('mousemove', e => { if (isDragging) seek(e); });\ndocument.addEventListener('mouseup',   () => { isDragging = false; });\n\n// Обновление прогресса при воспроизведении\naudio.addEventListener('timeupdate', () => {\n  if (!isDragging) {\n    const ratio = audio.currentTime / audio.duration;\n    updateProgress(ratio);\n  }\n});\n\nfunction updateProgress(ratio) {\n  document.getElementById('progress-fill').style.width = (ratio * 100) + '%';\n  document.getElementById('current-time').textContent = formatTime(audio.currentTime);\n}\n\nconst formatTime = s => \`\${Math.floor(s/60)}:\${String(Math.floor(s%60)).padStart(2,'0')}\`;`, lang:'JS'},
  ],

  /* ── p12: GLASSMORPHISM UI 700₽ ── */
  p12:[
    {tag:'01 · Glass Effect',title:'Настоящий glassmorphism — 5 ингредиентов',desc:'backdrop-filter + полупрозрачный фон + тонкая рамка + тонь + шум. Всё вместе = стекло.',
     snippet:`/* 1. Полупрозрачный фон */\n.glass {\n  background: rgba(255, 255, 255, 0.06);\n\n  /* 2. Блюр фона */\n  backdrop-filter: blur(24px) saturate(180%);\n  -webkit-backdrop-filter: blur(24px) saturate(180%);\n\n  /* 3. Тонкая рамка (градиентная) */\n  border: 1px solid rgba(255, 255, 255, 0.12);\n\n  /* 4. Тень */\n  box-shadow:\n    0 8px 32px rgba(0, 0, 0, 0.3),\n    inset 0 1px 0 rgba(255,255,255,.1); /* внутренняя тень = бликовый эффект */\n\n  border-radius: 16px;\n}\n\n/* 5. Noise texture через ::after для текстуры стекла */\n.glass::after {\n  content: '';\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  background-image: url("data:image/svg+xml,..."); /* SVG шум */\n  opacity: 0.04;\n  pointer-events: none;\n}`, lang:'CSS'},
    {tag:'02 · Gradient Borders',title:'Градиентные рамки через ::before',desc:'CSS не умеет gradient border напрямую. Трюк: фон родителя = border-image, содержимое через ::before.',
     snippet:`/* Метод 1: background-clip */\n.gradient-border {\n  position: relative;\n  background: linear-gradient(#0d0d1a, #0d0d1a) padding-box,\n              linear-gradient(135deg, #7c4dff, #00e5ff) border-box;\n  border: 1px solid transparent;\n  border-radius: 12px;\n}\n\n/* Метод 2: ::before pseudo-element (более гибкий) */\n.gb-card {\n  position: relative;\n  border-radius: 16px;\n  overflow: hidden;\n}\n.gb-card::before {\n  content: '';\n  position: absolute;\n  inset: 0;\n  padding: 1px; /* толщина рамки */\n  background: linear-gradient(\n    135deg,\n    rgba(124,77,255,.6),\n    rgba(0,229,255,.3),\n    rgba(255,60,172,.4)\n  );\n  border-radius: inherit;\n  -webkit-mask:\n    linear-gradient(#fff 0 0) content-box,\n    linear-gradient(#fff 0 0);\n  -webkit-mask-composite: xor;\n  mask-composite: exclude;\n  pointer-events: none;\n}`, lang:'CSS'},
  ],

  /* ── p17: CURSOR EFFECTS 700₽ ── */
  p17:[
    {tag:'01 · Custom Cursor',title:'Кастомный cursor — dot + кольцо с lag',desc:'Два элемента: точка двигается сразу, кольцо — с задержкой через lerp. Так появляется инерция.',
     snippet:`const dot  = document.getElementById('cursor-dot');\nconst ring = document.getElementById('cursor-ring');\n\nlet mx = 0, my = 0; // позиция мыши\nlet rx = 0, ry = 0; // позиция кольца\n\ndocument.addEventListener('mousemove', e => {\n  mx = e.clientX; my = e.clientY;\n  // Точка двигается мгновенно\n  dot.style.transform = \`translate(\${mx}px, \${my}px) translate(-50%,-50%)\`;\n});\n\n// Кольцо — с плавным запаздыванием\nfunction animateCursor() {\n  // Lerp: rx движется к mx со скоростью 0.12 (12%)\n  rx += (mx - rx) * 0.12;\n  ry += (my - ry) * 0.12;\n  ring.style.transform = \`translate(\${rx}px, \${ry}px) translate(-50%,-50%)\`;\n  requestAnimationFrame(animateCursor);\n}\nanimateCursor();\n\n/* CSS */\n#cursor-dot  { width:8px;height:8px;background:#00e5ff;border-radius:50%;position:fixed;pointer-events:none;z-index:99999;mix-blend-mode:screen }\n#cursor-ring { width:36px;height:36px;border:1px solid rgba(0,229,255,.4);border-radius:50%;position:fixed;pointer-events:none;z-index:99998 }`, lang:'JS/CSS'},
    {tag:'02 · Magnetic Buttons',title:'Магнитные кнопки притягивают курсор',desc:'При наведении на кнопку — кнопка двигается к курсору. При уходе — возвращается на место через transition.',
     snippet:`document.querySelectorAll('.magnetic').forEach(btn => {\n  btn.addEventListener('mousemove', (e) => {\n    const rect = btn.getBoundingClientRect();\n    const cx = rect.left + rect.width / 2;\n    const cy = rect.top  + rect.height / 2;\n\n    const dx = e.clientX - cx;\n    const dy = e.clientY - cy;\n\n    // Кнопка притягивается на 40% расстояния до курсора\n    btn.style.transform = \`translate(\${dx*.4}px, \${dy*.4}px)\`;\n    btn.style.transition = 'transform .1s ease';\n  });\n\n  btn.addEventListener('mouseleave', () => {\n    // Плавно возвращаемся\n    btn.style.transform = '';\n    btn.style.transition = 'transform .6s cubic-bezier(.16,1,.3,1)';\n  });\n});`, lang:'JS'},
  ],

  /* ── p18: 3D CARD TILT 650₽ ── */
  p18:[
    {tag:'01 · CSS Perspective',title:'CSS 3D perspective — как настроить',desc:'perspective на родителе определяет "камеру". Чем меньше значение — тем сильнее 3D эффект. transform-style:preserve-3d передаёт 3D дочерним элементам.',
     snippet:`.card-wrapper {\n  perspective: 800px;         /* "глубина" сцены */\n  perspective-origin: center;\n}\n\n.card {\n  transform-style: preserve-3d; /* дочерние элементы в 3D пространстве */\n  transition: transform .15s ease;\n  will-change: transform;\n}\n\n/* Слои внутри карточки с разной глубиной */\n.card-bg     { transform: translateZ(0px);  }\n.card-image  { transform: translateZ(20px); }\n.card-title  { transform: translateZ(40px); }\n.card-badge  { transform: translateZ(60px); } /* выступает вперёд больше всех */`, lang:'CSS'},
    {tag:'02 · Mouse Tilt JS',title:'Наклон по мыши + specular highlight',desc:'Нормализуем позицию курсора внутри карточки от -1 до 1. rotateX/Y создают наклон. Radial gradient следует за курсором.',
     snippet:`document.querySelectorAll('.tilt-card').forEach(card => {\n  card.addEventListener('mousemove', (e) => {\n    const rect = card.getBoundingClientRect();\n    // Позиция внутри карточки от -1 до 1\n    const x = ((e.clientX - rect.left) / rect.width  - 0.5) * 2;\n    const y = ((e.clientY - rect.top)  / rect.height - 0.5) * 2;\n\n    const rotX = -y * 15; // вертикальный наклон (инвертируем)\n    const rotY =  x * 15; // горизонтальный наклон\n\n    card.style.transform =\n      \`rotateX(\${rotX}deg) rotateY(\${rotY}deg) scale(1.03)\`;\n\n    // Specular highlight — блик движется с курсором\n    const shine = card.querySelector('.shine');\n    if (shine) {\n      const sx = (x + 1) / 2 * 100; // в процентах\n      const sy = (y + 1) / 2 * 100;\n      shine.style.background =\n        \`radial-gradient(circle at \${sx}% \${sy}%, rgba(255,255,255,.15), transparent 60%)\`;\n    }\n  });\n\n  card.addEventListener('mouseleave', () => {\n    card.style.transform = '';\n  });\n});`, lang:'JS'},
  ],

  /* ── p15: MORPHING BLOB 800₽ ── */
  p15:[
    {tag:'01 · SVG Morphing',title:'SVG path morphing через JS — органическая форма',desc:'Меняем d-атрибут SVG path через JS. Каждая точка интерполируется между двумя формами. Бесшовный цикл через sin().',
     snippet:`const blob = document.getElementById('blob-path');\n\n// Определяем несколько форм (должны иметь одинаковое кол-во точек!)\nconst shapes = [\n  'M60,10 C90,0 100,40 90,60 C80,80 60,95 40,90 C20,85 0,70 5,50 C10,30 30,20 60,10',\n  'M55,5 C85,-5 110,30 100,55 C90,80 65,100 40,95 C15,90 -5,65 5,40 C15,15 25,15 55,5',\n  'M65,8 C95,5 105,45 92,65 C79,85 55,98 30,88 C5,78 -2,55 8,35 C18,15 35,11 65,8',\n];\n\nlet tick = 0;\nfunction animateBlob() {\n  tick += 0.005;\n  // Интерполируем между двумя формами\n  const shapeIdx = Math.floor(tick) % shapes.length;\n  const nextIdx  = (shapeIdx + 1) % shapes.length;\n  const t = tick - Math.floor(tick); // 0..1\n\n  // Простое переключение между формами (настоящий morphing требует flubber.js)\n  blob.setAttribute('d', t < 0.5 ? shapes[shapeIdx] : shapes[nextIdx]);\n  blob.style.transition = 'all 2s ease';\n\n  requestAnimationFrame(animateBlob);\n}\nanimateBlob();`, lang:'JS'},
  ],

  /* ── p19: TYPEWRITER HERO 600₽ ── */
  p19:[
    {tag:'01 · Typewriter Effect',title:'Посимвольный typewriter без библиотек',desc:'setTimeout рекурсивно добавляет символы. Пауза на конце + backspace + смена фразы.',
     snippet:`const phrases = [\n  'РАЗРАБОТЧИК',\n  'ДИЗАЙНЕР',\n  'ВИЗИОНЕР',\n];\n\nlet phraseIdx = 0, charIdx = 0, deleting = false;\nconst el = document.getElementById('typewriter');\n\nfunction type() {\n  const current = phrases[phraseIdx];\n\n  if (!deleting) {\n    el.textContent = current.slice(0, charIdx + 1);\n    charIdx++;\n    if (charIdx === current.length) {\n      deleting = true;\n      return setTimeout(type, 2000);\n    }\n    setTimeout(type, 80);\n  } else {\n    el.textContent = current.slice(0, charIdx - 1);\n    charIdx--;\n    if (charIdx === 0) {\n      deleting = false;\n      phraseIdx = (phraseIdx + 1) % phrases.length;\n    }\n    setTimeout(type, 40);\n  }\n}\ntype();\n\n/* CSS — мигающий курсор */\n#typewriter::after {\n  content: '|';\n  color: #7c4dff;\n  animation: blink 1s step-end infinite;\n}\n@keyframes blink { 0%,100%{opacity:1} 50%{opacity:0} }`, lang:'JS/CSS'},
    {tag:'02 · Hero Layout',title:'Hero секция с reveal-анимацией после typewriter',desc:'Контент появляется постепенно: сначала typewriter, потом подзаголовок и кнопки с задержкой.',
     snippet:`/* Элементы скрыты изначально */\n.hero-sub,\n.hero-buttons {\n  opacity: 0;\n  transform: translateY(24px);\n  transition: opacity .7s ease, transform .7s ease;\n}\n\n/* Запускаем reveal когда typewriter завершил первую фразу */\nfunction revealHero() {\n  const sub  = document.querySelector('.hero-sub');\n  const btns = document.querySelector('.hero-buttons');\n\n  setTimeout(() => {\n    sub.style.opacity  = '1';\n    sub.style.transform = 'translateY(0)';\n  }, 100);\n\n  setTimeout(() => {\n    btns.style.opacity  = '1';\n    btns.style.transform = 'translateY(0)';\n  }, 400);\n}\n\n// Вызываем revealHero() после первой завершённой фразы typewriter`, lang:'JS/CSS'},
  ],

  /* ── p1: SAAS DASHBOARD ── */
  p1:[
    {tag:'01 · Layout',title:'Sidebar + Main: CSS Grid двухколоночный макет',desc:'Самый простой способ сделать dashboard-макет — CSS Grid с фиксированной шириной сайдбара.',
     snippet:`body {\n  display: grid;\n  grid-template-columns: 220px 1fr; /* сайдбар фиксирован, main гибкий */\n  height: 100vh;\n  overflow: hidden; /* прокрутка только внутри main */\n}\n\n.sidebar {\n  background: #06060e;\n  border-right: 1px solid rgba(255,255,255,.06);\n  overflow-y: auto; /* свой скролл если много пунктов */\n  padding: 16px 0;\n}\n\n.main {\n  overflow-y: auto; /* скроллится независимо от сайдбара */\n  padding: 24px;\n}\n\n/* Навигационный пункт */\n.nav-item {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 10px 16px;\n  color: rgba(240,238,255,.45);\n  transition: all .2s;\n  cursor: pointer;\n}\n.nav-item.active,\n.nav-item:hover {\n  background: rgba(124,77,255,.1);\n  color: #f0eeff;\n  border-left: 2px solid #7c4dff;\n}`, lang:'CSS'},
    {tag:'02 · KPI Cards',title:'KPI карточки с hover-эффектом и иконками',desc:'Grid из карточек с числами, трендом и анимацией при наведении.',
     snippet:`/* Grid карточек */\n.kpi-grid {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 12px;\n  margin-bottom: 20px;\n}\n\n.kpi-card {\n  background: #0d0d1a;\n  border: 1px solid rgba(255,255,255,.06);\n  padding: 20px;\n  transition: border-color .3s, transform .2s;\n}\n.kpi-card:hover {\n  border-color: rgba(124,77,255,.35);\n  transform: translateY(-2px);\n}\n\n.kpi-label {\n  font-size: 10px;\n  letter-spacing: .15em;\n  color: rgba(240,238,255,.4);\n  text-transform: uppercase;\n  margin-bottom: 8px;\n}\n\n.kpi-value {\n  font-size: 26px;\n  font-weight: 900;\n  background: linear-gradient(110deg, #7c4dff, #00e5ff);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n}\n\n.kpi-trend {\n  font-size: 11px;\n  color: #00e5a0; /* зелёный = рост */\n  margin-top: 4px;\n}\n.kpi-trend.down { color: #ff3c6e; }`, lang:'CSS'},
    {tag:'03 · Chart.js',title:'Подключение Chart.js и базовая конфигурация',desc:'Минимальный bar chart через CDN Chart.js. Тёмная тема, gradient заливка, анимация.',
     snippet:`<!-- CDN — добавь в <head> -->\n<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"><\/script>\n\n<!-- Canvas в HTML -->\n<canvas id="salesChart" height="80"></canvas>\n\n<script>\nconst ctx = document.getElementById('salesChart').getContext('2d');\n\n// Gradient заливка\nconst gradient = ctx.createLinearGradient(0, 0, 0, 200);\ngradient.addColorStop(0, 'rgba(124,77,255,.5)');\ngradient.addColorStop(1, 'rgba(124,77,255,.0)');\n\nnew Chart(ctx, {\n  type: 'bar',\n  data: {\n    labels: ['Янв','Фев','Мар','Апр','Май','Июн'],\n    datasets: [{\n      label: 'Продажи',\n      data: [120, 190, 140, 230, 180, 260],\n      backgroundColor: gradient,\n      borderColor: '#7c4dff',\n      borderWidth: 2,\n      borderRadius: 4,\n    }]\n  },\n  options: {\n    responsive: true,\n    plugins: { legend: { display: false } },\n    scales: {\n      x: { grid: { color: 'rgba(255,255,255,.04)' }, ticks: { color: 'rgba(240,238,255,.4)' } },\n      y: { grid: { color: 'rgba(255,255,255,.04)' }, ticks: { color: 'rgba(240,238,255,.4)' } }\n    }\n  }\n});\n<\/script>`, lang:'JS'},
    {tag:'04 · Table',title:'Таблица с сортировкой — нативный JS',desc:'Кликаем по заголовку — сортируем строки. Без библиотек, чистый DOM manipulation.',
     snippet:`// HTML: data-sort на th задаёт поле сортировки\n// <th data-sort="name">ИМЯ</th>\n\nlet sortDir = {};\n\ndocument.querySelectorAll('th[data-sort]').forEach(th => {\n  th.style.cursor = 'pointer';\n  th.addEventListener('click', () => {\n    const field = th.dataset.sort;\n    sortDir[field] = !sortDir[field]; // toggle asc/desc\n    sortTable(field, sortDir[field]);\n  });\n});\n\nfunction sortTable(field, asc) {\n  const tbody = document.querySelector('tbody');\n  const rows  = [...tbody.querySelectorAll('tr')];\n\n  rows.sort((a, b) => {\n    const av = a.dataset[field] || a.cells[0].textContent;\n    const bv = b.dataset[field] || b.cells[0].textContent;\n    // Числа vs строки\n    const n  = Number(av) - Number(bv);\n    const cmp = isNaN(n) ? av.localeCompare(bv) : n;\n    return asc ? cmp : -cmp;\n  });\n\n  rows.forEach(r => tbody.appendChild(r)); // перемещаем DOM узлы\n}`, lang:'JS'},
  ],

  /* ── p3: PARALLAX SCROLL ── */
  p3:[
    {tag:'01 · GSAP CDN',title:'Подключение GSAP + ScrollTrigger через CDN',desc:'GSAP — самая мощная JS-библиотека для анимаций. ScrollTrigger — плагин для scroll-driven анимаций.',
     snippet:`<!-- В <head> -->\n<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"><\/script>\n<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"><\/script>\n\n<script>\n// Регистрируем плагин\ngsap.registerPlugin(ScrollTrigger);\n\n// Базовая анимация при появлении элемента\ngsap.from('.hero-title', {\n  scrollTrigger: {\n    trigger: '.hero-title',\n    start: 'top 80%', // когда верх элемента достигает 80% viewport\n    end: 'top 30%',\n    scrub: true,       // привязывает к скроллу 1:1\n  },\n  y: 60,\n  opacity: 0,\n  duration: 1\n});\n<\/script>`, lang:'JS'},
    {tag:'02 · Pin секции',title:'ScrollTrigger pin — фиксируем секцию на время прокрутки',desc:'Pin прибивает элемент к экрану пока не кончится его timeline. Это создаёт эффект sticky story.',
     snippet:`gsap.timeline({\n  scrollTrigger: {\n    trigger: '.pin-section',\n    start: 'top top',\n    end: '+=300%',  // крутим 3 высоты экрана пока секция зафиксирована\n    pin: true,      // зафиксировать\n    scrub: 1,       // задержка 1с для плавности\n  }\n})\n.from('.text-line-1', { opacity: 0, y: 40 })\n.from('.text-line-2', { opacity: 0, y: 40 }, '-=0.5')\n.from('.text-line-3', { opacity: 0, y: 40 }, '-=0.5')\n.to('.text-line-1',   { opacity: 0, y: -40 }, '+=0.5');\n\n// stagger — анимируем несколько элементов с задержкой\ngsap.from('.feature-card', {\n  scrollTrigger: { trigger: '.features', start: 'top 70%' },\n  opacity: 0,\n  y: 50,\n  stagger: 0.15, // каждая карточка запускается на 0.15с позже\n  duration: 0.8\n});`, lang:'JS'},
    {tag:'03 · Параллакс слои',title:'Параллакс разных слоёв — глубина пространства',desc:'Разные элементы движутся с разной скоростью при скролле. Создаёт иллюзию глубины.',
     snippet:`// Разные скорости параллакса\nconst layers = [\n  { el: '.bg-layer',   speed: 0.1 }, // фон движется медленно\n  { el: '.mid-layer',  speed: 0.4 }, // средний план\n  { el: '.fg-layer',   speed: 0.8 }, // передний план быстро\n];\n\nwindow.addEventListener('scroll', () => {\n  const scrollY = window.pageYOffset;\n\n  layers.forEach(({ el, speed }) => {\n    document.querySelectorAll(el).forEach(elem => {\n      elem.style.transform = \`translateY(\${scrollY * speed}px)\`;\n    });\n  });\n}, { passive: true }); // passive: true = не блокируем scroll`, lang:'JS'},
  ],

  /* ── p6: MULTI-STEP FORM ── */
  p6:[
    {tag:'01 · Структура',title:'4-шаговая форма: архитектура без библиотек',desc:'Каждый шаг — отдельный div. Показываем только активный через CSS display.',
     snippet:`/* HTML структура */\n<div class="form-wrapper">\n  <div class="step" id="step-1">...</div>\n  <div class="step" id="step-2">...</div>\n  <div class="step" id="step-3">...</div>\n  <div class="step success" id="step-4">✅ Успешно!</div>\n</div>\n\n/* CSS — показываем только активный шаг */\n.step { display: none; }\n.step.active { display: block; animation: fadeUp .4s ease; }\n\n@keyframes fadeUp {\n  from { opacity: 0; transform: translateY(16px); }\n  to   { opacity: 1; transform: translateY(0); }\n}\n\n/* JS — переключение шагов */\nlet currentStep = 1;\n\nfunction goToStep(n) {\n  if (!validateStep(currentStep)) return; // проверяем перед переходом\n  document.getElementById('step-' + currentStep).classList.remove('active');\n  currentStep = n;\n  document.getElementById('step-' + currentStep).classList.add('active');\n  updateProgress();\n}`, lang:'HTML/CSS/JS'},
    {tag:'02 · Progress Bar',title:'Анимированный прогресс-бар',desc:'Тонкая полоска вверху показывает прогресс. Меняем width через CSS transition.',
     snippet:`/* HTML */\n<div class="progress-bar">\n  <div class="progress-fill" id="progressFill"></div>\n</div>\n\n/* CSS */\n.progress-bar {\n  height: 3px;\n  background: rgba(255,255,255,.06);\n  margin-bottom: 28px;\n}\n.progress-fill {\n  height: 100%;\n  background: linear-gradient(90deg, #7c4dff, #ff3cac);\n  transition: width .5s cubic-bezier(.4, 0, .2, 1);\n  width: 25%; /* начальный прогресс */\n}\n\n/* JS */\nconst TOTAL_STEPS = 4;\nfunction updateProgress() {\n  const pct = (currentStep / TOTAL_STEPS) * 100;\n  document.getElementById('progressFill').style.width = pct + '%';\n}`, lang:'CSS/JS'},
    {tag:'03 · Валидация',title:'Inline-валидация полей без библиотек',desc:'Проверяем поля перед переходом на следующий шаг. Показываем ошибку прямо под полем.',
     snippet:`function validateStep(stepNum) {\n  const step = document.getElementById('step-' + stepNum);\n  const inputs = step.querySelectorAll('input[required]');\n  let valid = true;\n\n  inputs.forEach(input => {\n    // Удаляем старую ошибку\n    const prev = input.nextElementSibling;\n    if (prev?.classList.contains('field-error')) prev.remove();\n\n    if (!input.value.trim()) {\n      // Добавляем сообщение об ошибке\n      const err = document.createElement('div');\n      err.className = 'field-error';\n      err.textContent = 'Заполните это поле';\n      input.after(err);\n      input.style.borderColor = '#ff3c6e';\n      valid = false;\n    } else {\n      input.style.borderColor = '';\n    }\n  });\n\n  return valid;\n}\n\n/* CSS */\n.field-error {\n  font-size: 11px;\n  color: #ff3c6e;\n  margin-top: 4px;\n  padding-left: 4px;\n}`, lang:'JS/CSS'},
  ],

  /* ── p7: ADMIN PANEL UI ── */
  p7:[
    {tag:'01 · Collapsible Sidebar',title:'Схлопываемый сайдбар с анимацией',desc:'Сайдбар сужается до иконок. transition: width даёт плавность. JS просто добавляет класс.',
     snippet:`/* CSS */\n.sidebar {\n  width: 220px;\n  transition: width .3s cubic-bezier(.4,0,.2,1);\n  overflow: hidden; /* скрываем текст при сужении */\n  white-space: nowrap;\n}\n.sidebar.collapsed {\n  width: 56px; /* только иконки */\n}\n\n/* Текст скрывается при схлопывании */\n.nav-label {\n  opacity: 1;\n  transition: opacity .2s;\n}\n.sidebar.collapsed .nav-label {\n  opacity: 0;\n  pointer-events: none;\n}\n\n/* JS — toggle */\ndocument.getElementById('toggle-btn').addEventListener('click', () => {\n  document.querySelector('.sidebar').classList.toggle('collapsed');\n  // Если нужно — сохраняем состояние\n  const isCollapsed = document.querySelector('.sidebar').classList.contains('collapsed');\n  localStorage.setItem('sidebar-collapsed', isCollapsed);\n});\n\n// Восстанавливаем\nif (localStorage.getItem('sidebar-collapsed') === 'true') {\n  document.querySelector('.sidebar')?.classList.add('collapsed');\n}`, lang:'CSS/JS'},
    {tag:'02 · Notification Badge',title:'Красный badge-счётчик на иконке уведомлений',desc:'position:absolute на дочернем элементе. Анимация появления через scale.',
     snippet:`.nav-item {\n  position: relative; /* нужно для absolute дочернего */\n}\n\n.badge {\n  position: absolute;\n  top: -4px;\n  right: -4px;\n  min-width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  background: #ff3c6e;\n  color: #fff;\n  font-size: 10px;\n  font-weight: 700;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 4px;\n  animation: badgePop .3s cubic-bezier(.34,1.56,.64,1);\n}\n\n@keyframes badgePop {\n  from { transform: scale(0); }\n  to   { transform: scale(1); }\n}\n\n// JS — обновление\nfunction updateBadge(count) {\n  const badge = document.querySelector('.notification-badge');\n  if (count > 0) {\n    badge.textContent = count > 99 ? '99+' : count;\n    badge.style.display = 'flex';\n  } else {\n    badge.style.display = 'none'; // скрываем если 0\n  }\n}`, lang:'CSS/JS'},
    {tag:'03 · Modal System',title:'Универсальная модальная система',desc:'Один оверлей + несколько модалок. Открываем по id, закрываем по крестику или клику на overlay.',
     snippet:`// Открытие\nfunction openModal(id) {\n  document.getElementById(id).classList.add('open');\n  document.getElementById('overlay').classList.add('visible');\n  document.body.style.overflow = 'hidden'; // блокируем скролл фона\n}\n\n// Закрытие\nfunction closeModal(id) {\n  document.getElementById(id).classList.remove('open');\n  document.getElementById('overlay').classList.remove('visible');\n  document.body.style.overflow = '';\n}\n\n// Клик на оверлей = закрыть всё\ndocument.getElementById('overlay').addEventListener('click', () => {\n  document.querySelectorAll('.modal.open').forEach(m => {\n    m.classList.remove('open');\n  });\n  document.getElementById('overlay').classList.remove('visible');\n  document.body.style.overflow = '';\n});\n\n/* CSS */\n.overlay {\n  position: fixed; inset: 0;\n  background: rgba(2,2,10,.7);\n  backdrop-filter: blur(8px);\n  opacity: 0; pointer-events: none;\n  transition: opacity .3s;\n  z-index: 999;\n}\n.overlay.visible { opacity: 1; pointer-events: all; }\n\n.modal {\n  position: fixed;\n  top: 50%; left: 50%;\n  transform: translate(-50%, -46%) scale(.96);\n  opacity: 0; pointer-events: none;\n  transition: all .3s cubic-bezier(.34,1.26,.64,1);\n  z-index: 1000;\n}\n.modal.open {\n  transform: translate(-50%, -50%) scale(1);\n  opacity: 1; pointer-events: all;\n}`, lang:'JS/CSS'},
  ],

  /* ── p9: MUSIC PLAYER ── */
  p9:[
    {tag:'01 · Web Audio API',title:'Web Audio API: visualizer из частот',desc:'AudioContext → analyser → рисуем частоты в Canvas. Без библиотек — нативный браузер.',
     snippet:`const audioCtx = new (window.AudioContext || window.webkitAudioContext)();\nconst analyser  = audioCtx.createAnalyser();\nanalyser.fftSize = 128; // 64 бины\n\n// Подключаем аудио элемент\nconst audio  = document.getElementById('audio');\nconst source = audioCtx.createMediaElementSource(audio);\nsource.connect(analyser);\nanalyser.connect(audioCtx.destination);\n\nconst dataArray = new Uint8Array(analyser.frequencyBinCount);\n\nfunction drawVisualizer() {\n  analyser.getByteFrequencyData(dataArray); // заполняем массив [0-255]\n\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n  dataArray.forEach((value, i) => {\n    const barH = (value / 255) * canvas.height;\n    const x    = i * (canvas.width / dataArray.length);\n    const grad = ctx.createLinearGradient(0, canvas.height, 0, canvas.height - barH);\n    grad.addColorStop(0, '#7c4dff');\n    grad.addColorStop(1, '#00e5ff');\n    ctx.fillStyle = grad;\n    ctx.fillRect(x, canvas.height - barH, 4, barH);\n  });\n\n  if (!audio.paused) requestAnimationFrame(drawVisualizer);\n}\n\naudio.addEventListener('play', () => {\n  audioCtx.resume(); // Safari требует resume\n  drawVisualizer();\n});`, lang:'JS'},
    {tag:'02 · Progress Drag',title:'Drag-прогресс: перетаскиваем позицию трека',desc:'mousedown → mousemove → mouseup. Вычисляем процент по позиции клика относительно полоски.',
     snippet:`const progressBar = document.getElementById('progress');\nconst fill        = document.getElementById('progress-fill');\nlet isDragging    = false;\n\nfunction setPosition(e) {\n  const rect  = progressBar.getBoundingClientRect();\n  const x     = Math.max(0, Math.min(e.clientX - rect.left, rect.width));\n  const pct   = x / rect.width;\n  audio.currentTime = pct * audio.duration;\n  fill.style.width  = (pct * 100) + '%';\n}\n\nprogressBar.addEventListener('mousedown', e => { isDragging = true; setPosition(e); });\ndocument.addEventListener('mousemove',    e => { if (isDragging) setPosition(e); });\ndocument.addEventListener('mouseup',      ()  => { isDragging = false; });\n\n// Обновляем прогресс при воспроизведении\naudio.addEventListener('timeupdate', () => {\n  if (!isDragging) {\n    const pct = (audio.currentTime / audio.duration) * 100;\n    fill.style.width = pct + '%';\n    // Обновляем таймер\n    document.getElementById('current-time').textContent = formatTime(audio.currentTime);\n  }\n});\n\nfunction formatTime(s) {\n  const m = Math.floor(s / 60);\n  return m + ':' + String(Math.floor(s % 60)).padStart(2, '0');\n}`, lang:'JS'},
  ],

  /* ── p10: EVENT LANDING ── */
  p10:[
    {tag:'01 · Countdown Timer',title:'Countdown таймер до события — нативный JS',desc:'Вычисляем разницу между сейчас и датой события. setInterval обновляет каждую секунду.',
     snippet:`const eventDate = new Date('2026-09-15T10:00:00'); // дата события\n\nfunction updateCountdown() {\n  const now  = new Date();\n  const diff = eventDate - now; // миллисекунды\n\n  if (diff <= 0) {\n    document.getElementById('countdown').textContent = 'СОБЫТИЕ НАЧАЛОСЬ!';\n    clearInterval(timer);\n    return;\n  }\n\n  const days    = Math.floor(diff / (1000 * 60 * 60 * 24));\n  const hours   = Math.floor(diff / (1000 * 60 * 60) % 24);\n  const minutes = Math.floor(diff / (1000 * 60) % 60);\n  const seconds = Math.floor(diff / 1000 % 60);\n\n  document.getElementById('cnt-days').textContent    = String(days).padStart(2, '0');\n  document.getElementById('cnt-hours').textContent   = String(hours).padStart(2, '0');\n  document.getElementById('cnt-minutes').textContent = String(minutes).padStart(2, '0');\n  document.getElementById('cnt-seconds').textContent = String(seconds).padStart(2, '0');\n}\n\nupdateCountdown();\nconst timer = setInterval(updateCountdown, 1000);`, lang:'JS'},
    {tag:'02 · SVG Hall Map',title:'Интерактивная схема зала на SVG',desc:'SVG rect элементы = места. JS добавляет классы selected/unavailable. CSS стилизует состояния.',
     snippet:`<!-- SVG схема зала -->\n<svg id="hall" viewBox="0 0 400 300">\n  <!-- Сцена -->\n  <rect x="50" y="20" width="300" height="40" fill="#7c4dff" opacity=".3" rx="4"/>\n  <text x="200" y="46" text-anchor="middle" fill="white" font-size="12">СЦЕНА</text>\n\n  <!-- Ряды мест -->\n  <!-- Генерируем через JS -->\n</svg>\n\n<script>\nconst svg  = document.getElementById('hall');\nconst COLS = 10, ROWS = 6;\nconst unavailable = new Set([3, 7, 15, 22]); // занятые места\nconst selected    = new Set();\n\nfor (let r = 0; r < ROWS; r++) {\n  for (let c = 0; c < COLS; c++) {\n    const seatNum = r * COLS + c;\n    const rect    = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n    rect.setAttribute('x',  50 + c * 32);\n    rect.setAttribute('y',  80 + r * 32);\n    rect.setAttribute('width',  26);\n    rect.setAttribute('height', 26);\n    rect.setAttribute('rx', 3);\n    rect.classList.add('seat');\n    if (unavailable.has(seatNum)) rect.classList.add('unavailable');\n\n    rect.addEventListener('click', () => {\n      if (rect.classList.contains('unavailable')) return;\n      rect.classList.toggle('selected');\n      selected.has(seatNum) ? selected.delete(seatNum) : selected.add(seatNum);\n      updateTotal();\n    });\n    svg.appendChild(rect);\n  }\n}\n<\/script>\n\n<style>\n.seat          { fill: rgba(255,255,255,.12); cursor: pointer; transition: fill .2s; }\n.seat:hover    { fill: rgba(124,77,255,.4); }\n.seat.selected { fill: #7c4dff; }\n.seat.unavailable { fill: rgba(255,60,110,.3); cursor: not-allowed; }\n</style>`, lang:'HTML/JS/CSS'},
  ],

  /* ── p11: 3D WIREFRAME ── */
  p11:[
    {tag:'01 · Three.js Wireframe',title:'Wireframe объекты на Three.js — три строки',desc:'MeshBasicMaterial с wireframe:true превращает любую геометрию в wireframe без шейдеров.',
     snippet:`import * as THREE from 'three';\n\nconst scene    = new THREE.Scene();\nconst camera   = new THREE.PerspectiveCamera(60, W/H, 0.1, 100);\nconst renderer = new THREE.WebGLRenderer({ antialias:true, alpha:true });\n\ncamera.position.set(0, 0, 3);\n\n// Wireframe — просто параметр материала\nconst geometry = new THREE.TorusKnotGeometry(0.8, 0.25, 128, 16);\nconst material = new THREE.MeshBasicMaterial({\n  color: 0x7c4dff,\n  wireframe: true,  // ← вот и весь секрет\n});\nconst mesh = new THREE.Mesh(geometry, material);\nscene.add(mesh);\n\n// Разные геометрии — wireframe на всех одинаково\nconst shapes = [\n  new THREE.TorusKnotGeometry(0.8, 0.25, 128, 16),\n  new THREE.IcosahedronGeometry(1, 1),\n  new THREE.OctahedronGeometry(1, 0),\n];\n\n// Анимация вращения\nfunction animate() {\n  mesh.rotation.x += 0.007;\n  mesh.rotation.y += 0.011;\n  renderer.render(scene, camera);\n  requestAnimationFrame(animate);\n}`, lang:'JS'},
    {tag:'02 · OrbitControls',title:'OrbitControls — мышь вращает камеру',desc:'Стандартный плагин Three.js. Загружаем отдельно. Drag = вращение, scroll = zoom.',
     snippet:`// OrbitControls через CDN (r128)\nimport { OrbitControls } from\n  'https://cdn.jsdelivr.net/npm/three@0.128/examples/jsm/controls/OrbitControls.js';\n\nconst controls = new OrbitControls(camera, renderer.domElement);\ncontrols.enableDamping    = true;  // инерция\ncontrols.dampingFactor    = 0.08;\ncontrols.enablePan        = false; // отключаем pan (перетаскивание)\ncontrols.minDistance      = 1.5;   // минимальный zoom\ncontrols.maxDistance      = 6;\ncontrols.autoRotate       = true;  // авто-вращение пока мышь не двигается\ncontrols.autoRotateSpeed  = 0.5;\n\n// В цикле анимации ОБЯЗАТЕЛЬНО вызываем update\nfunction animate() {\n  controls.update(); // ← без этого damping не работает\n  renderer.render(scene, camera);\n  requestAnimationFrame(animate);\n}`, lang:'JS'},
  ],

  /* ── p12: GLASSMORPHISM UI ── */
  p12:[
    {tag:'01 · Glass Effect',title:'Glassmorphism: 4 строки CSS',desc:'backdrop-filter + rgba фон + тонкая рамка. Три кита стеклянного эффекта.',
     snippet:`.glass-card {\n  background: rgba(255, 255, 255, 0.08);   /* полупрозрачный */\n  backdrop-filter: blur(20px) saturate(150%);\n  -webkit-backdrop-filter: blur(20px) saturate(150%); /* Safari */\n  border: 1px solid rgba(255, 255, 255, 0.12);\n  border-radius: 16px;\n  box-shadow:\n    0 8px 32px rgba(0, 0, 0, 0.3),\n    inset 0 1px 0 rgba(255, 255, 255, 0.15); /* верхний блик */\n}\n\n/* Важно: за карточкой должен быть цветной фон или изображение */\n/* backdrop-filter размывает то, что ЗА элементом */\n\n/* Gradient border через ::before */\n.glass-card::before {\n  content: '';\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  padding: 1px; /* толщина рамки */\n  background: linear-gradient(\n    135deg,\n    rgba(255,255,255,.25) 0%,\n    rgba(255,255,255,.05) 100%\n  );\n  /* Показываем только рамку, фон прозрачный */\n  -webkit-mask:\n    linear-gradient(#fff 0 0) content-box,\n    linear-gradient(#fff 0 0);\n  -webkit-mask-composite: xor;\n  mask-composite: exclude;\n  pointer-events: none;\n}`, lang:'CSS'},
    {tag:'02 · Neon Glow',title:'Neon glow: box-shadow и text-shadow',desc:'Многослойный box-shadow создаёт эффект неонового свечения. Слои отличаются по blur и прозрачности.',
     snippet:`/* Neon кнопка */\n.neon-btn {\n  color: #7c4dff;\n  border: 1px solid #7c4dff;\n  box-shadow:\n    0 0 5px rgba(124,77,255,.4),     /* ближний */\n    0 0 15px rgba(124,77,255,.25),   /* средний */\n    0 0 40px rgba(124,77,255,.1),    /* дальний */\n    inset 0 0 10px rgba(124,77,255,.08); /* внутренний */\n  transition: box-shadow .3s;\n}\n.neon-btn:hover {\n  box-shadow:\n    0 0 10px rgba(124,77,255,.7),\n    0 0 30px rgba(124,77,255,.4),\n    0 0 60px rgba(124,77,255,.2),\n    inset 0 0 20px rgba(124,77,255,.15);\n}\n\n/* Neon текст */\n.neon-text {\n  text-shadow:\n    0 0 7px  rgba(0,229,255,1),\n    0 0 21px rgba(0,229,255,.8),\n    0 0 42px rgba(0,229,255,.5);\n}`, lang:'CSS'},
  ],

  /* ── p13: RETRO SHOP ── */
  p13:[
    {tag:'01 · CRT Scanlines',title:'CRT scanlines эффект через CSS',desc:'::before псевдоэлемент с repeating-linear-gradient создаёт горизонтальные полосы. pointer-events:none не мешает кликам.',
     snippet:`/* Накладываем scanlines поверх всего контента */\nbody::before {\n  content: '';\n  position: fixed;\n  inset: 0;\n  background: repeating-linear-gradient(\n    transparent 0px,\n    transparent 2px,\n    rgba(0, 0, 0, 0.08) 2px,\n    rgba(0, 0, 0, 0.08) 4px  /* высота одной полосы = 4px */\n  );\n  pointer-events: none; /* клики проходят насквозь */\n  z-index: 1000;\n}\n\n/* Vaporwave цвета */\n:root {\n  --neon-pink:  #ff2d78;\n  --neon-cyan:  #00e5ff;\n  --neon-purple:#b200ff;\n  --dark-bg:    #0a0015;\n}\n\n/* Пиксельный шрифт через Google Fonts */\n/* @import url('...Press+Start+2P...') */\n.retro-text {\n  font-family: 'Press Start 2P', monospace;\n  letter-spacing: .08em;\n  image-rendering: pixelated;\n}`, lang:'CSS'},
    {tag:'02 · Slide-in Cart',title:'Корзина которая выезжает справа',desc:'position:fixed + transform:translateX(100%) скрывает панель за правым краем. .open переключает на translateX(0).',
     snippet:`/* CSS */\n.cart-panel {\n  position: fixed;\n  top: 0; right: 0; bottom: 0;\n  width: 360px;\n  background: #0f0025;\n  border-left: 2px solid var(--neon-pink);\n  transform: translateX(100%); /* скрыта справа */\n  transition: transform .35s cubic-bezier(.32,.72,0,1);\n  z-index: 500;\n  overflow-y: auto;\n}\n.cart-panel.open {\n  transform: translateX(0); /* выезжает */\n}\n\n/* Оверлей при открытой корзине */\n.cart-overlay {\n  position: fixed; inset: 0;\n  background: rgba(10,0,21,.5);\n  backdrop-filter: blur(4px);\n  opacity: 0; pointer-events: none;\n  transition: opacity .3s;\n  z-index: 499;\n}\n.cart-overlay.visible { opacity: 1; pointer-events: all; }\n\n/* JS */\nfunction openCart() {\n  document.querySelector('.cart-panel').classList.add('open');\n  document.querySelector('.cart-overlay').classList.add('visible');\n  document.body.style.overflow = 'hidden';\n}\nfunction closeCart() {\n  document.querySelector('.cart-panel').classList.remove('open');\n  document.querySelector('.cart-overlay').classList.remove('visible');\n  document.body.style.overflow = '';\n}`, lang:'CSS/JS'},
  ],

  /* ── p14: SCROLL STORY ── */
  p14:[
    {tag:'01 · CSS Scroll Snap',title:'scroll-snap: каждая секция = один экран',desc:'scroll-snap-type на контейнере + scroll-snap-align на детях. Нативно в CSS, без JS.',
     snippet:`/* Контейнер */\n.story-container {\n  height: 100vh;\n  overflow-y: scroll;\n  scroll-snap-type: y mandatory; /* жёсткая привязка */\n\n  /* Плавный скролл между секциями */\n  scroll-behavior: smooth;\n}\n\n/* Каждая секция */\n.story-section {\n  height: 100vh;\n  scroll-snap-align: start; /* привязка к верху секции */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  /* Для более мягкой привязки */\n  /* scroll-snap-align: center; */\n}\n\n/* Клавиатурная навигация */\ndocument.addEventListener('keydown', e => {\n  const container = document.querySelector('.story-container');\n  const scrollStep = window.innerHeight;\n  if (e.key === 'ArrowDown') container.scrollBy({ top: scrollStep, behavior: 'smooth' });\n  if (e.key === 'ArrowUp')   container.scrollBy({ top: -scrollStep, behavior: 'smooth' });\n});`, lang:'CSS/JS'},
    {tag:'02 · Section Counter',title:'Счётчик текущей секции через IntersectionObserver',desc:'Наблюдатель отслеживает какая секция видна. Обновляем "1 / 5" при смене видимости.',
     snippet:`const sections = document.querySelectorAll('.story-section');\nconst counter  = document.getElementById('section-counter');\nconst total    = sections.length;\n\nconst observer = new IntersectionObserver((entries) => {\n  entries.forEach(entry => {\n    if (!entry.isIntersecting) return;\n\n    // Индекс текущей секции\n    const idx = [...sections].indexOf(entry.target) + 1;\n    counter.textContent = idx + ' / ' + total;\n\n    // Анимируем элементы внутри секции\n    entry.target.querySelectorAll('.reveal').forEach((el, i) => {\n      setTimeout(() => {\n        el.style.opacity    = '1';\n        el.style.transform  = 'translateY(0)';\n      }, i * 150);\n    });\n  });\n}, {\n  threshold: 0.6, // секция считается активной при 60% видимости\n  root: document.querySelector('.story-container'),\n});\n\nsections.forEach(s => observer.observe(s));`, lang:'JS'},
  ],

  /* ── p16: INFINITE MARQUEE ── */
  p16:[
    {tag:'01 · CSS Marquee',title:'Бесконечная строка только на CSS',desc:'cloneNode дублирует контент. CSS animation с translateX создаёт бесконечный скролл.',
     snippet:`/* HTML */\n<div class="marquee-track" id="track">\n  <div class="marquee-content" id="content">\n    <span>ITEM ONE</span>\n    <span>ITEM TWO</span>\n    <span>ITEM THREE</span>\n  </div>\n</div>\n\n/* JS — дублируем содержимое */\nconst content = document.getElementById('content');\nconst clone   = content.cloneNode(true);\ndocument.getElementById('track').appendChild(clone);\n\n/* CSS */\n.marquee-track {\n  overflow: hidden;\n  display: flex;\n}\n\n.marquee-content {\n  display: flex;\n  gap: 48px;\n  animation: marquee 20s linear infinite;\n  flex-shrink: 0; /* не сжимаем */\n}\n\n@keyframes marquee {\n  from { transform: translateX(0); }\n  to   { transform: translateX(-50%); } /* -50% = ровно один контент */\n}\n\n/* Hover пауза */\n.marquee-track:hover .marquee-content {\n  animation-play-state: paused;\n}`, lang:'HTML/CSS/JS'},
    {tag:'02 · Multi-row',title:'Несколько строк с разными скоростями и направлениями',desc:'Каждая строка — отдельная track с разной длительностью и animation-direction.',
     snippet:`/* Строки бегут в разные стороны с разными скоростями */\n.marquee-row-1 .marquee-content {\n  animation-duration: 20s;\n  animation-direction: normal; /* слева направо */\n}\n\n.marquee-row-2 .marquee-content {\n  animation-duration: 15s;\n  animation-direction: reverse; /* справа налево */\n}\n\n.marquee-row-3 .marquee-content {\n  animation-duration: 25s;\n  animation-direction: normal;\n  animation-delay: -5s; /* сдвигаем чтобы не все начинали с одного места */\n}\n\n/* CSS-переменные для удобной настройки */\n.marquee-content {\n  animation: marquee var(--speed, 20s) linear infinite;\n  gap: var(--gap, 32px);\n}\n\n/* Применение */\n<div class="marquee-content" style="--speed:12s; --gap:48px">...</div>`, lang:'CSS'},
  ],

  /* ── p17: CURSOR EFFECTS ── */
  p17:[
    {tag:'01 · Magnetic Button',title:'Магнитная кнопка: cursor притягивается к центру',desc:'На mousemove вычисляем отклонение cursor от центра кнопки. Двигаем кнопку и cursor через transform.',
     snippet:`document.querySelectorAll('.magnetic').forEach(btn => {\n  btn.addEventListener('mousemove', (e) => {\n    const rect = btn.getBoundingClientRect();\n\n    // Позиция курсора относительно центра кнопки\n    const x = e.clientX - rect.left - rect.width  / 2;\n    const y = e.clientY - rect.top  - rect.height / 2;\n\n    // Сила магнетизма (0.4 = умеренно)\n    btn.style.transform = \`translate(\${x * 0.4}px, \${y * 0.4}px)\`;\n  });\n\n  btn.addEventListener('mouseleave', () => {\n    // Плавно возвращаем на место\n    btn.style.transform = '';\n    btn.style.transition = 'transform .5s cubic-bezier(.25,.46,.45,.94)';\n    setTimeout(() => { btn.style.transition = ''; }, 500);\n  });\n});`, lang:'JS'},
    {tag:'02 · Spotlight Cursor',title:'Spotlight: cursor освещает фон',desc:'radial-gradient на фоне следует за курсором. Создаёт эффект фонарика в темноте.',
     snippet:`document.addEventListener('mousemove', (e) => {\n  const x = e.clientX;\n  const y = e.clientY;\n\n  document.body.style.background = \`\n    radial-gradient(\n      600px circle at \${x}px \${y}px,\n      rgba(124, 77, 255, 0.12),\n      transparent 40%\n    ),\n    #02020a\n  \`;\n});\n\n/* Более производительный вариант через CSS custom properties */\ndocument.addEventListener('mousemove', (e) => {\n  document.documentElement.style.setProperty('--mouse-x', e.clientX + 'px');\n  document.documentElement.style.setProperty('--mouse-y', e.clientY + 'px');\n});\n\n/* CSS */\nbody::before {\n  content: '';\n  position: fixed; inset: 0;\n  background: radial-gradient(\n    500px circle at var(--mouse-x, 50%) var(--mouse-y, 50%),\n    rgba(124,77,255,.1),\n    transparent 40%\n  );\n  pointer-events: none;\n  z-index: 1;\n}`, lang:'JS/CSS'},
  ],

  /* ── p20: VANTA BACKGROUNDS ── */
  p20:[
    {tag:'01 · Vanta.js Setup',title:'Vanta.js — 3D фоны без написания Three.js',desc:'Vanta.js — обёртка над Three.js. Подключаешь CDN и вызываешь одну функцию.',
     snippet:`<!-- CDN: Three.js сначала, потом Vanta -->\n<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"><\/script>\n<script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.birds.min.js"><\/script>\n\n<script>\n// Инициализация\nconst vantaEffect = VANTA.BIRDS({\n  el: '#bg-canvas', // элемент куда рендерим\n  mouseControls: true,\n  touchControls: true,\n  gyroControls: false,\n  minHeight: 200,\n  minWidth: 200,\n  scale: 1.0,\n  scaleMobile: 1.0,\n  // Настройки Birds\n  backgroundColor: 0x02020a,\n  color1: 0x7c4dff,\n  color2: 0xff3cac,\n  birdSize: 1.5,\n  wingSpan: 25,\n  speedLimit: 5,\n  quantity: 3,\n});\n\n// Очищаем при уничтожении страницы\nwindow.addEventListener('beforeunload', () => {\n  if (vantaEffect) vantaEffect.destroy();\n});\n<\/script>`, lang:'JS'},
    {tag:'02 · 5 Эффектов',title:'Все 5 эффектов Vanta — параметры и настройки',desc:'Каждый эффект подключается отдельным скриптом. Параметры разные — самые важные описаны здесь.',
     snippet:`/* ── WAVES ── */\nVANTA.WAVES({ el:'#bg', color:0x7c4dff, shininess:60, waveHeight:20, waveSpeed:1 });\n\n/* ── NET ── */\nVANTA.NET({ el:'#bg', color:0x00e5ff, backgroundColor:0x02020a, points:10.0, maxDistance:25, spacing:16 });\n\n/* ── RINGS ── */\nVANTA.RINGS({ el:'#bg', color:0x7c4dff, backgroundColor:0x02020a, backgroundAlpha:1 });\n\n/* ── CELLS ── */\nVANTA.CELLS({ el:'#bg', color1:0x7c4dff, color2:0xff3cac, size:2, speed:1 });\n\n/* ── BIRDS ── */\nVANTA.BIRDS({ el:'#bg', backgroundColor:0x02020a, color1:0x7c4dff, color2:0x00e5ff, quantity:3 });\n\n// Динамическая смена эффекта\nlet currentVanta;\nfunction setEffect(effectName) {\n  if (currentVanta) currentVanta.destroy(); // уничтожаем предыдущий\n  currentVanta = VANTA[effectName]({ el: '#bg', ...defaultOptions });\n}`, lang:'JS'},
  ],

  /* ── p8: LUXURY BRAND ── */
  p8:[
    {tag:'01 · Gold Design System',title:'Gold дизайн-система: палитра и типографика',desc:'Luxury = золото + тёмный фон + serif шрифт + обилие white space. Три правила.',
     snippet:`/* Палитра */\n:root {\n  --gold:       #c9a227;  /* основной золотой */\n  --gold-light: #e8cc6b;  /* светлее для highlights */\n  --gold-dark:  #8b6914;  /* темнее для теней */\n  --dark:       #06040a;  /* почти чёрный фон */\n  --cream:      #f5efe0;  /* тёплый белый для текста */\n  --cream-dim:  rgba(245,239,224,.5);\n}\n\n/* Luxury типографика */\nbody {\n  font-family: 'Cormorant Garamond', 'Georgia', serif; /* serif = класс */\n  letter-spacing: .04em; /* широкий трекинг */\n  line-height: 1.7;\n}\n\n.luxury-heading {\n  font-size: clamp(36px, 7vw, 90px);\n  font-weight: 300; /* тонкий шрифт = элегантность */\n  letter-spacing: .18em;\n  text-transform: uppercase;\n  color: var(--cream);\n}\n\n/* Декоративная линия — подпись luxury сайтов */\n.luxury-divider {\n  width: 60px;\n  height: 1px;\n  background: var(--gold);\n  margin: 32px auto;\n}`, lang:'CSS'},
    {tag:'02 · GSAP Reveal',title:'GSAP reveal анимации: медленно = роскошно',desc:'Luxury анимации медленные (1.2-1.8s) с ease.out. Быстрая анимация — для стартапов, медленная — для luxury.',
     snippet:`gsap.registerPlugin(ScrollTrigger);\n\n// Медленный reveal — характерно для luxury\ngsap.from('.luxury-heading', {\n  scrollTrigger: {\n    trigger: '.luxury-heading',\n    start: 'top 85%',\n  },\n  y: 40,\n  opacity: 0,\n  duration: 1.6, // ← медленно\n  ease: 'power3.out',\n});\n\n// Reveal с разделителем\nconst timeline = gsap.timeline({\n  scrollTrigger: { trigger: '.section', start: 'top 70%' }\n});\ntimeline\n  .from('.section-tag',     { opacity:0, y:20, duration:1.2, ease:'power3.out' })\n  .from('.luxury-divider',  { scaleX:0, duration:0.8, ease:'power2.out' }, '-=0.8')\n  .from('.section-heading', { opacity:0, y:30, duration:1.4, ease:'power3.out' }, '-=0.6')\n  .from('.section-text',    { opacity:0, y:20, duration:1.0, ease:'power2.out' }, '-=0.8');`, lang:'JS'},
  ],
};

function getPremCode(id) {
  const tmpl = PREM.find(p => p.id === id);
  return PREM_CODE[id] || [{
    tag:'01 · Код',
    title: tmpl ? tmpl.name + ' — полный исходник' : 'Исходник шаблона',
    desc:`Стек: ${tmpl?.tech || ''}. Полный HTML/CSS/JS код включён в архив. Все ключевые части разобраны в мануале этого шаблона.`,
    snippet:`/* ${tmpl?.name || 'ШАБЛОН'} */\n/* Стек: ${tmpl?.tech || ''} */\n/*\n * Полный исходник включён в архив.\n * По вопросам: @beyond_birthdayLB\n *\n * Этот шаблон включает:\n * ✓ Полная HTML-разметка с семантикой\n * ✓ CSS с переменными и комментариями\n * ✓ JS с объяснением каждого блока\n * ✓ Советы по кастомизации\n * ✓ Список ресурсов и CDN ссылки\n */`,
    lang:'INFO'
  }];
}

/* ════════════════════════════════════
   STATE
════════════════════════════════════ */
let unlocked = false;
let unlockedIds = new Set(); // individual unlocked template IDs
let curUID   = null;
let curPurchase = null; // { type:'all' } or { type:'single', id, name, price, priceNum }


function getUID() {
  let id = localStorage.getItem('_bbuid');
  if (!id) { id = 'u' + Date.now() + '_' + Math.random().toString(36).slice(2,6); localStorage.setItem('_bbuid', id); }
  return id;
}

/* ════════════════════════════════════
   RENDER TEMPLATES
════════════════════════════════════ */
function renderFree() {
  document.getElementById('fgrid').innerHTML = FREE.map(t => `
    <div class="tc" data-id="${t.id}">
      <div class="tc-prev-lazy" onclick="loadLazyPreview(this,'${t.id}',false)">
        <div class="prev-placeholder">
          <span class="prev-icon">▶</span>
          <span class="prev-label">${t.name}</span>
          <span class="prev-play">ЗАПУСТИТЬ ПРЕВЬЮ</span>
        </div>
        <iframe title="${t.name}" loading="lazy"></iframe>
      </div>
      <div class="tc-info">
        <div class="tc-row1">
          <div class="tc-name">${t.name}</div>
          <div class="tc-badge bg-free">БЕСПЛАТНО</div>
        </div>
        <div class="tc-tech">${t.tech}</div>
        <div class="tc-desc">${t.desc}</div>
        <div class="tc-price pf">БЕСПЛАТНО</div>
        <div class="tc-btns-row">
          <button class="tc-btn tb-open" onclick="openViewer('${t.id}',false)">КОД + РАЗБОР</button>
          <button class="tc-btn tb-demo" onclick="openDemo('${t.id}',false)">↗ ПОЛНОЕ ДЕМО</button>
        </div>
      </div>
    </div>`).join('');
}

function renderPrem() {
  const renderCard = (t) => {
    const open = isUnlocked(t.id);
    const isFlagship = !!t.flagship;
    const isBig = isFlagship || t.priceNum >= 1200;
    return `
    <div class="tc${isBig?' tc-big':''}" data-id="${t.id}">
      <div class="tc-prev-lazy" onclick="loadLazyPreview(this,'${t.id}',true)">
        <div class="prev-placeholder">
          <span class="prev-icon">${isFlagship ? '⭐' : '▶'}</span>
          <span class="prev-label">${t.name}</span>
          <span class="prev-play">СМОТРЕТЬ ПРЕВЬЮ</span>
        </div>
        <iframe title="${t.name}" loading="lazy" style="height:${isBig?'380px':'300px'}"></iframe>
        ${!open ? `<div class="tc-lock-badge">🔒 КОД ПОСЛЕ ПОКУПКИ</div>` : ''}
      </div>
      <div class="tc-info">
        <div class="tc-row1">
          <div class="tc-name">${t.name}</div>
          <div class="tc-badge bg-paid">${t.price}</div>
        </div>
        <div class="tc-tech">${t.tech}</div>
        ${isFlagship ? `<div class="tc-flagship">⭐ ФЛАГМАН · 80% ГОТОВОЕ РЕШЕНИЕ · ОБШИРНЫЙ МАНУАЛ</div>` : ''}
        <div class="tc-desc">${t.desc}</div>
        <div class="tc-price pp">${t.price}</div>
        ${open
          ? `<div class="tc-btns-row">
               <button class="tc-btn tb-open" onclick="openViewer('${t.id}',true)">КОД + РАЗБОР</button>
               <button class="tc-btn tb-demo" onclick="openDemo('${t.id}',true)">↗ ДЕМО</button>
             </div>`
          : `<div class="tc-btns-row">
               <button class="tc-btn tb-demo" onclick="openDemo('${t.id}',true)" style="border-color:rgba(0,229,255,.4);color:var(--cyan);background:rgba(0,229,255,.06)">↗ ДЕМО</button>
               <button class="tc-btn tb-buy-single" onclick="openMod(PREM.find(p=>p.id==='${t.id}'))">🎯 ${t.price}</button>
             </div>
             <button class="tc-btn tb-buy-all" style="margin-top:6px" onclick="openMod('all')">📦 ВЕСЬ ПАКЕТ — 18 300₽</button>`
        }
      </div>
    </div>`;
  };

  document.getElementById('pgrid').innerHTML = PREM.map(renderCard).join('');

  // Also update single-template grid if it exists
  const sg = document.getElementById('sgrid');
  if (sg) sg.innerHTML = PREM.map(renderCard).join('');
}

/* ════════════════════════════════════
   VIEWER
════════════════════════════════════ */
function openDemo(id, isPrem) {
  let html = '';
  if (!isPrem) {
    const t = FREE.find(f => f.id === id);
    if (t) html = t.html;
  } else {
    html = PREM_PREV[id] || '';
  }
  if (!html) return;

  // Open demo in a full-screen overlay with an iframe — no popups, no blob URLs
  const name = (!isPrem ? FREE : PREM).find(x => x.id === id)?.name || id;
  let ov = document.getElementById('demo-ov');
  if (!ov) {
    ov = document.createElement('div');
    ov.id = 'demo-ov';
    ov.style.cssText = `
      position:fixed;inset:0;z-index:3000;background:#02020a;
      display:flex;flex-direction:column;
      animation:fadeIn .2s ease;
    `;
    ov.innerHTML = `
      <div style="display:flex;align-items:center;justify-content:space-between;
                  padding:12px 20px;background:#08080f;border-bottom:1px solid rgba(255,255,255,.08);
                  flex-shrink:0">
        <div style="font-family:'JetBrains Mono',monospace;font-size:11px;
                    letter-spacing:.2em;color:rgba(240,238,255,.5)" id="demo-title"></div>
        <div style="display:flex;align-items:center;gap:10px">
          <div style="font-family:'JetBrains Mono',monospace;font-size:10px;
                      color:rgba(124,77,255,.7);letter-spacing:.15em">ДЕМО ПРЕВЬЮ · КОД НЕДОСТУПЕН</div>
          <button onclick="closeDemo()" style="
            padding:7px 18px;font-family:'JetBrains Mono',monospace;font-size:11px;
            letter-spacing:.15em;border:1px solid rgba(255,255,255,.15);
            background:transparent;color:rgba(240,238,255,.7);cursor:pointer;
            transition:all .2s" onmouseover="this.style.borderColor='rgba(255,255,255,.5)';this.style.color='#fff'"
            onmouseout="this.style.borderColor='rgba(255,255,255,.15)';this.style.color='rgba(240,238,255,.7)'">
            ✕ ЗАКРЫТЬ
          </button>
        </div>
      </div>
      <iframe id="demo-frame" style="flex:1;width:100%;border:none" sandbox="allow-scripts allow-same-origin"></iframe>
    `;
    document.body.appendChild(ov);
  }

  document.getElementById('demo-title').textContent = '↗ ' + name.toUpperCase();
  document.getElementById('demo-frame').srcdoc = html;
  ov.style.display = 'flex';
  document.body.style.overflow = 'hidden';
}

function closeDemo() {
  const ov = document.getElementById('demo-ov');
  if (ov) {
    ov.style.display = 'none';
    document.getElementById('demo-frame').srcdoc = '';
  }
  document.body.style.overflow = '';
}
function openViewer(id, isPrem) {
  const ov = document.getElementById('vov');
  ov.classList.add('open');
  document.body.style.overflow = 'hidden';
  document.getElementById('vtitle').textContent = (isPrem ? PREM : FREE).find(x => x.id === id)?.name || id;

  if (!isPrem) {
    // FREE: show preview + code
    const t = FREE.find(x => x.id === id);
    showVTabs(true);
    vtab(0, document.querySelector('.vtab'));
    document.getElementById('vframe').srcdoc = t.html;
    renderVCode(t.code);
  } else if (unlocked || unlockedIds.has(id)) {
    // PAID + unlocked: show preview + code
    const prevHTML = PREM_PREV[id] || '<html><body style="background:#02020a;color:#f0eeff;display:flex;align-items:center;justify-content:center;height:100vh;font-family:monospace;font-size:14px;letter-spacing:.1em">Превью шаблона</body></html>';
    showVTabs(true);
    vtab(0, document.querySelector('.vtab'));
    document.getElementById('vframe').srcdoc = prevHTML;
    renderVCode(getPremCode(id));
  } else {
    // PAID + locked
    showVTabs(false);
    document.querySelectorAll('.vpane').forEach(p => p.classList.remove('on'));
    document.getElementById('vplocked').classList.add('on');
    document.getElementById('vlprice').textContent = PREM.find(x => x.id === id)?.price + ' · или всё за 18 300₽';
  }
}

function showVTabs(show) {
  document.getElementById('vtabs').style.display = show ? 'flex' : 'none';
}

function renderVCode(sections) {
  document.getElementById('vcodeWrap').innerHTML = sections.map(s => `
    <div class="cs-sec">
      <div class="cs-tag">${s.tag}</div>
      <div class="cs-title">${s.title}</div>
      <div class="cs-desc">${s.desc}</div>
      <div class="cb"><span class="clbl">${s.lang}</span>${escCode(s.snippet)}</div>
    </div>`).join('');
}

function escCode(s) {
  return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
}

function vtab(idx, el) {
  document.querySelectorAll('.vtab').forEach(t => t.classList.remove('on'));
  el.classList.add('on');
  document.querySelectorAll('.vpane').forEach(p => p.classList.remove('on'));
  document.getElementById('vp' + idx).classList.add('on');
}

function closeViewer() {
  document.getElementById('vov').classList.remove('open');
  document.body.style.overflow = '';
  // Clear iframe to free memory
  setTimeout(() => { document.getElementById('vframe').srcdoc = ''; }, 300);
}

/* ════════════════════════════════════
   UNLOCK
════════════════════════════════════ */
function unlock(what) {
  if (what === 'all') {
    unlocked = true;
    localStorage.setItem('_bbprem', '1');
  } else {
    unlockedIds.add(what);
    const saved = JSON.parse(localStorage.getItem('_bbids') || '[]');
    if (!saved.includes(what)) saved.push(what);
    localStorage.setItem('_bbids', JSON.stringify(saved));
  }
  renderPrem();
}

function isUnlocked(id) {
  return unlocked || unlockedIds.has(id);
}

/* ════════════════════════════════════
   WORK STATUS
════════════════════════════════════ */
function workStatus() {
  const now = new Date(new Date().toLocaleString('en-US', { timeZone: 'Europe/Moscow' }));
  return now.getHours() >= 10 && now.getHours() < 23;
}

function updateWS() {
  const on = workStatus();
  [1,2,3].forEach(n => {
    const d = document.getElementById('wsd'+n);
    const t = document.getElementById('wst'+n);
    if (!d || !t) return;
    d.className = 'wsd ' + (on ? 'on' : 'off');
    t.textContent = on
      ? '⏱ Рабочее время (10:00–23:00 МСК) · Проверка 1–30 мин'
      : '🌙 Нерабочее время · Обработаю с 10:00 МСК';
  });
}

/* ════════════════════════════════════
   MODAL
════════════════════════════════════ */
function openMod(purchase) {
  // purchase = undefined/'all' for full package, or PREM item for single
  curPurchase = (!purchase || purchase === 'all')
    ? { type:'all' }
    : { type:'single', id: purchase.id, name: purchase.name, price: purchase.price, priceNum: purchase.priceNum };

  // Update step 1 content based on purchase type
  if (curPurchase.type === 'all') {
    document.getElementById('mod-icon').textContent = '💎';
    document.getElementById('mod-title').textContent = 'ПОЛНЫЙ ДОСТУП К BB.STUDIO';
    document.getElementById('mod-desc').textContent = 'Все 20 премиум шаблонов с кодом и разбором. Оплата через Robokassa — карта, СБП, ЮMoney. Доступ открывается автоматически.';
    document.getElementById('mod-price-main').textContent = '18 300₽';
    document.getElementById('mod-price-old').textContent = '';
    document.getElementById('mod-price-sale').textContent = 'ПОЛНЫЙ ДОСТУП';
    document.getElementById('mod-features').style.display = '';
  } else {
    const t = curPurchase;
    document.getElementById('mod-icon').textContent = '🎯';
    document.getElementById('mod-title').textContent = 'ПОКУПКА: ' + t.name;
    document.getElementById('mod-desc').textContent = 'Оплата через Robokassa. После подтверждения этот шаблон откроется прямо здесь — код и полный разбор.';
    document.getElementById('mod-price-main').textContent = t.price;
    document.getElementById('mod-price-old').textContent = '';
    document.getElementById('mod-price-sale').textContent = 'ОДИН ШАБЛОН';
    document.getElementById('mod-features').style.display = 'none';
  }

  // Always reset to step 1 on open
  document.querySelectorAll('.ms').forEach(s => s.classList.remove('on'));
  document.getElementById('ms1').classList.add('on');
  _decided = false;
  if (pollTmr) { clearInterval(pollTmr); pollTmr = null; }
  ykPaymentId = null;
  document.getElementById('mov').classList.add('open');
  curUID = getUID();
  updateWS();
}

function closeMod() {
  document.getElementById('mov').classList.remove('open');
  if (pollTmr) { clearInterval(pollTmr); pollTmr = null; }
  // Перерисовываем шаблоны только если в этой сессии был approve
  // (если был reject — ничего не открываем)
  renderPrem();
  filterPrem(currentFilter, document.querySelector('.fchip.on') || document.querySelector('.fchip'));
}

async function downloadArchive(e) {
  e.preventDefault();
  const btn = document.getElementById('ms4-dl');
  const orig = btn.innerHTML;
  btn.innerHTML = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg> ПОДГОТОВКА АРХИВА...';
  btn.style.opacity = '.7';
  try {
    // ⚠️ ЗАМЕНИ НА URL РЕАЛЬНОГО АРХИВА ЧЕРЕЗ CLOUDFLARE WORKER
    const resp = await fetch(WORKER_URL + '/get-archive?uid=' + curUID);
    if (resp.ok) {
      const data = await resp.json();
      if (data.url) { window.open(data.url, '_blank'); }
    }
  } catch (_) {}
  setTimeout(() => { btn.innerHTML = orig; btn.style.opacity = '1'; }, 3000);
}


// backdrop click handled via onclick on #mov element directly

function gostep(n) {
  document.querySelectorAll('.ms').forEach(s => s.classList.remove('on'));
  document.getElementById('ms' + n)?.classList.add('on');
  updateWS();
}

/* ════════════════════════════════════
   ROBOKASSA — ПЛАТЕЖИ
════════════════════════════════════ */

// Создаём платёж → открываем Robokassa → ждём статус
async function startRobokassa() {
  const btn = document.getElementById('mod-pay-btn');
  btn.textContent = 'СОЗДАЁМ ПЛАТЁЖ...';
  btn.style.opacity = '.6';
  btn.style.pointerEvents = 'none';

  const purchase = curPurchase || { type: 'all' };
  const amount   = purchase.type === 'all' ? '18300.00' : (String(purchase.priceNum || 900) + '.00');
  const desc     = purchase.type === 'all'
    ? 'BB.STUDIO — Полный доступ (20 шаблонов)'
    : ('BB.STUDIO — ' + (purchase.name || 'Шаблон'));

  try {
    const resp = await fetch(WORKER_URL + '/create-payment', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ uid: curUID, amount, desc, type: purchase.type, itemId: purchase.id || 'all' })
    });
    if (!resp.ok) throw new Error('HTTP ' + resp.status);
    const data = await resp.json();
    if (!data.paymentId || !data.confirmUrl) throw new Error('Нет данных от сервера');

    ykPaymentId = data.paymentId;
    window.open(data.confirmUrl, '_blank');
    gostep(2);

    const linkBox = document.getElementById('yk-pay-link-box');
    if (linkBox) {
      linkBox.innerHTML = '<a class="yk-pay-link" href="' + data.confirmUrl + '" target="_blank" rel="noopener">🔗 ОТКРЫТЬ СТРАНИЦУ ОПЛАТЫ →</a>';
    }
    if (typeof ym !== 'undefined') ym(12345678, 'reachGoal', 'payment_started', { amount, type: purchase.type });
    startPoll(data.paymentId, purchase);

  } catch (err) {
    console.error('Robokassa:', err);
    btn.textContent = 'ПЕРЕЙТИ К ОПЛАТЕ';
    btn.style.opacity = '';
    btn.style.pointerEvents = '';
    alert('Ошибка создания платежа. Попробуй позже или напиши @beyond_birthdayLB');
  }
}

async function pollDecision(paymentId, purchase) {
  if (_decided) return;
  try {
    const resp = await fetch(WORKER_URL + '/check-payment?id=' + paymentId + '&uid=' + curUID);
    if (!resp.ok) return;
    const data = await resp.json();

    if (data.status === 'succeeded') {
      _decided = true;
      clearInterval(pollTmr); pollTmr = null;
      unlock(purchase.type === 'all' ? 'all' : purchase.id);
      // Обновляем текст success-экрана
      const s4head = document.querySelector('#ms4 .mh');
      const s4desc = document.querySelector('#ms4 .mb');
      if (purchase.type === 'all') {
        if (s4head) s4head.textContent = 'ДОСТУП ОТКРЫТ!';
        if (s4desc) s4desc.textContent = 'Спасибо! Все 20 шаблонов разблокированы. Смотри превью и мануалы прямо здесь, или скачай архив с исходниками.';
        document.getElementById('ms4-btn').textContent = 'ПЕРЕЙТИ К ШАБЛОНАМ →';
        document.getElementById('ms4-btn').onclick = () => { closeMod(); nav('tmpl'); };
      } else {
        const tmpl = PREM.find(t => t.id === purchase.id);
        if (s4head) s4head.textContent = 'ШАБЛОН РАЗБЛОКИРОВАН!';
        if (s4desc) s4desc.textContent = 'Готово! Шаблон ' + (tmpl?.name || purchase.name) + ' теперь открыт.';
        document.getElementById('ms4-btn').textContent = '→ ОТКРЫТЬ ' + (tmpl?.name || purchase.name);
        document.getElementById('ms4-btn').onclick = () => { closeMod(); nav('tmpl'); setTimeout(() => openViewer(purchase.id, true), 300); };
      }
      gostep(4);
      if (typeof ym !== 'undefined') ym(12345678, 'reachGoal', 'purchase_complete', { type: purchase.type });
    } else if (data.status === 'canceled') {
      _decided = true;
      clearInterval(pollTmr); pollTmr = null;
      const rEl = document.getElementById('rrtxt');
      if (rEl) rEl.textContent = 'Платёж отменён. Попробуй снова или напиши @beyond_birthdayLB';
      gostep(5);
    }
  } catch (_) {}
}

async function startPoll(paymentId, purchase) {
  if (pollTmr) { clearInterval(pollTmr); pollTmr = null; }
  _decided = false;
  setTimeout(() => pollDecision(paymentId, purchase), 5000);
  pollTmr = setInterval(() => pollDecision(paymentId, purchase), 6000);
  setTimeout(() => { if (pollTmr) { clearInterval(pollTmr); pollTmr = null; } }, 30 * 60 * 1000);
}

/* ════════════════════════════════════
   FILTER
════════════════════════════════════ */
let currentFilter = 'all';
function filterPrem(cat, el) {
  currentFilter = cat;
  document.querySelectorAll('.fchip').forEach(c => c.classList.remove('on'));
  el.classList.add('on');
  const items = PREM.filter(t => cat === 'all' || t.cat === cat);
  const sg = document.getElementById('sgrid');
  if (!sg) return;
  const open = (t) => isUnlocked(t.id);
  sg.innerHTML = items.map(t => {
    const isFlagship = !!t.flagship;
    const isOpen = isUnlocked(t.id);
    return `
    <div class="tc" data-id="${t.id}">
      <div class="tc-prev-lazy" onclick="loadLazyPreview(this,'${t.id}',true)">
        <div class="prev-placeholder">
          <span class="prev-icon">${isFlagship ? '⭐' : '▶'}</span>
          <span class="prev-label">${t.name}</span>
          <span class="prev-play">СМОТРЕТЬ ПРЕВЬЮ</span>
        </div>
        <iframe title="${t.name}" loading="lazy"></iframe>
        ${!isOpen ? `<div class="tc-lock-badge">🔒 КОД ПОСЛЕ ПОКУПКИ</div>` : ''}
      </div>
      <div class="tc-info">
        <div class="tc-row1">
          <div class="tc-name">${t.name}</div>
          <div class="tc-badge bg-paid">${t.price}</div>
        </div>
        <div class="tc-tech">${t.tech}</div>
        ${isFlagship ? `<div class="tc-flagship">⭐ ФЛАГМАН · 80% ГОТОВОЕ РЕШЕНИЕ</div>` : ''}
        <div class="tc-desc">${t.desc}</div>
        <div class="tc-price pp">${t.price}</div>
        ${isOpen
          ? `<div class="tc-btns-row">
               <button class="tc-btn tb-open" onclick="openViewer('${t.id}',true)">КОД + РАЗБОР</button>
               <button class="tc-btn tb-demo" onclick="openDemo('${t.id}',true)">↗ ДЕМО</button>
             </div>`
          : `<div class="tc-btns-row">
               <button class="tc-btn tb-demo" onclick="openDemo('${t.id}',true)" style="border-color:rgba(0,229,255,.4);color:var(--cyan);background:rgba(0,229,255,.06)">↗ ДЕМО</button>
               <button class="tc-btn tb-buy-single" onclick="openMod(PREM.find(p=>p.id==='${t.id}'))">🎯 ${t.price}</button>
             </div>
             <button class="tc-btn tb-buy-all" style="margin-top:6px" onclick="openMod('all')">📦 ВЕСЬ ПАКЕТ — 18 300₽</button>`
        }
      </div>
    </div>`;
  }).join('');
}



/* ════════════════════════════════════
   NAVIGATION
════════════════════════════════════ */
function nav(id) {
  document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('.nav-links a').forEach(a => a.classList.remove('active'));
  const map = { 'hero-wrap': 'nh', 'tmpl': 'nt', 'manual': 'nm', 'about': 'na', 'reviews': 'nrev', 'calc': 'ncalc', 'blog': 'nblog' };
  if (map[id]) document.getElementById(map[id]).classList.add('active');
  if (id === 'manual' && !manualInited) initManual();
  window.scrollTo(0, 0);
  return false;
}

/* ════════════════════════════════════
   CURSOR
════════════════════════════════════ */
(function() {
  const dot  = document.getElementById('cur');
  const ring = document.getElementById('curR');
  if (!dot || !ring) return;

  let mx = -200, my = -200, rx = -200, ry = -200;

  document.addEventListener('mousemove', function(e) {
    mx = e.clientX; my = e.clientY;
    dot.style.left = mx + 'px';
    dot.style.top  = my + 'px';
  });

  (function loop() {
    rx += (mx - rx) * 0.13;
    ry += (my - ry) * 0.13;
    ring.style.left = rx + 'px';
    ring.style.top  = ry + 'px';
    requestAnimationFrame(loop);
  })();

  document.addEventListener('mouseover', function(e) {
    if (e.target.closest('a,button,.dz,.fchip')) {
      dot.style.width  = '16px'; dot.style.height = '16px';
      ring.style.width = '50px'; ring.style.height = '50px';
      ring.style.borderColor = 'rgba(0,229,255,.6)';
    }
  });

  document.addEventListener('mouseout', function(e) {
    const from = e.target.closest('a,button,.dz,.fchip');
    const to   = e.relatedTarget ? e.relatedTarget.closest('a,button,.dz,.fchip') : null;
    if (from && from !== to) {
      dot.style.width  = '8px'; dot.style.height = '8px';
      ring.style.width = '32px'; ring.style.height = '32px';
      ring.style.borderColor = 'rgba(0,229,255,.3)';
    }
  });
})();
/* ════════════════════════════════════
   CANVAS BACKGROUND
════════════════════════════════════ */
(function () {
  const cv = document.getElementById('bgC'), cx = cv.getContext('2d');
  let W, H, mouse = { x: 0, y: 0 }, stars = [], neb = [], shoots = [], tick = 0;
  function resize() { W = cv.width = innerWidth; H = cv.height = innerHeight; initS(); initN(); }
  function initS() {
    stars = [];
    [{ c: 320, mn: .2, mx: .7, sp: .012, a: .35 }, { c: 180, mn: .5, mx: 1.2, sp: .025, a: .55 }, { c: 60, mn: 1, mx: 2.2, sp: .05, a: .85 }].forEach(l => {
      for (let i = 0; i < l.c; i++) stars.push({ x: Math.random() * W, y: Math.random() * H, r: l.mn + Math.random() * (l.mx - l.mn), sp: l.sp, a: l.a * (.6 + Math.random() * .4), to: Math.random() * Math.PI * 2, ts: .008 + Math.random() * .016, h: Math.random() < .5 ? 220 + Math.random() * 40 : 270 + Math.random() * 30 });
    });
  }
  function initN() {
    neb = [
      { x: W * .15, y: H * .25, rx: 380, ry: 260, r: 220, rr: 220, g: 20,  b: 255, a: .045 },
      { x: W * .82, y: H * .55, rx: 420, ry: 300, r: 255, rr: 80,  g: 0,   b: 200, a: .038 },
      { x: W * .5,  y: H * .8,  rx: 500, ry: 200, r: 200, rr: 0,   g: 180, b: 255, a: .028 }
    ];
  }
  function spawn() { const ang = Math.PI / 6 + Math.random() * Math.PI / 6, sp = 8 + Math.random() * 12; shoots.push({ x: Math.random() * W * .8, y: Math.random() * H * .4, vx: Math.cos(ang) * sp, vy: Math.sin(ang) * sp, len: 80 + Math.random() * 120, life: 0, max: 55 + Math.random() * 30 }); }
  function drawN() {
    neb.forEach(n => {
      if (!n.r) return; // guard div/0
      const px = n.x + (mouse.x / (W||1) - .5) * 18;
      const py = n.y + (mouse.y / (H||1) - .5) * 12;
      cx.save();
      cx.translate(px, py);
      cx.scale(n.rx / n.r, n.ry / n.r);
      const g = cx.createRadialGradient(0, 0, 0, 0, 0, n.r);
      g.addColorStop(0,  'rgba('+n.rr+','+n.g+','+n.b+','+(n.a * 2.5)+')');
      g.addColorStop(.4, 'rgba('+n.rr+','+n.g+','+n.b+','+n.a+')');
      g.addColorStop(1,  'rgba('+n.rr+','+n.g+','+n.b+',0)');
      cx.fillStyle = g;
      cx.beginPath();
      cx.arc(0, 0, n.r, 0, Math.PI * 2);
      cx.fill();
      cx.restore();
    });
  }
  function drawS() { stars.forEach(s => { const px = s.x + (mouse.x / (W||1) - .5) * s.sp * 60, py = s.y + (mouse.y / (H||1) - .5) * s.sp * 40, tw = .5 + .5 * Math.sin(tick * s.ts + s.to), a = s.a * (.5 + .5 * tw); if (s.r > 1.5) { const gs = s.r * 6 * tw, g = cx.createRadialGradient(px, py, 0, px, py, gs); g.addColorStop(0, 'hsla('+s.h+',90%,95%,'+a+')'); g.addColorStop(1, 'hsla('+s.h+',80%,70%,0)'); cx.fillStyle = g; cx.beginPath(); cx.arc(px, py, gs, 0, Math.PI * 2); cx.fill(); } cx.fillStyle = 'hsla('+s.h+',70%,95%,'+a+')'; cx.beginPath(); cx.arc(px, py, s.r, 0, Math.PI * 2); cx.fill(); }); }
  function drawSh() { shoots = shoots.filter(s => s.life < s.max); shoots.forEach(s => { const p = s.life / s.max, a = (1 - p) * .9, sp2 = Math.hypot(s.vx, s.vy) || 10, tx = s.x - s.vx * (s.len / sp2), ty = s.y - s.vy * (s.len / sp2), g = cx.createLinearGradient(tx, ty, s.x, s.y); g.addColorStop(0, 'rgba(255,255,255,0)'); g.addColorStop(1, 'rgba(255,255,255,'+a+')'); cx.strokeStyle = g; cx.lineWidth = 1.5; cx.beginPath(); cx.moveTo(tx, ty); cx.lineTo(s.x, s.y); cx.stroke(); s.x += s.vx; s.y += s.vy; s.life++; }); }
  function draw() { tick++; cx.fillStyle = '#02020a'; cx.fillRect(0, 0, W, H); drawN(); drawS(); drawSh(); if (tick % 180 === 0 && Math.random() < .7) spawn(); requestAnimationFrame(draw); }
  window.addEventListener('mousemove', e => { mouse.x = e.clientX; mouse.y = e.clientY; }, { passive: true });
  window.addEventListener('resize', resize);
  resize(); draw();
})();

/* ════════════════════════════════════
   BB CANVAS MINI ANIMATION
════════════════════════════════════ */
(function(){
  const cv = document.getElementById('bb-cv');
  if (!cv) return;
  const ctx = cv.getContext('2d');
  let W, H, pts = [], tick2 = 0;
  function resize(){
    const r = cv.parentElement.getBoundingClientRect();
    W = cv.width  = r.width  || 400;
    H = cv.height = 160;
    pts = [];
    for(let i=0;i<80;i++) pts.push({
      x:Math.random()*W, y:Math.random()*H,
      vx:(Math.random()-.5)*.4, vy:(Math.random()-.5)*.4,
      r:.5+Math.random()*1.8,
      h:Math.random()<.5?220+Math.random()*40:260+Math.random()*40,
      a:.2+Math.random()*.6,
      to:Math.random()*Math.PI*2,
      ts:.006+Math.random()*.014
    });
  }
  function draw(){
    tick2++;
    ctx.fillStyle='rgba(2,2,16,.35)';
    ctx.fillRect(0,0,W,H);
    pts.forEach(p=>{
      p.x+=p.vx; p.y+=p.vy;
      if(p.x<0||p.x>W) p.vx*=-1;
      if(p.y<0||p.y>H) p.vy*=-1;
      const tw=.5+.5*Math.sin(tick2*p.ts+p.to);
      const a=p.a*(.5+.5*tw);
      if(p.r>1.2){
        const g=ctx.createRadialGradient(p.x,p.y,0,p.x,p.y,p.r*5*tw);
        g.addColorStop(0,'hsla('+p.h+',90%,85%,'+a+')');
        g.addColorStop(1,'hsla('+p.h+',80%,70%,0)');
        ctx.fillStyle=g;
        ctx.beginPath();ctx.arc(p.x,p.y,p.r*5*tw,0,Math.PI*2);ctx.fill();
      }
      ctx.fillStyle='hsla('+p.h+',80%,90%,'+a+')';
      ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();
    });
    requestAnimationFrame(draw);
  }
  // Intersect observer — only animate when visible
  if('IntersectionObserver' in window){
    let running=false;
    const obs=new IntersectionObserver(e=>{
      if(e[0].isIntersecting&&!running){running=true;resize();draw();}
    },{threshold:.1});
    obs.observe(cv);
  } else { resize(); draw(); }
  window.addEventListener('resize', resize);
})();


/* ════════════════════════════════════
   MANUAL — данные и рендер
════════════════════════════════════ */
let manualInited = false;

const MANUAL_CHAPTERS = [
  {
    id:'html-vs-tilda',
    tab:'HTML vs Тильда',
    color:'var(--cyan)',
    title:'HTML vs конструктор: в чём реальная разница?',
    intro:'Тильда — это как квартира в аренду: уже готово, но ты ничего не можешь переделать. HTML — это строить с нуля. Дольше, сложнее, зато это твоё.',
    blocks:[
      {
        icon:'🏗️',
        h:'Что такое Тильда на самом деле',
        body:`Тильда генерирует HTML/CSS/JS из визуального редактора. Ты тащишь блоки — она пишет код за тебя. Это удобно до первого момента, когда тебе нужно что-то, чего в блоках нет.

<strong style="color:var(--cyan)">Что ты не можешь на Тильде:</strong>
→ Кастомный cursor с физикой и blend-mode
→ WebGL / Three.js сцены
→ Canvas 2D анимации
→ Сложные переходы между секциями (scroll-snap + GSAP)
→ Интерактивные 3D карточки с mouse tracking
→ Параллакс с depth-эффектом на основе gyroscope

Всё это — только чистый код.`
      },
      {
        icon:'⚡',
        h:'Когда Тильда — правильный выбор',
        body:`Тильда побеждает в одном: скорость. Лендинг для кофейни, страница мероприятия, портфолио фотографа — всё это можно сделать за 2 часа и оно будет смотреться нормально.

<strong style="color:var(--gold)">Тильда выигрывает если:</strong>
→ Бюджет и сроки минимальные
→ Контент будут менять люди без навыков кода
→ SEO нужно базовое, не тонкое
→ Нет задач визуальной уникальности

HTML выигрывает если нужен WOW-эффект, полный контроль, или сайт — это твоя визитная карточка как разработчика.`
      },
      {
        icon:'📊',
        h:'Реальная таблица сравнения',
        body:`<table style="width:100%;border-collapse:collapse;font-family:'JetBrains Mono',monospace;font-size:12px;margin-top:8px">
<tr style="border-bottom:1px solid var(--b1)"><th style="text-align:left;padding:10px 8px;color:var(--t3)">Параметр</th><th style="text-align:center;padding:10px 8px;color:var(--cyan)">HTML/CSS/JS</th><th style="text-align:center;padding:10px 8px;color:var(--t2)">Тильда</th></tr>
<tr style="border-bottom:1px solid var(--b1)"><td style="padding:10px 8px;color:var(--t2)">Контроль над кодом</td><td style="text-align:center;color:var(--green)">100%</td><td style="text-align:center;color:var(--red)">~20%</td></tr>
<tr style="border-bottom:1px solid var(--b1)"><td style="padding:10px 8px;color:var(--t2)">Скорость старта</td><td style="text-align:center;color:var(--t2)">Медленно</td><td style="text-align:center;color:var(--green)">Быстро</td></tr>
<tr style="border-bottom:1px solid var(--b1)"><td style="padding:10px 8px;color:var(--t2)">3D / Canvas эффекты</td><td style="text-align:center;color:var(--green)">✓ Полностью</td><td style="text-align:center;color:var(--red)">✗ Недоступно</td></tr>
<tr style="border-bottom:1px solid var(--b1)"><td style="padding:10px 8px;color:var(--t2)">Custom cursor</td><td style="text-align:center;color:var(--green)">✓</td><td style="text-align:center;color:var(--red)">✗</td></tr>
<tr style="border-bottom:1px solid var(--b1)"><td style="padding:10px 8px;color:var(--t2)">WebGL / шейдеры</td><td style="text-align:center;color:var(--green)">✓</td><td style="text-align:center;color:var(--red)">✗</td></tr>
<tr style="border-bottom:1px solid var(--b1)"><td style="padding:10px 8px;color:var(--t2)">Стоимость хостинга</td><td style="text-align:center;color:var(--green)">0–200₽/мес</td><td style="text-align:center;color:var(--t2)">750–3500₽/мес</td></tr>
<tr><td style="padding:10px 8px;color:var(--t2)">Уникальность дизайна</td><td style="text-align:center;color:var(--green)">Бесконечная</td><td style="text-align:center;color:var(--t2)">Ограничена блоками</td></tr>
</table>`
      },
      {
        icon:'🎯',
        h:'Вывод: что выбрать новичку',
        body:`Начни с HTML. Да, это сложнее. Но ты поймёшь как работает веб — а не как работает Тильда. После этого ты сможешь и Тильду настраивать через Zero Block (там чистый HTML), и писать свои сайты, и не зависеть от платформ.

Тильда — обходной путь. HTML — основа. Изучи основу, и тогда ты сможешь делать что угодно.

<strong style="color:var(--acc)">Маршрут: HTML → CSS → JS → выбери специализацию (Three.js / GSAP / React)</strong>`
      }
    ]
  },
  {
    id:'how-layout-works',
    tab:'Как работает вёрстка',
    color:'var(--acc)',
    title:'Как браузер строит страницу: от тега до пикселя',
    intro:'Браузер — это машина. У неё есть чёткий алгоритм. Понимание этого алгоритма меняет всё.',
    blocks:[
      {
        icon:'🌳',
        h:'DOM — дерево документа',
        body:`Когда браузер читает HTML, он строит DOM (Document Object Model) — дерево объектов. Каждый тег = узел дерева.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin-top:10px">&lt;html&gt;
  └─ &lt;body&gt;
      ├─ &lt;nav&gt;
      │   └─ &lt;a&gt; Ссылка
      └─ &lt;section&gt;
          ├─ &lt;h1&gt; Заголовок
          └─ &lt;p&gt; Абзац</code>

JS работает с DOM: <code style="color:var(--cyan)">document.getElementById('nav')</code> — это обращение к узлу дерева. Когда ты меняешь <code style="color:var(--cyan)">.style.color</code> — ты меняешь свойство объекта, браузер перерисовывает пиксели.`
      },
      {
        icon:'📦',
        h:'Box model — коробка внутри коробки',
        body:`Каждый HTML-элемент — это прямоугольник. Всегда. Даже текст, даже картинки.

Прямоугольник состоит из слоёв:
<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin-top:10px">┌─────────────────────────────────┐ ← margin (внешний отступ)
│  ┌───────────────────────────┐  │
│  │  border (рамка)           │  │
│  │  ┌─────────────────────┐  │  │
│  │  │  padding (внутренний)│  │  │
│  │  │  ┌───────────────┐  │  │  │
│  │  │  │  CONTENT      │  │  │  │
│  │  │  └───────────────┘  │  │  │
│  │  └─────────────────────┘  │  │
│  └───────────────────────────┘  │
└─────────────────────────────────┘</code>

<strong style="color:var(--gold)">Главное правило:</strong> <code style="color:var(--cyan)">box-sizing: border-box</code> означает что <code>width</code> включает padding и border. Без этого — width это только content, а реальный размер больше. Всегда ставь <code style="color:var(--cyan)">* { box-sizing: border-box }</code>.`
      },
      {
        icon:'🔄',
        h:'Поток документа (normal flow)',
        body:`По умолчанию элементы идут один за другим. Блочные (<code style="color:var(--cyan)">div, p, h1</code>) — вертикально. Строчные (<code style="color:var(--cyan)">span, a, strong</code>) — горизонтально.

<strong style="color:var(--t1)">position: static</strong> — обычный поток (по умолчанию)
<strong style="color:var(--t1)">position: relative</strong> — в потоке, но можно двигать через top/left
<strong style="color:var(--t1)">position: absolute</strong> — вырывается из потока, позиционируется относительно ближайшего <code>position:relative</code> родителя
<strong style="color:var(--t1)">position: fixed</strong> — вырывается из потока, позиционируется относительно viewport (вот почему nav прилипает)
<strong style="color:var(--t1)">position: sticky</strong> — в потоке пока не доскроллил до порога, потом фиксируется`
      },
      {
        icon:'🏎️',
        h:'Reflow и Repaint — почему сайты тупят',
        body:`Когда ты меняешь размер или позицию элемента через JS — браузер пересчитывает весь layout. Это называется <strong style="color:var(--red)">reflow</strong> — дорогая операция.

<strong style="color:var(--red)">Медленно (вызывает reflow):</strong>
<code style="display:block;background:var(--s2);padding:12px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--red);margin:8px 0">el.style.width = '200px'; // перестройка layout</code>

<strong style="color:var(--green)">Быстро (только GPU, без reflow):</strong>
<code style="display:block;background:var(--s2);padding:12px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--green);margin:8px 0">el.style.transform = 'translateX(200px)'; // только GPU</code>

Правило: анимируй только <code style="color:var(--cyan)">transform</code> и <code style="color:var(--cyan)">opacity</code>. Они обходят reflow и идут через GPU compositor. Именно поэтому в хорошем коде ты видишь <code>transform:translateY</code> вместо изменения <code>top</code>.`
      }
    ]
  },
  {
    id:'css-tricks',
    tab:'CSS лайфхаки',
    color:'var(--pink)',
    title:'CSS трюки которые меняют игру',
    intro:'Большинство эффектов, которые кажутся сложными — это 5–10 строк CSS, если знаешь нужные свойства.',
    blocks:[
      {
        icon:'🌈',
        h:'Gradient текст — один трюк на все случаи',
        body:`Самый используемый трюк в современном дизайне. Работает везде.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">.gradient-text {
  background: linear-gradient(
    110deg,
    #7c4dff 0%,    /* фиолетовый */
    #ff3cac 50%,   /* розовый */
    #00e5ff 100%   /* голубой */
  );

  /* Обрезаем фон по форме текста */
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  color: transparent;
}</code>

Почему <code style="color:var(--cyan)">-webkit-</code> префикс? Safari и старый Chrome требуют его. Всегда ставь оба варианта — с префиксом и без.`
      },
      {
        icon:'🪟',
        h:'Glassmorphism — стекло за 4 строки',
        body:`Эффект матового стекла. Выглядит дорого, делается просто.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">.glass {
  background: rgba(255, 255, 255, 0.08);  /* полупрозрачный */
  backdrop-filter: blur(20px);             /* блюр фона */
  -webkit-backdrop-filter: blur(20px);     /* Safari */
  border: 1px solid rgba(255, 255, 255, 0.12); /* тонкая рамка */
  border-radius: 16px;
}</code>

<strong style="color:var(--gold)">Важно:</strong> backdrop-filter работает только если под элементом есть что размывать (картинка, градиент, другие элементы). На пустом фоне эффект невидим.`
      },
      {
        icon:'📐',
        h:'CSS Grid в 2025 — мощь которую не используют',
        body:`Grid — самая мощная система вёрстки. Но 90% разработчиков знают только <code style="color:var(--cyan)">grid-template-columns: repeat(3, 1fr)</code>.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">/* Адаптивная сетка БЕЗ медиазапросов */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 24px;
}

/* Именованные области — как Figma */
.layout {
  display: grid;
  grid-template-areas:
    "header header"
    "sidebar content"
    "footer footer";
  grid-template-columns: 260px 1fr;
}
.header  { grid-area: header; }
.sidebar { grid-area: sidebar; }
.content { grid-area: content; }

/* Элемент занимает 2 колонки */
.featured { grid-column: span 2; }</code>`
      },
      {
        icon:'✨',
        h:'clip-path — срезай углы как хочешь',
        body:`<code style="color:var(--cyan)">clip-path</code> обрезает элемент по любому полигону. Это то, что даёт острые углы карточкам.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">/* Срезанный угол снизу-справа */
.card {
  clip-path: polygon(0 0, 100% 0, 100% calc(100% - 16px), calc(100% - 16px) 100%, 0 100%);
}

/* Паралелограмм */
.tag {
  clip-path: polygon(8px 0, 100% 0, calc(100% - 8px) 100%, 0 100%);
}

/* Анимация clip-path */
.btn:hover {
  clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  transition: clip-path 0.3s ease;
}</code>

<strong style="color:var(--gold)">Лайфхак:</strong> используй CSS Custom Properties внутри clip-path — можно анимировать через JS.`
      },
      {
        icon:'🎭',
        h:'CSS Custom Properties — переменные которые меняются',
        body:`CSS переменные — не просто «чтобы не повторять цвет». Это живые значения которые можно менять через JS.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">/* CSS */
:root {
  --mouse-x: 50%;
  --mouse-y: 50%;
  --hue: 270;
}

.card::before {
  background: radial-gradient(
    circle at var(--mouse-x) var(--mouse-y),
    hsl(var(--hue), 80%, 60%),
    transparent 60%
  );
}

/* JS — обновляем переменные в реальном времени */
document.addEventListener('mousemove', (e) => {
  const card = e.currentTarget;
  const rect = card.getBoundingClientRect();
  const x = ((e.clientX - rect.left) / rect.width) * 100;
  const y = ((e.clientY - rect.top) / rect.height) * 100;
  card.style.setProperty('--mouse-x', x + '%');
  card.style.setProperty('--mouse-y', y + '%');
});</code>`
      }
    ]
  },
  {
    id:'js-dom',
    tab:'JS и DOM',
    color:'var(--gold)',
    title:'JavaScript и DOM: как оживить страницу',
    intro:'JS — это не отдельный язык поверх сайта. Это прямое управление браузером. Понимаешь DOM — делаешь что угодно.',
    blocks:[
      {
        icon:'🎯',
        h:'Выбор элементов — три способа',
        body:`<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">// 1. По id — самый быстрый, возвращает один элемент
const nav = document.getElementById('nav');

// 2. CSS-селектор — один элемент
const btn = document.querySelector('.btn-primary');

// 3. CSS-селектор — все элементы (NodeList)
const cards = document.querySelectorAll('.card');

// Итерация по NodeList
cards.forEach(card => {
  card.addEventListener('click', () => console.log(card));
});

// Фильтрация
const premCards = [...cards].filter(c => c.dataset.type === 'prem');</code>`
      },
      {
        icon:'👂',
        h:'События — как браузер реагирует на пользователя',
        body:`<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">// Клик
btn.addEventListener('click', (e) => {
  e.preventDefault(); // отменить поведение по умолчанию
  console.log('clicked!');
});

// Движение мыши — с throttle для производительности
let throttle = false;
document.addEventListener('mousemove', (e) => {
  if (throttle) return;
  throttle = true;
  requestAnimationFrame(() => {
    updateCursor(e.clientX, e.clientY);
    throttle = false;
  });
});

// Скролл — Intersection Observer (лучше чем scroll event)
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('visible');
    }
  });
}, { threshold: 0.1 });

document.querySelectorAll('.animate-on-scroll')
  .forEach(el => observer.observe(el));</code>`
      },
      {
        icon:'⏰',
        h:'requestAnimationFrame — правильный способ анимировать',
        body:`Никогда не используй <code style="color:var(--red)">setInterval</code> для анимаций. Только <code style="color:var(--cyan)">requestAnimationFrame</code>.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">// ❌ Плохо — вызывается каждые N мс без синхронизации с браузером
setInterval(() => animate(), 16);

// ✅ Хорошо — браузер сам вызывает перед каждым кадром
let angle = 0;

function animate() {
  angle += 0.02;

  element.style.transform = 'rotate(' + angle + 'rad)';

  requestAnimationFrame(animate); // планируем следующий кадр
}

requestAnimationFrame(animate); // запускаем

// С паузой (когда вкладка скрыта)
let running = true;
document.addEventListener('visibilitychange', () => {
  running = !document.hidden;
  if (running) requestAnimationFrame(animate);
});</code>`
      }
    ]
  },
  {
    id:'canvas-3d',
    tab:'Canvas и 3D',
    color:'var(--green)',
    title:'Canvas 2D и Three.js: как работает магия',
    intro:'Canvas — это холст пикселей. Three.js — 3D движок поверх WebGL. Вот как они устроены внутри.',
    blocks:[
      {
        icon:'🎨',
        h:'Canvas 2D — рисуем каждый кадр',
        body:`Canvas работает как мультфильм — каждый кадр ты очищаешь холст и рисуешь всё заново. Никакого DOM, только пиксели.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

// Адаптируем размер к экрану
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// Создаём частицы
const particles = Array.from({ length: 150 }, () => ({
  x: Math.random() * canvas.width,
  y: Math.random() * canvas.height,
  vx: (Math.random() - 0.5) * 0.5,
  vy: (Math.random() - 0.5) * 0.5,
  r: Math.random() * 2 + 0.5,
  hue: Math.random() * 60 + 240 // фиолетово-синие
}));

function draw() {
  // Не очищаем полностью — оставляем след
  ctx.fillStyle = 'rgba(2, 2, 10, 0.15)';
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  particles.forEach(p => {
    p.x += p.vx;
    p.y += p.vy;

    // Отражение от стен
    if (p.x < 0 || p.x > canvas.width) p.vx *= -1;
    if (p.y < 0 || p.y > canvas.height) p.vy *= -1;

    // Рисуем с glow
    const glow = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.r * 6);
    glow.addColorStop(0, \`hsla(\${p.hue}, 90%, 80%, 0.8)\`);
    glow.addColorStop(1, \`hsla(\${p.hue}, 80%, 60%, 0)\`);
    ctx.fillStyle = glow;
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.r * 6, 0, Math.PI * 2);
    ctx.fill();
  });

  requestAnimationFrame(draw);
}
draw();</code>`
      },
      {
        icon:'🌐',
        h:'Three.js — три кита: Scene, Camera, Renderer',
        body:`Любой Three.js проект держится на трёх объектах.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">// 1. Сцена — контейнер для всего
const scene = new THREE.Scene();

// 2. Камера — точка обзора (FOV, соотношение сторон, near/far)
const camera = new THREE.PerspectiveCamera(
  75,                               // угол обзора в градусах
  window.innerWidth / window.innerHeight, // соотношение сторон
  0.1,                              // ближняя плоскость отсечения
  1000                              // дальняя плоскость отсечения
);
camera.position.z = 5; // отодвигаем камеру

// 3. Renderer — рисует сцену в canvas через WebGL
const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); // не выше 2x
document.body.appendChild(renderer.domElement);

// Добавляем объект
const geometry = new THREE.TorusGeometry(1.5, 0.4, 32, 100);
const material = new THREE.MeshNormalMaterial({ wireframe: true });
const torus = new THREE.Mesh(geometry, material);
scene.add(torus);

// Анимация
function animate() {
  requestAnimationFrame(animate);
  torus.rotation.x += 0.005;
  torus.rotation.y += 0.008;
  renderer.render(scene, camera);
}
animate();</code>`
      },
      {
        icon:'💡',
        h:'Освещение в Three.js — почему объекты выглядят плоско',
        body:`Без света в Three.js объекты выглядят как нарисованные от руки. Свет создаёт объём.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">// MeshBasicMaterial — игнорирует свет (плоский цвет)
const flat = new THREE.MeshBasicMaterial({ color: 0x7c4dff });

// MeshStandardMaterial — реагирует на свет (нужен свет в сцене)
const pbr = new THREE.MeshStandardMaterial({
  color: 0x7c4dff,
  metalness: 0.8,    // металличность 0-1
  roughness: 0.2     // шероховатость 0-1
});

// Ambient — рассеянный свет (нет теней, освещает всё равномерно)
const ambient = new THREE.AmbientLight(0xffffff, 0.3);
scene.add(ambient);

// Directional — направленный (как солнце, параллельные лучи)
const sun = new THREE.DirectionalLight(0x7c4dff, 2);
sun.position.set(5, 5, 5);
scene.add(sun);

// Point — точечный (как лампочка, убывает с расстоянием)
const lamp = new THREE.PointLight(0x00e5ff, 3, 10);
lamp.position.set(-3, 2, 0);
scene.add(lamp);</code>`
      },
      {
        icon:'🚫',
        h:'Топ-5 ошибок новичков в 3D',
        body:`<strong style="color:var(--red)">1. Создают геометрию внутри цикла анимации</strong>
<code style="color:var(--red);font-family:'JetBrains Mono',monospace;font-size:12px">// ❌ new THREE.SphereGeometry() создаётся 60 раз в секунду!</code>
Создавай один раз, переиспользуй.

<strong style="color:var(--red)">2. Не dispose() ресурсы</strong>
Геометрии и текстуры живут в GPU. Если не освобождать — утечка памяти.
<code style="color:var(--green);font-family:'JetBrains Mono',monospace;font-size:12px">geometry.dispose(); material.dispose(); texture.dispose();</code>

<strong style="color:var(--red)">3. devicePixelRatio без ограничения</strong>
На Pro Display XDR это 3x — рендер в 9 раз тяжелее обычного.
<code style="color:var(--green);font-family:'JetBrains Mono',monospace;font-size:12px">renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));</code>

<strong style="color:var(--red)">4. Один огромный mesh вместо инстансинга</strong>
Тысячи частиц = тысячи draw calls. Используй <code style="color:var(--cyan)">InstancedMesh</code>.

<strong style="color:var(--red)">5. Не отключают анимацию на скрытой вкладке</strong>
<code style="color:var(--green);font-family:'JetBrains Mono',monospace;font-size:12px">document.addEventListener('visibilitychange', () => { hidden = document.hidden; });</code>`
      }
    ]
  },
  {
    id:'performance',
    tab:'Оптимизация',
    color:'var(--green)',
    title:'Производительность: почему сайт тупит и как исправить',
    intro:'Красивый сайт который тупит — не красивый. Вот конкретные причины и конкретные решения.',
    blocks:[
      {
        icon:'📏',
        h:'Главный враг — Layout Thrashing',
        body:`Layout Thrashing — когда ты читаешь и записываешь DOM в одном цикле. Браузер вынужден пересчитывать layout на каждую операцию.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">// ❌ Плохо — thrashing: 1000 reflow вместо одного
elements.forEach(el => {
  const height = el.offsetHeight; // читаем — браузер считает layout
  el.style.height = height * 2 + 'px'; // пишем — layout сброшен
  // на следующей итерации снова читаем → новый reflow
});

// ✅ Хорошо — читаем всё, потом пишем всё
const heights = elements.map(el => el.offsetHeight); // 1 reflow
elements.forEach((el, i) => {
  el.style.height = heights[i] * 2 + 'px'; // только запись
});</code>`
      },
      {
        icon:'🖼️',
        h:'Изображения — самое медленное на сайте',
        body:`<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0"><!-- ❌ Плохо -->
&lt;img src="photo.jpg" width="800" height="600"&gt;

<!-- ✅ Хорошо — lazy loading + правильный формат + размеры -->
&lt;img
  src="photo.webp"
  loading="lazy"
  width="800"
  height="600"
  alt="описание"
  decoding="async"
&gt;

/* CSS — не используй background-image для важных картинок */
/* Браузер не знает когда их загружать */</code>

<strong style="color:var(--gold)">Правило:</strong> всегда указывай <code style="color:var(--cyan)">width</code> и <code style="color:var(--cyan)">height</code> на <code>&lt;img&gt;</code>. Иначе браузер не знает размер до загрузки — происходит Cumulative Layout Shift (прыжок контента).`
      },
      {
        icon:'⚡',
        h:'CSS will-change — подсказка для GPU',
        body:`<code style="color:var(--cyan)">will-change</code> сообщает браузеру что элемент будет анимироваться. Браузер переносит его на отдельный GPU слой заранее.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">/* Только для элементов которые реально анимируются */
.animated-card {
  will-change: transform, opacity;
}

/* Убираем после анимации — GPU слой занимает VRAM */
el.addEventListener('animationend', () => {
  el.style.willChange = 'auto';
});

/* ❌ НЕ делай так — это вешает всё на GPU */
* { will-change: transform; }</code>

<strong style="color:var(--gold)">Когда использовать:</strong> только для элементов с постоянной анимацией (cursor trail, canvas overlay, fixed nav при скролле).`
      },
      {
        icon:'🔍',
        h:'Intersection Observer — скролл без боли',
        body:`Не слушай событие <code style="color:var(--red)">scroll</code> для определения видимости. Это убивает производительность. Используй Intersection Observer.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">// ❌ Плохо
window.addEventListener('scroll', () => {
  elements.forEach(el => {
    const rect = el.getBoundingClientRect(); // reflow на каждый скролл
    if (rect.top < window.innerHeight) {
      el.classList.add('visible');
    }
  });
});

// ✅ Хорошо — браузер сам отслеживает, без reflow
const io = new IntersectionObserver((entries) => {
  entries.forEach(({ target, isIntersecting }) => {
    if (isIntersecting) {
      target.classList.add('visible');
      io.unobserve(target); // отписываемся — нет смысла следить дальше
    }
  });
}, {
  threshold: 0.15,    // видно 15% элемента
  rootMargin: '0px 0px -50px 0px' // срабатывает чуть раньше
});

document.querySelectorAll('.fade-in').forEach(el => io.observe(el));</code>`
      }
    ]
  },
  {
    id:'mistakes',
    tab:'Ошибки новичков',
    color:'var(--red)',
    title:'10 ошибок новичков которые видно сразу',
    intro:'Опытный разработчик открывает devtools и за 30 секунд видит всё. Вот что он видит и почему это плохо.',
    blocks:[
      {
        icon:'❌',
        h:'1. Нет box-sizing: border-box',
        body:`Если в начале файла нет этой строки — код писал новичок.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">/* Первые строки ЛЮБОГО CSS файла */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}</code>

Без этого padding "выдвигает" элементы наружу и вся сетка разъезжается.`
      },
      {
        icon:'❌',
        h:'2. Магические числа везде',
        body:`<code style="color:var(--red)">margin-top: 73px</code> — что это такое? Откуда 73?

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">/* ❌ Плохо — магические числа */
.section { margin-top: 73px; }

/* ✅ Хорошо — система переменных */
:root {
  --nav-height: 64px;
  --space-section: 80px;
}
.section { margin-top: var(--nav-height); }</code>`
      },
      {
        icon:'❌',
        h:'3. !important везде',
        body:`Если в коде 10+ <code style="color:var(--red)">!important</code> — разработчик не понимает специфичность CSS и борется с ней силой.

Специфичность: <code style="color:var(--cyan)">id</code> (100) > <code style="color:var(--cyan)">class</code> (10) > <code style="color:var(--cyan)">tag</code> (1). Если стиль не применяется — увеличь специфичность правильно, не через !important.`
      },
      {
        icon:'❌',
        h:'4. Inline стили в HTML',
        body:`<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--red);line-height:1.8;margin:10px 0">&lt;div style="color:red;font-size:16px;margin:20px;padding:10px"&gt;</code>

Это нечитаемо, непереиспользуемо, перебивает все стили. Единственное исключение — динамические значения из JS (позиция курсора, прогресс анимации).`
      },
      {
        icon:'❌',
        h:'5. Абсолютные единицы для шрифтов',
        body:`<code style="color:var(--red)">font-size: 16px</code> — переопределяет настройки доступности пользователя.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">/* ❌ Плохо */
body { font-size: 16px; }
h1 { font-size: 48px; }

/* ✅ Хорошо */
html { font-size: 100%; }   /* = системный размер пользователя */
h1 { font-size: clamp(1.8rem, 5vw, 3rem); }</code>`
      },
      {
        icon:'❌',
        h:'6. Анимации через margin/top/left',
        body:`Самая дорогая анимация — изменение геометрии.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">/* ❌ Вызывает reflow на каждый кадр */
@keyframes slide {
  from { left: -100px; }
  to { left: 0; }
}

/* ✅ Только GPU, без reflow */
@keyframes slide {
  from { transform: translateX(-100px); }
  to { transform: translateX(0); }
}</code>`
      },
      {
        icon:'❌',
        h:'7. Не думают о мобильных',
        body:`Дизайн только для десктопа в 2025 — это провал. Больше половины трафика — мобильные.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">/* Mobile-first подход */
.grid {
  display: grid;
  grid-template-columns: 1fr; /* мобильный — 1 колонка */
}

@media (min-width: 768px) {
  .grid { grid-template-columns: repeat(2, 1fr); }
}

@media (min-width: 1200px) {
  .grid { grid-template-columns: repeat(3, 1fr); }
}</code>

Canvas 3D и тяжёлые анимации — проверяй производительность на телефоне, а не только в Chrome DevTools.`
      },
      {
        icon:'❌',
        h:'8. Не используют семантику HTML',
        body:`<code style="color:var(--red)">div div div div div</code> — не HTML, это кисель. Семантика важна для SEO и доступности.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">/* ❌ */
&lt;div class="header"&gt;
  &lt;div class="nav"&gt;
    &lt;div class="nav-item"&gt;Главная&lt;/div&gt;

/* ✅ */
&lt;header&gt;
  &lt;nav&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href="/"&gt;Главная&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/nav&gt;
&lt;/header&gt;

/* Другие семантические теги */
&lt;main&gt;, &lt;section&gt;, &lt;article&gt;, &lt;aside&gt;, &lt;footer&gt;
&lt;h1&gt;-&lt;h6&gt; по иерархии, не по размеру шрифта!</code>`
      },
      {
        icon:'❌',
        h:'9. Одна гигантская функция',
        body:`Функция на 300 строк — это не функция, это хаос.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">// ❌ Плохо — монолит
function doEverything() {
  // 300 строк...
}

// ✅ Хорошо — одна функция = одна задача
function createParticle(x, y) { return { x, y, vx: rand(), vy: rand() }; }
function updateParticle(p) { p.x += p.vx; p.y += p.vy; }
function drawParticle(ctx, p) { ctx.arc(p.x, p.y, p.r, 0, Math.PI*2); }

function animate() {
  particles.forEach(p => { updateParticle(p); drawParticle(ctx, p); });
  requestAnimationFrame(animate);
}</code>`
      },
      {
        icon:'❌',
        h:'10. Не открывают DevTools',
        body:`DevTools — главный инструмент. Если ты не пользуешься этими вкладками — ты работаешь вслепую:

<strong style="color:var(--cyan)">Elements</strong> — видишь DOM в реальном времени, меняешь стили мгновенно
<strong style="color:var(--cyan)">Console</strong> — все ошибки JS, <code>console.log()</code>, тестирование кода
<strong style="color:var(--cyan)">Network</strong> — видишь что грузится и сколько весит
<strong style="color:var(--cyan)">Performance</strong> — записываешь запись, видишь reflows, long tasks
<strong style="color:var(--cyan)">Lighthouse</strong> — оценка производительности, SEO, доступности

Горячая клавиша: <strong style="color:var(--gold)">F12</strong> или <strong style="color:var(--gold)">Cmd+Option+I</strong> на Mac`
      }
    ]
  },
  {
    id:'3d-canvas',
    tab:'3D и Canvas',
    color:'var(--acc)',
    title:'3D в браузере: Canvas 2D vs Three.js vs WebGL',
    intro:'Три инструмента — три уровня контроля. Canvas 2D — рисование. Three.js — 3D без боли. WebGL — полный контроль над GPU.',
    blocks:[
      {
        icon:'🎨',
        h:'Canvas 2D — рисуем как на листе бумаги',
        body:`Canvas 2D — самый простой способ делать кастомную графику. Ты рисуешь через JS команды: <code style="color:var(--cyan)">arc()</code>, <code style="color:var(--cyan)">fillRect()</code>, <code style="color:var(--cyan)">lineTo()</code>.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">const canvas = document.getElementById('cv');
const ctx    = canvas.getContext('2d');

// Фон
ctx.fillStyle = '#02020a';
ctx.fillRect(0, 0, canvas.width, canvas.height);

// Круг с градиентом
const grad = ctx.createRadialGradient(200, 200, 0, 200, 200, 80);
grad.addColorStop(0, 'rgba(124,77,255,0.8)');
grad.addColorStop(1, 'rgba(124,77,255,0)');
ctx.fillStyle = grad;
ctx.beginPath();
ctx.arc(200, 200, 80, 0, Math.PI * 2);
ctx.fill();</code>

<strong style="color:var(--gold)">Когда Canvas 2D:</strong> системы частиц, звёзды, туманности, нестандартные эффекты без 3D. Лёгкий, встроен в браузер, не нужен CDN.`
      },
      {
        icon:'🌐',
        h:'Three.js — 3D без написания шейдеров',
        body:`Three.js — библиотека над WebGL. Ты работаешь с высокоуровневыми объектами: <code style="color:var(--cyan)">Mesh</code>, <code style="color:var(--cyan)">Light</code>, <code style="color:var(--cyan)">Camera</code>.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">// Минимальная Three.js сцена
const scene    = new THREE.Scene();
const camera   = new THREE.PerspectiveCamera(75, W/H, 0.1, 100);
const renderer = new THREE.WebGLRenderer({ antialias: true });

camera.position.z = 3;

const mesh = new THREE.Mesh(
  new THREE.IcosahedronGeometry(1, 4),   // геометрия
  new THREE.MeshStandardMaterial({ color: 0x7c4dff }) // материал
);
scene.add(mesh);

// Освещение обязательно для MeshStandard
scene.add(new THREE.DirectionalLight(0xffffff, 1));
scene.add(new THREE.AmbientLight(0xffffff, 0.3));

function animate() {
  mesh.rotation.y += 0.01;
  renderer.render(scene, camera);
  requestAnimationFrame(animate);
}
animate();</code>

<strong style="color:var(--gold)">Когда Three.js:</strong> 3D модели, интерактивные 3D hero, wireframe сцены, постпроцессинг (bloom, glitch).`
      },
      {
        icon:'⚡',
        h:'WebGL шейдеры — максимальный контроль',
        body:`WebGL шейдеры — программы на GLSL которые выполняются прямо на GPU. Тысячи элементов без просадок FPS.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">// Vertex shader — позиция каждой вершины
const vertexShader = \`
  attribute vec3 position;
  uniform float time;

  void main() {
    vec3 pos = position;
    pos.y += sin(pos.x * 3.0 + time) * 0.2; // волна
    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
  }
\`;

// Fragment shader — цвет каждого пикселя
const fragmentShader = \`
  uniform float time;
  void main() {
    gl_FragColor = vec4(0.48, 0.30, 1.0, 1.0); // фиолетовый
  }
\`;</code>

<strong style="color:var(--gold)">Когда шейдеры:</strong> кастомные материалы, процедурные эффекты, 100 000+ частиц. Three.js поддерживает кастомные шейдеры через <code style="color:var(--cyan)">ShaderMaterial</code>.`
      },
      {
        icon:'🔀',
        h:'Когда что выбрать: дерево решений',
        body:`<strong style="color:var(--cyan)">Нужны частицы, звёзды, 2D эффекты?</strong>
→ Canvas 2D. Просто, без зависимостей.

<strong style="color:var(--cyan)">Нужна 3D геометрия, объекты, камера?</strong>
→ Three.js. Огромное сообщество, примеры для всего.

<strong style="color:var(--cyan)">Нужны кастомные материалы или 10k+ объектов без потери FPS?</strong>
→ Three.js + ShaderMaterial (GLSL).

<strong style="color:var(--cyan)">Нужен Vaporwave фон быстро?</strong>
→ Vanta.js (обёртка над Three.js). 1 функция.

<strong style="color:var(--cyan)">Нужны анимированные SVG формы?</strong>
→ GSAP + SVG morphing.

<strong style="color:var(--gold)">Маршрут изучения:</strong> Canvas 2D → Three.js базовый → GLSL шейдеры → WebGPU (будущее)`
      },
      {
        icon:'🚀',
        h:'Performance в Canvas: почему тупит и как починить',
        body:`Главные причины лагов в Canvas анимациях:

<strong style="color:var(--red)">1. Создание объектов в каждом кадре</strong>
<code style="display:block;background:var(--s2);padding:12px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--red);margin:8px 0">// ❌ Создаём gradient каждый кадр = куча мусора для GC
function draw() {
  const grad = ctx.createRadialGradient(...); // медленно
}</code>
<code style="display:block;background:var(--s2);padding:12px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--green);margin:8px 0">// ✅ Создаём один раз вне цикла
const grad = ctx.createRadialGradient(...);
function draw() { ctx.fillStyle = grad; }</code>

<strong style="color:var(--red)">2. Отрисовка за пределами viewport</strong>
Добавь проверку: рисуй частицу только если она видна.
<code style="display:block;background:var(--s2);padding:12px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--green);margin:8px 0">if (p.x > -p.r && p.x < W + p.r &&
    p.y > -p.r && p.y < H + p.r) {
  ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
  ctx.fill();
}</code>

<strong style="color:var(--red)">3. Не используют will-change</strong>
<code style="display:block;background:var(--s2);padding:12px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--green);margin:8px 0">canvas { will-change: transform; } /* подсказка браузеру переместить в GPU */</code>`
      }
    ]
  },
  {
    id:'engines-cms',
    tab:'Движки и CMS',
    color:'var(--green)',
    title:'Движки, фреймворки и CMS: что, когда и зачем',
    intro:'React, Vue, WordPress, Webflow, Ghost — у каждого свой сценарий. Неправильный выбор = месяцы потерянного времени.',
    blocks:[
      {
        icon:'⚛️',
        h:'React — компонентный подход',
        body:`React — библиотека для создания интерфейсов из компонентов. Каждый компонент = кусок UI + его логика.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">// Компонент = функция которая возвращает JSX
function ProductCard({ name, price, image }) {
  const [inCart, setInCart] = useState(false);

  return (
    &lt;div className="card"&gt;
      &lt;img src={image} alt={name} /&gt;
      &lt;h3&gt;{name}&lt;/h3&gt;
      &lt;p&gt;{price}₽&lt;/p&gt;
      &lt;button onClick={() => setInCart(!inCart)}&gt;
        {inCart ? '✓ В корзине' : 'Купить'}
      &lt;/button&gt;
    &lt;/div&gt;
  );
}</code>

<strong style="color:var(--gold)">Когда React:</strong> большие SPA (Single Page App), дашборды, соцсети, e-commerce с десятками компонентов.
<strong style="color:var(--red)">Когда НЕ React:</strong> простой лендинг, блог, портфолио — избыточно. Чистый HTML быстрее.`
      },
      {
        icon:'🎯',
        h:'Когда чистый HTML/CSS/JS лучше фреймворка',
        body:`Разработчики часто переусложняют. Портфолио на React с 15 зависимостями — это 300KB бандл ради 5 страниц.

<strong style="color:var(--green)">Чистый HTML выигрывает если:</strong>
→ Лендинг, портфолио, визитка
→ Нужна максимальная скорость загрузки
→ SEO критичен (SSG или статика = идеально)
→ Команда 1 человек и нет сложной логики
→ Уникальный визуал с Three.js / Canvas — фреймворки тут только мешают

<strong style="color:var(--gold)">Реальное правило:</strong> если ты не знаешь зачем тебе React — тебе не нужен React. Начни с HTML, добавь фреймворк когда почувствуешь реальную боль без него.`
      },
      {
        icon:'📝',
        h:'WordPress vs Headless vs Статика',
        body:`<strong style="color:var(--cyan)">WordPress (классика)</strong>
Страницы редактирует менеджер через UI. PHP генерирует HTML на сервере. 43% всех сайтов мира.
Минусы: медленно без кеша, уязвимости, плагинный ад.

<strong style="color:var(--cyan)">Headless CMS (Contentful, Sanity, Strapi)</strong>
CMS хранит контент, ты делаешь фронт на React/Next.js.
Плюс: полная свобода дизайна. Минус: нужен разработчик.

<strong style="color:var(--cyan)">Статические генераторы (Astro, Hugo, Eleventy)</strong>
Генерируют HTML файлы на CI/CD. Деплой на Netlify/Vercel.
Плюс: максимальная скорость, бесплатный хостинг, идеальный SEO.
Минус: динамический контент усложняется.

<strong style="color:var(--gold)">Совет:</strong> для лендингов и портфолио — Astro или чистый HTML на GitHub Pages. Для блогов с менеджером — WordPress или Notion + Super.so.`
      },
      {
        icon:'🛒',
        h:'E-commerce: Shopify vs кастомный',
        body:`<strong style="color:var(--cyan)">Shopify</strong>
Готовый магазин за часы. Оплаты, доставка, аналитика из коробки.
Плюсы: быстро, надёжно, не нужен бэкенд.
Минусы: 2-3% комиссия, ограниченная кастомизация дизайна, дорого при масштабе.

<strong style="color:var(--cyan)">Кастомный на Next.js + Stripe</strong>
Полный контроль: дизайн, логика, нет комиссии платформы.
Плюсы: любой дизайн, только Stripe комиссия (~1.4% + 25р).
Минусы: нужен бэкенд разработчик, время на разработку.

<strong style="color:var(--gold)">Правило:</strong> до 100 товаров и без уникальной логики — Shopify. Уникальная бизнес-логика, свои интеграции — кастом.`
      }
    ]
  },
  {
    id:'lifehacks',
    tab:'Лайфхаки',
    color:'var(--gold)',
    title:'Лайфхаки которые ускоряют работу в 3 раза',
    intro:'Трюки которые ты не найдёшь в туториалах. Собраны из реальной практики — не из документации.',
    blocks:[
      {
        icon:'⚡',
        h:'clamp() — адаптив без медиазапросов',
        body:`<code style="color:var(--cyan)">clamp(min, preferred, max)</code> — один из самых мощных инструментов CSS.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">/* Заголовок масштабируется от 32px до 90px */
h1 { font-size: clamp(32px, 7vw, 90px); }

/* Отступы тоже */
.section { padding: clamp(40px, 8vw, 100px) clamp(16px, 4vw, 48px); }

/* Gap в grid */
.grid { gap: clamp(12px, 2vw, 32px); }

/* Как читать clamp(min, preferred, max):
   - если 7vw < 32px → используем 32px
   - если 7vw > 90px → используем 90px
   - иначе → 7vw */</code>

Один <code style="color:var(--cyan)">clamp()</code> заменяет 3-5 медиазапросов. Это не экзотика — это стандарт современной вёрстки.`
      },
      {
        icon:'🎨',
        h:'CSS Custom Properties как дизайн-система',
        body:`Переменные CSS — не просто удобство. Это архитектура.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">:root {
  /* Цвета */
  --accent: #7c4dff;
  --bg:     #02020a;

  /* Типографика */
  --text-xs:  clamp(10px, 1.5vw, 12px);
  --text-sm:  clamp(12px, 1.8vw, 14px);
  --text-base:clamp(14px, 2vw,   16px);
  --text-lg:  clamp(18px, 3vw,   24px);

  /* Spacing */
  --space-xs: 8px;
  --space-sm: 16px;
  --space-md: 32px;
  --space-lg: 64px;

  /* Тёмная тема — просто меняем переменные */
}

[data-theme="light"] {
  --bg:     #f5f5f7;
  --accent: #5c3aff;
}</code>

Тёмная тема без дублирования кода: меняешь переменные в <code style="color:var(--cyan)">[data-theme]</code>, всё остальное подхватывается автоматически.`
      },
      {
        icon:'🔮',
        h:'IntersectionObserver: замена scroll listener',
        body:`<code style="color:var(--red)">window.addEventListener('scroll', ...)</code> — плохо. Срабатывает на КАЖДЫЙ пиксель прокрутки, блокирует поток.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">// ✅ IntersectionObserver — срабатывает только при появлении
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('visible');
      observer.unobserve(entry.target); // останавливаем после появления
    }
  });
}, {
  threshold: 0.15, // элемент видимость > 15%
  rootMargin: '-50px 0px', // смещаем зону срабатывания
});

// Наблюдаем за всеми элементами
document.querySelectorAll('.reveal').forEach(el => observer.observe(el));</code>

<code style="display:block;background:var(--s2);padding:12px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);margin:8px 0">.reveal {
  opacity: 0;
  transform: translateY(24px);
  transition: opacity .7s ease, transform .7s ease;
}
.reveal.visible { opacity: 1; transform: none; }</code>`
      },
      {
        icon:'📦',
        h:'Lazy loading изображений нативно',
        body:`Один атрибут — изображения загружаются только когда пользователь докручивает до них.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">&lt;img src="hero.jpg" loading="eager"&gt; &lt;!-- первый экран — грузим сразу --&gt;
&lt;img src="section2.jpg" loading="lazy"&gt; &lt;!-- остальные — лениво --&gt;

&lt;!-- Для iframe тоже работает --&gt;
&lt;iframe src="..." loading="lazy"&gt;&lt;/iframe&gt;

&lt;!-- Для предзагрузки критичных ресурсов --&gt;
&lt;link rel="preload" href="hero-font.woff2" as="font" crossorigin&gt;
&lt;link rel="preconnect" href="https://fonts.googleapis.com"&gt;</code>

Это бесплатный прирост производительности. Lighthouse Opportunities покажет все неоптимизированные изображения.`
      },
      {
        icon:'🎯',
        h:'Débounce и Throttle — контроль частоты событий',
        body:`Resize и scroll стреляют 60+ раз в секунду. Дорогие операции в обработчиках = тормоза.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">// Debounce — ждёт паузы (для поиска, resize)
function debounce(fn, delay) {
  let timer;
  return (...args) => {
    clearTimeout(timer);
    timer = setTimeout(() => fn(...args), delay);
  };
}

// Throttle — ограничивает частоту (для scroll, mousemove)
function throttle(fn, limit) {
  let last = 0;
  return (...args) => {
    const now = Date.now();
    if (now - last >= limit) { last = now; fn(...args); }
  };
}

// Использование
window.addEventListener('resize', debounce(handleResize, 200));
window.addEventListener('scroll', throttle(handleScroll, 16), { passive: true });</code>`
      },
      {
        icon:'🌈',
        h:'hsl() и oklch() — цвета которые работают',
        body:`Прекрати хардкодить hex. <code style="color:var(--cyan)">hsl()</code> — программируемые цвета.

<code style="display:block;background:var(--s2);padding:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:1.8;margin:10px 0">/* Основной цвет и его вариации */
:root {
  --hue: 260; /* меняем один параметр — меняем всю палитру */
  --accent:      hsl(var(--hue) 70% 60%);
  --accent-dim:  hsl(var(--hue) 70% 60% / .15);
  --accent-dark: hsl(var(--hue) 70% 40%);
}

/* JS — генерация палитры */
function generatePalette(hue) {
  return {
    base:  \`hsl(\${hue} 70% 60%)\`,
    light: \`hsl(\${hue} 70% 80%)\`,
    dark:  \`hsl(\${hue} 70% 30%)\`,
    bg:    \`hsl(\${hue} 30% 8%)\`,
  };
}

/* oklch() — новый стандарт, перцептуально равномерный */
/* Одинаковый L = одинаковая воспринимаемая яркость */
.oklch-demo { color: oklch(60% 0.3 270); } /* фиолетовый */</code>`
      }
    ]
  }
];

const MANUAL_STYLES = `
  <style id="manual-styles">
    #man-tabs { display:flex;flex-wrap:wrap;gap:8px;margin-bottom:40px }
    .man-tab {
      font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.15em;text-transform:uppercase;
      padding:8px 18px;border:1px solid var(--b1);color:var(--t3);background:transparent;
      cursor:none;transition:all .2s
    }
    .man-tab:hover { color:var(--t1);border-color:var(--b2) }
    .man-tab.on { color:var(--bg);border-color:transparent }
    .man-chapter { animation: fadeUp .4s ease both }
    @keyframes fadeUp { from{opacity:0;transform:translateY(16px)} to{opacity:1;transform:translateY(0)} }
    .man-title { font-family:'Unbounded',sans-serif;font-size:clamp(22px,4vw,36px);font-weight:900;margin-bottom:12px;line-height:1.1 }
    .man-intro { font-family:'JetBrains Mono',monospace;font-size:13px;color:var(--t2);line-height:1.8;margin-bottom:40px;max-width:660px;border-left:3px solid var(--acc);padding-left:16px }
    .man-block { margin-bottom:40px;padding:28px;background:var(--s2);border:1px solid var(--b1) }
    .man-block-header { display:flex;align-items:center;gap:14px;margin-bottom:16px }
    .man-block-icon { font-size:28px;line-height:1 }
    .man-block-h { font-family:'Syne',sans-serif;font-size:18px;font-weight:700;color:var(--t1) }
    .man-block-body { font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--t2);line-height:2 }
    .man-block-body code { color:var(--cyan);background:rgba(0,229,255,.06);padding:1px 6px }
    .man-block-body strong { color:var(--t1) }
  </style>
`;

function initManual() {
  manualInited = true;

  // Inject styles once
  if (!document.getElementById('manual-styles')) {
    document.head.insertAdjacentHTML('beforeend', MANUAL_STYLES);
  }

  const tabsEl = document.getElementById('man-tabs');
  const contentEl = document.getElementById('man-content');

  // Render tabs
  tabsEl.innerHTML = MANUAL_CHAPTERS.map((ch, i) =>
    `<button class="man-tab${i===0?' on':''}" style="${i===0?'background:'+ch.color+';color:var(--bg)':''}" onclick="showChapter(${i},this,'${ch.color}')">${ch.tab}</button>`
  ).join('');

  showChapter(0, tabsEl.querySelector('.man-tab'), MANUAL_CHAPTERS[0].color);
}

function showChapter(idx, btn, color) {
  document.querySelectorAll('.man-tab').forEach((t,i) => {
    t.classList.remove('on');
    t.style.background = '';
    t.style.color = '';
  });
  btn.classList.add('on');
  btn.style.background = color;
  btn.style.color = 'var(--bg)';

  const ch = MANUAL_CHAPTERS[idx];
  const contentEl = document.getElementById('man-content');
  contentEl.innerHTML = `
    <div class="man-chapter">
      <div class="man-title" style="color:${ch.color}">${ch.title}</div>
      <div class="man-intro">${ch.intro}</div>
      ${ch.blocks.map(b => `
        <div class="man-block">
          <div class="man-block-header">
            <span class="man-block-icon">${b.icon}</span>
            <span class="man-block-h">${b.h}</span>
          </div>
          <div class="man-block-body">${b.body}</div>
        </div>
      `).join('')}
    </div>
  `;
}

/* ════════════════════════════════════
   INIT
════════════════════════════════════ */
if (localStorage.getItem('_bbprem') === '1') unlocked = true;
// Restore individually unlocked templates
try {
  const savedIds = JSON.parse(localStorage.getItem('_bbids') || '[]');
  savedIds.forEach(id => unlockedIds.add(id));
} catch(_) {}

/* ─── BURGER MENU ─── */
function toggleBurger() {
  const burger = document.getElementById('burger');
  const nav    = document.getElementById('main-nav');
  burger.classList.toggle('open');
  nav.classList.toggle('mob-menu');
  document.querySelectorAll('.nav-links a').forEach(a => {
    a.addEventListener('click', () => {
      burger.classList.remove('open');
      nav.classList.remove('mob-menu');
    }, { once: true });
  });
}

/* ─── SEARCH ─── */
(function initSearch() {
  const inp = document.getElementById('search-inp');
  const clearBtn = document.getElementById('search-clear');
  if (!inp) return;
  inp.addEventListener('input', () => {
    const q = inp.value.trim();
    clearBtn.style.display = q ? 'block' : 'none';
    performSearch(q);
  });
})();

function clearSearch() {
  const inp = document.getElementById('search-inp');
  inp.value = '';
  document.getElementById('search-clear').style.display = 'none';
  document.getElementById('search-count').style.display = 'none';
  document.getElementById('no-results').style.display = 'none';
  document.querySelectorAll('.tc').forEach(c => c.style.display = '');
}

function performSearch(q) {
  if (!q) { clearSearch(); return; }
  const lq = q.toLowerCase();
  let count = 0;
  document.querySelectorAll('.tc').forEach(card => {
    const name = (card.querySelector('.tc-name')?.textContent || '').toLowerCase();
    const desc = (card.querySelector('.tc-desc')?.textContent || '').toLowerCase();
    const tech = (card.querySelector('.tc-tech')?.textContent || '').toLowerCase();
    const match = name.includes(lq) || desc.includes(lq) || tech.includes(lq);
    card.style.display = match ? '' : 'none';
    if (match) count++;
  });
  const countEl = document.getElementById('search-count');
  const noRes   = document.getElementById('no-results');
  countEl.style.display = 'block';
  countEl.textContent = `Найдено: ${count} шаблон${count===1?'':count<5?'а':'ов'}`;
  noRes.style.display = count === 0 ? 'block' : 'none';
}

/* ─── LAZY PREVIEW ─── */
function makeLazyPreview(src, label) {
  return `<div class="tc-prev-lazy" onclick="loadLazyPreview(this,'${src}')">
    <div class="prev-placeholder">
      <span class="prev-icon">▶</span>
      <span class="prev-label">${label || 'Нажми для превью'}</span>
      <span class="prev-play">ЗАПУСТИТЬ ПРЕВЬЮ</span>
    </div>
    <iframe title="Preview" loading="lazy"></iframe>
  </div>`;
}

function loadLazyPreview(el, idOrSrc, isPrem) {
  const iframe = el.querySelector('iframe');
  if (el.classList.contains('loaded')) return;
  // idOrSrc can be template id or raw html src
  let html = '';
  if (typeof isPrem === 'undefined') {
    // Legacy: idOrSrc is raw html
    iframe.srcdoc = idOrSrc;
  } else if (!isPrem) {
    const t = FREE.find(f => f.id === idOrSrc);
    if (t) html = t.html;
    iframe.srcdoc = html;
  } else {
    html = PREM_PREV[idOrSrc] || `<html><body style='background:#0a0a10;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;gap:16px;font-family:monospace;color:rgba(240,238,255,.5)'><div style='font-size:64px'>⚡</div></body></html>`;
    iframe.srcdoc = html;
  }
  el.classList.add('loaded');
}

renderFree();
renderPrem();
filterPrem('all', document.querySelector('.fchip'));

/* ════════════════════════════════════
   CONFIGURATOR (CALCULATOR)
════════════════════════════════════ */
const CFG = {
  type: { val: 'landing', price: 8000, label: 'Лендинг' },
  speed: { val: 'std', price: 0, label: null },
  tech: {},   // key → {price, label}
  pages: {},  // key → {price, label}
  svcs: {}    // key → {price, label}
};

const CFG_LABELS = {
  landing: 'Лендинг', portfolio: 'Портфолио', corp: 'Корпоративный сайт',
  saas: 'SaaS / Продукт', shop: 'Интернет-магазин', blog: 'Блог / Медиа',
  std: null, fast: 'Срочность: быстро (+3–5 дн)', urgent: 'Срочность: 24–72ч',
  tech_3d: 'Three.js / 3D', tech_gsap: 'GSAP анимации', tech_canvas: 'Canvas 2D',
  tech_cursor: 'Кастомный курсор', tech_dark: 'Тёмная/светлая тема', tech_parallax: 'Parallax',
  page_about: 'О компании', page_services: 'Услуги / Прайс', page_cases: 'Кейсы / Портфолио',
  page_blog: 'Блог', page_faq: 'FAQ', page_contact: 'Контакты',
  svc_pay: 'Онлайн оплата', svc_tg: 'Telegram Bot', svc_crm: 'CRM интеграция',
  svc_analytic: 'Аналитика', svc_seo: 'SEO базовый', svc_multilang: 'Мультиязычность'
};

function cfgSelect(el) {
  const key = el.dataset.key;
  const siblings = el.parentElement.querySelectorAll('.cfg-card');
  siblings.forEach(s => s.classList.remove('on'));
  el.classList.add('on');
  const price = parseInt(el.dataset.price) || 0;
  const val   = el.dataset.val;
  if (key === 'type') {
    CFG.type = { val, price, label: CFG_LABELS[val] };
  } else if (key === 'speed') {
    CFG.speed = { val, price, label: CFG_LABELS[val] };
  }
  cfgRender();
}

function cfgToggleTech(el) {
  const key   = el.dataset.key;
  const price = parseInt(el.dataset.price) || 0;
  el.classList.toggle('on');
  if (el.classList.contains('on')) {
    CFG.tech[key] = { price, label: CFG_LABELS[key] };
  } else {
    delete CFG.tech[key];
  }
  cfgRender();
}

function cfgTogglePage(el) {
  if (!el.dataset.key) return;
  const key   = el.dataset.key;
  const price = parseInt(el.dataset.price) || 0;
  el.classList.toggle('on');
  if (el.classList.contains('on')) {
    CFG.pages[key] = { price, label: CFG_LABELS[key] };
  } else {
    delete CFG.pages[key];
  }
  cfgRender();
}

function cfgUpdateSvc(input) {
  const label_el = input.closest('.cfg-svc');
  const key   = label_el.dataset.key;
  const price = parseInt(label_el.dataset.price) || 0;
  label_el.classList.toggle('on', input.checked);
  if (input.checked) {
    CFG.svcs[key] = { price, label: CFG_LABELS[key] };
  } else {
    delete CFG.svcs[key];
  }
  cfgRender();
}

function cfgRender() {
  let total = CFG.type.price;
  const items = [{ label: CFG.type.label, price: CFG.type.price }];

  Object.values(CFG.tech).forEach(t => { total += t.price; items.push(t); });
  Object.values(CFG.pages).forEach(p => { total += p.price; items.push(p); });
  Object.values(CFG.svcs).forEach(s => { total += s.price; items.push(s); });

  if (CFG.speed.price) {
    total += CFG.speed.price;
    items.push(CFG.speed);
  }

  // Animate price
  const priceEl = document.getElementById('cfg-price');
  priceEl.textContent = total.toLocaleString('ru') + '₽';

  const itemsEl = document.getElementById('cfg-items');
  itemsEl.innerHTML = items.map(i => `
    <div class="cfg-item-row">
      <span>${i.label}</span>
      <span>${i.price.toLocaleString('ru')}₽</span>
    </div>`).join('');

  // Update note
  const note = document.getElementById('cfg-range');
  const techCount = Object.keys(CFG.tech).length;
  if (techCount >= 3) {
    note.textContent = '✦ Крутая сборка с интерактивным визуалом';
    note.style.color = 'var(--cyan)';
  } else if (total >= 40000) {
    note.textContent = '✦ Полноценный продукт под ключ';
    note.style.color = 'var(--gold)';
  } else {
    note.textContent = 'Финальная цена после брифинга';
    note.style.color = '';
  }
}

function cfgReset() {
  // Reset type to landing
  document.querySelectorAll('#cfg-type .cfg-card').forEach((c,i) => c.classList.toggle('on', i===0));
  CFG.type = { val: 'landing', price: 8000, label: 'Лендинг' };
  // Reset speed
  document.querySelectorAll('#cfg-timeline .cfg-card').forEach((c,i) => c.classList.toggle('on', i===0));
  CFG.speed = { val: 'std', price: 0, label: null };
  // Reset techs
  document.querySelectorAll('.cfg-tech').forEach(t => t.classList.remove('on'));
  CFG.tech = {};
  // Reset pages
  document.querySelectorAll('.cfg-page-row[data-key]').forEach(p => p.classList.remove('on'));
  CFG.pages = {};
  // Reset svcs
  document.querySelectorAll('.cfg-svc input').forEach(i => i.checked = false);
  document.querySelectorAll('.cfg-svc').forEach(s => s.classList.remove('on'));
  CFG.svcs = {};
  cfgRender();
}

function cfgOrder() {
  const price = document.getElementById('cfg-price').textContent;
  const items = [...document.querySelectorAll('#cfg-items .cfg-item-row')]
    .map(r => r.querySelector('span').textContent).join(', ');
  const msg = encodeURIComponent(`Привет! Хочу обсудить проект.\nСборка: ${items}\nОриентировочный бюджет: ${price}`);
  window.open(`https://t.me/beyond_birthdayLB?text=${msg}`, '_blank');
}

// Init
cfgRender();


/* ════════════════════════════════════
   BLOG ARTICLES
════════════════════════════════════ */
const ARTICLES = {
  art1: {
    tag: 'ГАЙД',
    title: 'Как выбрать шаблон для сферы услуг: полный чеклист',
    date: '15 февраля 2026',
    readTime: '8 мин',
    body: `
      <h2>Зачем вообще нужен чеклист?</h2>
      <p>Многие берут шаблон «по красоте» — понравился визуал, купил. А потом оказывается, что нет формы записи, нет галереи до/после, нет блока с ценами. Переделывать дороже, чем выбрать правильно с первого раза.</p>
      
      <h2>Универсальные требования для сферы услуг</h2>
      <p>Независимо от ниши, любой сайт услуг должен содержать следующее:</p>
      <ul>
        <li><strong style="color:var(--t1)">Форма захвата</strong> — запись, заявка, обратный звонок. Без этого сайт не работает.</li>
        <li><strong style="color:var(--t1)">Блок с ценами</strong> — клиент хочет знать стоимость до звонка.</li>
        <li><strong style="color:var(--t1)">Галерея работ</strong> — визуальное доказательство компетентности.</li>
        <li><strong style="color:var(--t1)">Отзывы</strong> — социальное доказательство. Не менее 3–5.</li>
        <li><strong style="color:var(--t1)">Контакты на видном месте</strong> — телефон, адрес, карта.</li>
      </ul>

      <div class="art-callout"><p>💡 <strong style="color:var(--t1)">Правило 3 секунд:</strong> посетитель за 3 секунды должен понять что это за сайт, что предлагается и как связаться. Если шаблон этого не даёт — ищи другой.</p></div>

      <h2>Чеклист по нишам</h2>
      <h3>Красота и здоровье (салон, барбершоп, клиника)</h3>
      <ul>
        <li>Онлайн-запись или кнопка «Записаться» в hero</li>
        <li>Портфолио/галерея работ (обязательно)</li>
        <li>Карточки мастеров с фото</li>
        <li>Прайс-лист или хотя бы диапазон цен</li>
        <li>Адрес + карта (люди ищут рядом с домом)</li>
      </ul>

      <h3>Юридические и финансовые услуги</h3>
      <ul>
        <li>Строгий, минималистичный дизайн — вызывает доверие</li>
        <li>Блок с кейсами/результатами (без имён)</li>
        <li>Чёткое описание специализации</li>
        <li>Форма первичной консультации</li>
      </ul>

      <h3>Ремонт, строительство, отделка</h3>
      <ul>
        <li>Галерея «До/После» — это главный аргумент</li>
        <li>Расчёт стоимости онлайн (хотя бы базовый)</li>
        <li>Видео-отзывы или скриншоты из мессенджеров</li>
        <li>Чёткое ГЕО — работаем в каком районе/городе</li>
      </ul>

      <div class="art-callout"><p>🎯 <strong style="color:var(--t1)">Из шаблонов BB.STUDIO</strong> для сферы услуг лучше всего подходят: Agency Landing, SaaS Dashboard (если нужен личный кабинет клиента), E-Commerce (для онлайн-записи с оплатой).</p></div>

      <h2>Итого</h2>
      <p>Перед покупкой шаблона пройди по чеклисту: форма, цены, галерея, отзывы, контакты. Если хотя бы два пункта отсутствуют — смотри другой вариант или будь готов к доработке. Хорошая новость: в шаблонах BB.STUDIO все эти блоки уже есть — остаётся только заменить контент на свой.</p>
    `
  },
  art2: {
    tag: 'СРАВНЕНИЕ',
    title: 'Tilda vs WordPress vs чистый HTML: что выбрать под шаблон',
    date: '8 февраля 2026',
    readTime: '6 мин',
    body: `
      <h2>Три пути — три разные истории</h2>
      <p>Когда покупаешь HTML-шаблон, первый вопрос: куда его ставить? Разберём три основных варианта — с реальными цифрами и честными минусами.</p>

      <h2>Чистый HTML на хостинге</h2>
      <p><strong style="color:var(--t1)">Стоимость:</strong> от 150₽/мес за хостинг + домен ~800₽/год.</p>
      <p><strong style="color:var(--t1)">Плюсы:</strong> максимальная скорость, полный контроль над кодом, никаких ограничений на JS/CSS, дёшево.</p>
      <p><strong style="color:var(--t1)">Минусы:</strong> нужно уметь работать с FTP или панелью хостинга, обновления контента только через код.</p>
      <div class="art-callout"><p>✅ <strong style="color:var(--t1)">Когда выбирать:</strong> разовый лендинг, портфолио, промо-страница. Меняется редко — один раз настроил и работает.</p></div>

      <h2>WordPress</h2>
      <p><strong style="color:var(--t1)">Стоимость:</strong> хостинг ~300–600₽/мес + тема/плагины.</p>
      <p><strong style="color:var(--t1)">Плюсы:</strong> удобный редактор контента, огромная экосистема плагинов, SEO из коробки (Yoast).</p>
      <p><strong style="color:var(--t1)">Минусы:</strong> HTML-шаблон нужно «конвертировать» в тему WordPress — это работа. Медленнее чистого HTML без оптимизации.</p>
      <div class="art-callout"><p>✅ <strong style="color:var(--t1)">Когда выбирать:</strong> блог, корпоративный сайт с частым обновлением контента, интернет-магазин (через WooCommerce).</p></div>

      <h2>Tilda</h2>
      <p><strong style="color:var(--t1)">Стоимость:</strong> от 1 000₽/мес на тарифе для одного сайта.</p>
      <p><strong style="color:var(--t1)">Плюсы:</strong> простой drag-and-drop, не нужен хостинг, встроенная аналитика.</p>
      <p><strong style="color:var(--t1)">Минусы:</strong> HTML-шаблоны туда не переносятся напрямую. Tilda — это другая экосистема. Zero Block позволяет кастомный HTML, но с ограничениями.</p>
      <div class="art-callout"><p>⚠️ <strong style="color:var(--t1)">Важно:</strong> если берёшь HTML-шаблон — Tilda не твой вариант. Чистый хостинг или GitHub Pages (бесплатно) — оптимальный выбор.</p></div>

      <h2>Вывод</h2>
      <p>Для HTML-шаблонов BB.STUDIO рекомендуем: чистый хостинг (Beget, Timeweb, REG.ru) или GitHub Pages (бесплатно для статики). Это сохраняет все анимации, Three.js и эффекты в полном объёме.</p>
    `
  },
  art3: {
    tag: 'СОВЕТЫ',
    title: '5 ошибок при кастомизации HTML-шаблона (и как их избежать)',
    date: '1 февраля 2026',
    readTime: '5 мин',
    body: `
      <h2>Купил — сломал — расстроился</h2>
      <p>Это классический сценарий. Шаблон красивый, но начинаешь «улучшать» — и что-то едет. Разбираем 5 самых частых ошибок.</p>

      <h2>Ошибка 1: Менять всё сразу</h2>
      <p>Новички открывают файл и начинают менять цвета, шрифты, структуру одновременно. В итоге непонятно что именно сломалось.</p>
      <div class="art-callout"><p>✅ <strong style="color:var(--t1)">Решение:</strong> один файл — один тип изменений. Сначала только текст, потом только цвета, потом структура. Так легко откатить.</p></div>

      <h2>Ошибка 2: Не делать бэкап</h2>
      <p>Скопировал папку шаблона? Нет? Вот и проблема. После «одного маленького изменения» часто нет пути назад.</p>
      <div class="art-code">// Перед любыми изменениями:
cp -r template/ template_backup/  
// или просто скопируй папку вручную</div>

      <h2>Ошибка 3: Удалять CSS переменные</h2>
      <p>CSS переменные в :root — это система цветов шаблона. Если менять цвет не через переменную, а напрямую в каждом элементе — потом всё будет вразнобой.</p>
      <div class="art-code">/* Правильно — меняй переменную: */
:root {
  --acc: #ff6b00; /* поменял акцент — везде обновится */
}

/* Неправильно — хардкодить в каждом элементе: */
.button { background: #ff6b00; }
.link { color: #ff6b00; }</div>

      <h2>Ошибка 4: Менять минифицированный CSS</h2>
      <p>Если в шаблоне есть style.min.css — это сжатая версия. Правь только исходный style.css, потом минифицируй если нужно.</p>

      <h2>Ошибка 5: Игнорировать мобилку</h2>
      <p>После кастомизации обязательно проверяй на телефоне. Длинный текст в навигации, большие картинки без min-height — всё это ломает мобильный вид.</p>
      <div class="art-callout"><p>🛠 <strong style="color:var(--t1)">Инструмент:</strong> DevTools (F12) → иконка телефона → выбери iPhone 14 Pro или Pixel 7. Проверяй после каждого крупного изменения.</p></div>
    `
  },
  art4: {
    tag: 'ТЕХНОЛОГИИ',
    title: 'Three.js для новичков: почему это не страшно',
    date: '25 января 2026',
    readTime: '7 мин',
    body: `
      <h2>Почему все боятся Three.js</h2>
      <p>«3D в браузере» звучит как что-то для Senior-разработчиков с тремя дипломами. На самом деле, минимальная рабочая сцена — это около 30 строк кода. Давай разберём их по одной.</p>

      <h2>Три кита Three.js</h2>
      <p>Любая Three.js сцена строится из трёх вещей: сцена (Scene), камера (Camera) и рендерер (Renderer).</p>
      <div class="art-code">// Сцена — это «мир» где живут объекты
const scene = new THREE.Scene();

// Камера — точка наблюдения
// 75 = угол обзора (FOV), как у широкоугольника
const camera = new THREE.PerspectiveCamera(75, 
  window.innerWidth / window.innerHeight, 
  0.1,  // ближняя граница видимости
  1000  // дальняя граница
);

// Рендерер — он рисует всё это в canvas
const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);</div>

      <h2>Добавляем объект</h2>
      <p>Объект = геометрия + материал + mesh (объединение). Геометрия — это форма, материал — внешний вид.</p>
      <div class="art-code">// Геометрия — куб 1x1x1
const geometry = new THREE.BoxGeometry(1, 1, 1);

// Материал — базовый с цветом
const material = new THREE.MeshBasicMaterial({ 
  color: 0x7c4dff  // фиолетовый в hex
});

// Mesh = геометрия + материал = объект в сцене
const cube = new THREE.Mesh(geometry, material);
scene.add(cube); // добавляем в мир</div>

      <h2>Анимационный цикл</h2>
      <p>requestAnimationFrame — это как setInterval, только синхронизирован с обновлением экрана (60 раз/сек).</p>
      <div class="art-code">function animate() {
  requestAnimationFrame(animate); // запускаем снова
  
  cube.rotation.x += 0.01; // вращаем по X
  cube.rotation.y += 0.01; // вращаем по Y
  
  renderer.render(scene, camera); // рисуем кадр
}
animate(); // запускаем первый раз</div>

      <div class="art-callout"><p>🚀 <strong style="color:var(--t1)">Это весь минимум!</strong> Scene + Camera + Renderer + Geometry + Material + Mesh + animate(). Отсюда растут все флагманские шаблоны BB.STUDIO — мы просто добавляем больше объектов, постобработку и реакцию на мышь.</p></div>

      <h2>Следующий шаг</h2>
      <p>В шаблонах BB.STUDIO (3D Hero, Particle Galaxy) весь Three.js код полностью разобран с комментариями к каждой строке. Это лучший способ учиться — видеть работающий результат и понимать как он сделан.</p>
    `
  }
};

function openArticle(id) {
  const art = ARTICLES[id];
  if (!art) return;
  document.getElementById('art-content').innerHTML = `
    <div class="art-tag">${art.tag}</div>
    <div class="art-title">${art.title}</div>
    <div class="art-meta">${art.date} · ${art.readTime} чтения</div>
    <div class="art-body">${art.body}</div>
  `;
  document.getElementById('art-read-time').textContent = art.readTime + ' чтения';
  const ov = document.getElementById('blog-art-ov');
  ov.classList.add('open');
  ov.scrollTop = 0;
  document.body.style.overflow = 'hidden';
}

function closeArticle() {
  document.getElementById('blog-art-ov').classList.remove('open');
  document.body.style.overflow = '';
}

/* ════════════════════════════════════
   LIVE SOCIAL PROOF
════════════════════════════════════ */
(function() {
  const events = [
    { avatar:'🚀', text:'Артём купил SaaS Dashboard',      time:'2 мин назад · Москва' },
    { avatar:'🎨', text:'Диана открыла полный доступ',      time:'7 мин назад · СПб' },
    { avatar:'💼', text:'Михаил купил Agency Landing',      time:'12 мин назад · Казань' },
    { avatar:'✨', text:'Алина купила Portfolio Dark',       time:'18 мин назад · Новосибирск' },
    { avatar:'₿',  text:'Дмитрий купил Crypto Landing',     time:'25 мин назад · Екатеринбург' },
    { avatar:'🔥', text:'Павел открыл полный пакет',        time:'31 мин назад · Воронеж' },
    { avatar:'🌌', text:'Максим купил 3D Hero Pack',         time:'44 мин назад · Краснодар' },
    { avatar:'⚡', text:'Анна купила Particle Galaxy',      time:'1 ч назад · Самара' },
  ];

  let idx = 0;
  const toast    = document.getElementById('live-toast');
  const txtEl    = document.getElementById('toast-text');
  const timeEl   = document.getElementById('toast-time');
  const avatarEl = document.getElementById('toast-avatar');

  function showToast() {
    const ev = events[idx % events.length];
    idx++;
    avatarEl.textContent = ev.avatar;
    txtEl.textContent    = ev.text;
    timeEl.textContent   = ev.time;
    toast.style.transform = 'translateX(0)';
    setTimeout(() => { toast.style.transform = 'translateX(-120%)'; }, 4000);
  }

  // First show after 5s, then every 18s
  setTimeout(() => {
    showToast();
    setInterval(showToast, 18000);
  }, 5000);

  // Animate "сейчас смотрят" counter
  const onlineEl = document.getElementById('stat-online');
  if (onlineEl) {
    setInterval(() => {
      const v = 2 + Math.floor(Math.random() * 5);
      onlineEl.textContent = v;
    }, 12000);
  }
})();
function openOferta() {
  document.getElementById('oferta-ov').classList.add('open');
  document.body.style.overflow = 'hidden';
  return false;
}
function closeOferta() {
  document.getElementById('oferta-ov').classList.remove('open');
  document.body.style.overflow = '';
}

</script>

<!-- ═══ ОФЕРТА МОДАЛКА ═══ -->
<div class="oferta-ov" id="oferta-ov" onclick="if(event.target===this)closeOferta()">
  <div class="oferta-box">
    <div class="oferta-bar">
      <div class="oferta-bar-title">ПУБЛИЧНАЯ ОФЕРТА</div>
      <button class="oferta-close" onclick="closeOferta()">✕</button>
    </div>
    <div class="oferta-body">

      <div class="oferta-section">
        <div class="oferta-label">1. ОБЩИЕ ПОЛОЖЕНИЯ</div>
        <p>Настоящий документ является публичной офертой самозанятого <strong>Beyond Birthday</strong> (ИНН 680201874302) и содержит все существенные условия договора об оказании услуг / продажи цифровых товаров.</p>
        <p>Акцептом настоящей оферты является оплата услуг / товаров любым из предложенных способов. С момента оплаты считается, что договор заключён на условиях настоящей оферты.</p>
      </div>

      <div class="oferta-section">
        <div class="oferta-label">2. ПРЕДМЕТ ДОГОВОРА</div>
        <p>Исполнитель передаёт Покупателю неисключительные права на использование цифровых товаров (HTML/CSS/JS шаблоны) и/или оказывает услуги по разработке сайтов. Доступ открывается автоматически после подтверждения оплаты прямо на сайте.</p>
      </div>

      <div class="oferta-section">
        <div class="oferta-label">3. ЦЕНЫ И ОПЛАТА</div>
        <p>Стоимость указана на сайте в рублях РФ. Исполнитель применяет режим НПД — НДС не облагается. Оплата через Robokassa: карты МИР/Visa/MC, СБП, ЮMoney, SberPay.</p>
      </div>

      <div class="oferta-section">
        <div class="oferta-label">4. ВОЗВРАТ</div>
        <p><strong>Цифровые товары возврату не подлежат</strong> согласно п. 4 ст. 26.1 Закона РФ «О защите прав потребителей». При технических ошибках шаблона — исправление или замена в разумные сроки.</p>
      </div>

      <div class="oferta-section">
        <div class="oferta-label">5. ЛИЦЕНЗИЯ</div>
        <p>Покупатель получает <strong>неисключительную лицензию</strong>: использование для собственных и клиентских проектов разрешено. Запрещена перепродажа кода, распространение под своим именем, публикация в открытом доступе без согласования.</p>
      </div>

      <div class="oferta-section">
        <div class="oferta-label">6. ПЕРСОНАЛЬНЫЕ ДАННЫЕ</div>
        <p>При оплате — email и ФИО обрабатываются только для исполнения договора. Данные не передаются третьим лицам, кроме платёжного сервиса Robokassa.</p>
      </div>

      <div class="oferta-section" style="border:none">
        <div class="oferta-label">7. КОНТАКТЫ</div>
        <p>Самозанятый Beyond Birthday · ИНН 680201874302<br>
        Telegram: <a href="https://t.me/beyond_birthdayLB" target="_blank" style="color:var(--cyan)">@beyond_birthdayLB</a> · Срок ответа до 3 рабочих дней.</p>
        <p style="color:var(--t3);margin-top:12px;font-size:11px">Редакция от 01 января 2026 г.</p>
      </div>

    </div>
  </div>
</div>

</body>
</html>

